var vt=Object.defineProperty,gt=Object.defineProperties;var mt=Object.getOwnPropertyDescriptors;var ht=Object.getOwnPropertySymbols;var yt=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable;var pt=(t,e,r)=>e in t?vt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qe=(t,e)=>{for(var r in e||(e={}))yt.call(e,r)&&pt(t,r,e[r]);if(ht)for(var r of ht(e))Et.call(e,r)&&pt(t,r,e[r]);return t},ut=(t,e)=>gt(t,mt(e));const p$2=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}};p$2();function makeMap(t,e){const r=Object.create(null),n=t.split(",");for(let a=0;a<n.length;a++)r[n[a]]=!0;return e?a=>!!r[a.toLowerCase()]:a=>!!r[a]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}function normalizeStyle(t){if(isArray$5(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],a=isString$1(n)?parseStringStyle(n):normalizeStyle(n);if(a)for(const o in a)e[o]=a[o]}return e}else{if(isString$1(t))return t;if(isObject$5(t))return t}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(t){const e={};return t.split(listDelimiterRE).forEach(r=>{if(r){const n=r.split(propertyDelimiterRE);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function normalizeClass(t){let e="";if(isString$1(t))e=t;else if(isArray$5(t))for(let r=0;r<t.length;r++){const n=normalizeClass(t[r]);n&&(e+=n+" ")}else if(isObject$5(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function looseCompareArrays(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=looseEqual(t[n],e[n]);return r}function looseEqual(t,e){if(t===e)return!0;let r=isDate$1(t),n=isDate$1(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=isArray$5(t),n=isArray$5(e),r||n)return r&&n?looseCompareArrays(t,e):!1;if(r=isObject$5(t),n=isObject$5(e),r||n){if(!r||!n)return!1;const a=Object.keys(t).length,o=Object.keys(e).length;if(a!==o)return!1;for(const s in t){const l=t.hasOwnProperty(s),u=e.hasOwnProperty(s);if(l&&!u||!l&&u||!looseEqual(t[s],e[s]))return!1}}return String(t)===String(e)}function looseIndexOf(t,e){return t.findIndex(r=>looseEqual(r,e))}const toDisplayString=t=>isString$1(t)?t:t==null?"":isArray$5(t)||isObject$5(t)&&(t.toString===objectToString$4||!isFunction$4(t.toString))?JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>e&&e.__v_isRef?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,a])=>(r[`${n} =>`]=a,r),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$5(e)&&!isArray$5(e)&&!isPlainObject$1(e)?String(e):e,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=t=>onRE.test(t),isModelListener=t=>t.startsWith("onUpdate:"),extend$2=Object.assign,remove=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},hasOwnProperty$3=Object.prototype.hasOwnProperty,hasOwn=(t,e)=>hasOwnProperty$3.call(t,e),isArray$5=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isDate$1=t=>t instanceof Date,isFunction$4=t=>typeof t=="function",isString$1=t=>typeof t=="string",isSymbol$4=t=>typeof t=="symbol",isObject$5=t=>t!==null&&typeof t=="object",isPromise=t=>isObject$5(t)&&isFunction$4(t.then)&&isFunction$4(t.catch),objectToString$4=Object.prototype.toString,toTypeString=t=>objectToString$4.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject$1=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString$1(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize$1(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},def=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},toNumber$1=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let activeEffectScope;class EffectScope{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(e){if(this.active){const r=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.active=!1}}}function recordEffectScope(t,e=activeEffectScope){e&&e.active&&e.effects.push(t)}const createDep=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const a=e[n];wasTracked(a)&&!newTracked(a)?a.delete(t):e[r++]=a,a.w&=~trackOpBit,a.n&=~trackOpBit}e.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,n)}run(){if(!this.active)return this.fn();let e=activeEffect,r=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0}}stop(){this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track(t,e,r){if(shouldTrack&&activeEffect){let n=targetMap.get(t);n||targetMap.set(t,n=new Map);let a=n.get(r);a||n.set(r,a=createDep()),trackEffects(a)}}function trackEffects(t,e){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,r=!wasTracked(t)):r=!t.has(activeEffect),r&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger$1(t,e,r,n,a,o){const s=targetMap.get(t);if(!s)return;let l=[];if(e==="clear")l=[...s.values()];else if(r==="length"&&isArray$5(t))s.forEach((u,c)=>{(c==="length"||c>=n)&&l.push(u)});else switch(r!==void 0&&l.push(s.get(r)),e){case"add":isArray$5(t)?isIntegerKey(r)&&l.push(s.get("length")):(l.push(s.get(ITERATE_KEY)),isMap(t)&&l.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$5(t)||(l.push(s.get(ITERATE_KEY)),isMap(t)&&l.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&l.push(s.get(ITERATE_KEY));break}if(l.length===1)l[0]&&triggerEffects(l[0]);else{const u=[];for(const c of l)c&&u.push(...c);triggerEffects(createDep(u))}}function triggerEffects(t,e){for(const r of isArray$5(t)?t:[...t])(r!==activeEffect||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(isSymbol$4)),get$2=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=toRaw(this);for(let o=0,s=this.length;o<s;o++)track(n,"get",o+"");const a=n[e](...r);return a===-1||a===!1?n[e](...r.map(toRaw)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){pauseTracking();const n=toRaw(this)[e].apply(this,r);return resetTracking(),n}}),t}function createGetter(t=!1,e=!1){return function(n,a,o){if(a==="__v_isReactive")return!t;if(a==="__v_isReadonly")return t;if(a==="__v_isShallow")return e;if(a==="__v_raw"&&o===(t?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(n))return n;const s=isArray$5(n);if(!t&&s&&hasOwn(arrayInstrumentations,a))return Reflect.get(arrayInstrumentations,a,o);const l=Reflect.get(n,a,o);return(isSymbol$4(a)?builtInSymbols.has(a):isNonTrackableKeys(a))||(t||track(n,"get",a),e)?l:isRef(l)?!s||!isIntegerKey(a)?l.value:l:isObject$5(l)?t?readonly(l):reactive(l):l}}const set$2=createSetter(),shallowSet=createSetter(!0);function createSetter(t=!1){return function(r,n,a,o){let s=r[n];if(isReadonly(s)&&isRef(s)&&!isRef(a))return!1;if(!t&&!isReadonly(a)&&(isShallow(a)||(a=toRaw(a),s=toRaw(s)),!isArray$5(r)&&isRef(s)&&!isRef(a)))return s.value=a,!0;const l=isArray$5(r)&&isIntegerKey(n)?Number(n)<r.length:hasOwn(r,n),u=Reflect.set(r,n,a,o);return r===toRaw(o)&&(l?hasChanged(a,s)&&trigger$1(r,"set",n,a):trigger$1(r,"add",n,a)),u}}function deleteProperty(t,e){const r=hasOwn(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&r&&trigger$1(t,"delete",e,void 0),n}function has(t,e){const r=Reflect.has(t,e);return(!isSymbol$4(e)||!builtInSymbols.has(e))&&track(t,"has",e),r}function ownKeys(t){return track(t,"iterate",isArray$5(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}const mutableHandlers={get:get$2,set:set$2,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(t,e){return!0},deleteProperty(t,e){return!0}},shallowReactiveHandlers=extend$2({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function get$1$1(t,e,r=!1,n=!1){t=t.__v_raw;const a=toRaw(t),o=toRaw(e);e!==o&&!r&&track(a,"get",e),!r&&track(a,"get",o);const{has:s}=getProto(a),l=n?toShallow:r?toReadonly:toReactive;if(s.call(a,e))return l(t.get(e));if(s.call(a,o))return l(t.get(o));t!==a&&t.get(e)}function has$1(t,e=!1){const r=this.__v_raw,n=toRaw(r),a=toRaw(t);return t!==a&&!e&&track(n,"has",t),!e&&track(n,"has",a),t===a?r.has(t):r.has(t)||r.has(a)}function size(t,e=!1){return t=t.__v_raw,!e&&track(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add(t){t=toRaw(t);const e=toRaw(this);return getProto(e).has.call(e,t)||(e.add(t),trigger$1(e,"add",t,t)),this}function set$1$1(t,e){e=toRaw(e);const r=toRaw(this),{has:n,get:a}=getProto(r);let o=n.call(r,t);o||(t=toRaw(t),o=n.call(r,t));const s=a.call(r,t);return r.set(t,e),o?hasChanged(e,s)&&trigger$1(r,"set",t,e):trigger$1(r,"add",t,e),this}function deleteEntry(t){const e=toRaw(this),{has:r,get:n}=getProto(e);let a=r.call(e,t);a||(t=toRaw(t),a=r.call(e,t)),n&&n.call(e,t);const o=e.delete(t);return a&&trigger$1(e,"delete",t,void 0),o}function clear(){const t=toRaw(this),e=t.size!==0,r=t.clear();return e&&trigger$1(t,"clear",void 0,void 0),r}function createForEach(t,e){return function(n,a){const o=this,s=o.__v_raw,l=toRaw(s),u=e?toShallow:t?toReadonly:toReactive;return!t&&track(l,"iterate",ITERATE_KEY),s.forEach((c,f)=>n.call(a,u(c),u(f),o))}}function createIterableMethod(t,e,r){return function(...n){const a=this.__v_raw,o=toRaw(a),s=isMap(o),l=t==="entries"||t===Symbol.iterator&&s,u=t==="keys"&&s,c=a[t](...n),f=r?toShallow:e?toReadonly:toReactive;return!e&&track(o,"iterate",u?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:d,done:g}=c.next();return g?{value:d,done:g}:{value:l?[f(d[0]),f(d[1])]:f(d),done:g}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:this}}function createInstrumentations(){const t={get(o){return get$1$1(this,o)},get size(){return size(this)},has:has$1,add,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(o){return get$1$1(this,o,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(o){return get$1$1(this,o,!0)},get size(){return size(this,!0)},has(o){return has$1.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},n={get(o){return get$1$1(this,o,!0,!0)},get size(){return size(this,!0)},has(o){return has$1.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=createIterableMethod(o,!1,!1),r[o]=createIterableMethod(o,!0,!1),e[o]=createIterableMethod(o,!1,!0),n[o]=createIterableMethod(o,!0,!0)}),[t,r,e,n]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,e){const r=e?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(n,a,o)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?n:Reflect.get(hasOwn(r,a)&&a in n?r:n,a,o)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(t,e,r,n,a){if(!isObject$5(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=a.get(t);if(o)return o;const s=getTargetType(t);if(s===0)return t;const l=new Proxy(t,s===2?n:r);return a.set(t,l),l}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject$5(t)?reactive(t):t,toReadonly=t=>isObject$5(t)?readonly(t):t;function trackRefValue(t){shouldTrack&&activeEffect&&(t=toRaw(t),trackEffects(t.dep||(t.dep=createDep())))}function triggerRefValue(t,e){t=toRaw(t),t.dep&&triggerEffects(t.dep)}function isRef(t){return!!(t&&t.__v_isRef===!0)}function ref(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:toRaw(e),this._value=r?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){e=this.__v_isShallow?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:toReactive(e),triggerRefValue(this))}}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,e,r)=>unref(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const a=t[e];return isRef(a)&&!isRef(r)?(a.value=r,!0):Reflect.set(t,e,r,n)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(e,r,n,a){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=n}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function computed$1(t,e,r=!1){let n,a;const o=isFunction$4(t);return o?(n=t,a=NOOP):(n=t.get,a=t.set),new ComputedRefImpl(n,a,o||!a,r)}Promise.resolve();function callWithErrorHandling(t,e,r,n){let a;try{a=n?t(...n):t()}catch(o){handleError(o,e,r)}return a}function callWithAsyncErrorHandling(t,e,r,n){if(isFunction$4(t)){const o=callWithErrorHandling(t,e,r,n);return o&&isPromise(o)&&o.catch(s=>{handleError(s,e,r)}),o}const a=[];for(let o=0;o<t.length;o++)a.push(callWithAsyncErrorHandling(t[o],e,r,n));return a}function handleError(t,e,r,n=!0){const a=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,l=r;for(;o;){const c=o.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,s,l)===!1)return}o=o.parent}const u=e.appContext.config.errorHandler;if(u){callWithErrorHandling(u,null,10,[t,s,l]);return}}logError(t,r,a,n)}function logError(t,e,r,n=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,r=queue.length;for(;e<r;){const n=e+r>>>1;getId(queue[n])<t?e=n+1:r=n}return e}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&t!==currentPreFlushParentJob&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const e=queue.indexOf(t);e>flushIndex&&queue.splice(e,1)}function queueCb(t,e,r,n){isArray$5(t)?r.push(...t):(!e||!e.includes(t,t.allowRecurse?n+1:n))&&r.push(t),queueFlush()}function queuePreFlushCb(t){queueCb(t,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(t){queueCb(t,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(t,e=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=e,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(t,e)}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((r,n)=>getId(r)-getId(n)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id;function flushJobs(t){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(t),queue.sort((r,n)=>getId(r)-getId(n));const e=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(t)}}function emit$1(t,e,...r){const n=t.vnode.props||EMPTY_OBJ;let a=r;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in n){const f=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:g}=n[f]||EMPTY_OBJ;g?a=r.map(v=>v.trim()):d&&(a=r.map(toNumber$1))}let l,u=n[l=toHandlerKey(e)]||n[l=toHandlerKey(camelize(e))];!u&&o&&(u=n[l=toHandlerKey(hyphenate(e))]),u&&callWithAsyncErrorHandling(u,t,6,a);const c=n[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,callWithAsyncErrorHandling(c,t,6,a)}}function normalizeEmitsOptions(t,e,r=!1){const n=e.emitsCache,a=n.get(t);if(a!==void 0)return a;const o=t.emits;let s={},l=!1;if(!isFunction$4(t)){const u=c=>{const f=normalizeEmitsOptions(c,e,!0);f&&(l=!0,extend$2(s,f))};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!o&&!l?(n.set(t,null),null):(isArray$5(o)?o.forEach(u=>s[u]=null):extend$2(s,o),n.set(t,s),s)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(t,e[0].toLowerCase()+e.slice(1))||hasOwn(t,hyphenate(e))||hasOwn(t,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function pushScopeId(t){currentScopeId=t}function popScopeId(){currentScopeId=null}function withCtx(t,e=currentRenderingInstance,r){if(!e||t._n)return t;const n=(...a)=>{n._d&&setBlockTracking(-1);const o=setCurrentRenderingInstance(e),s=t(...a);return setCurrentRenderingInstance(o),n._d&&setBlockTracking(1),s};return n._n=!0,n._c=!0,n._d=!0,n}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:r,proxy:n,withProxy:a,props:o,propsOptions:[s],slots:l,attrs:u,emit:c,render:f,renderCache:d,data:g,setupState:v,ctx:m,inheritAttrs:y}=t;let b,E;const w=setCurrentRenderingInstance(t);try{if(r.shapeFlag&4){const T=a||n;b=normalizeVNode(f.call(T,T,d,o,v,g,m)),E=u}else{const T=e;b=normalizeVNode(T.length>1?T(o,{attrs:u,slots:l,emit:c}):T(o,null)),E=e.props?u:getFunctionalFallthrough(u)}}catch(T){blockStack.length=0,handleError(T,t,1),b=createVNode(Comment)}let _=b;if(E&&y!==!1){const T=Object.keys(E),{shapeFlag:O}=_;T.length&&O&7&&(s&&T.some(isModelListener)&&(E=filterModelListeners(E,s)),_=cloneVNode(_,E))}return r.dirs&&(_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&(_.transition=r.transition),b=_,setCurrentRenderingInstance(w),b}const getFunctionalFallthrough=t=>{let e;for(const r in t)(r==="class"||r==="style"||isOn(r))&&((e||(e={}))[r]=t[r]);return e},filterModelListeners=(t,e)=>{const r={};for(const n in t)(!isModelListener(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function shouldUpdateComponent(t,e,r){const{props:n,children:a,component:o}=t,{props:s,children:l,patchFlag:u}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return n?hasPropsChanged(n,s,c):!!s;if(u&8){const f=e.dynamicProps;for(let d=0;d<f.length;d++){const g=f[d];if(s[g]!==n[g]&&!isEmitListener(c,g))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:n===s?!1:n?s?hasPropsChanged(n,s,c):!0:!!s;return!1}function hasPropsChanged(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let a=0;a<n.length;a++){const o=n[a];if(e[o]!==t[o]&&!isEmitListener(r,o))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const isSuspense=t=>t.__isSuspense;function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray$5(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}function provide(t,e){if(currentInstance){let r=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===r&&(r=currentInstance.provides=Object.create(n)),r[t]=e}}function inject(t,e,r=!1){const n=currentInstance||currentRenderingInstance;if(n){const a=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(a&&t in a)return a[t];if(arguments.length>1)return r&&isFunction$4(e)?e.call(n.proxy):e}}const INITIAL_WATCHER_VALUE={};function watch(t,e,r){return doWatch(t,e,r)}function doWatch(t,e,{immediate:r,deep:n,flush:a,onTrack:o,onTrigger:s}=EMPTY_OBJ){const l=currentInstance;let u,c=!1,f=!1;if(isRef(t)?(u=()=>t.value,c=isShallow(t)):isReactive(t)?(u=()=>t,n=!0):isArray$5(t)?(f=!0,c=t.some(isReactive),u=()=>t.map(E=>{if(isRef(E))return E.value;if(isReactive(E))return traverse(E);if(isFunction$4(E))return callWithErrorHandling(E,l,2)})):isFunction$4(t)?e?u=()=>callWithErrorHandling(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return d&&d(),callWithAsyncErrorHandling(t,l,3,[g])}:u=NOOP,e&&n){const E=u;u=()=>traverse(E())}let d,g=E=>{d=b.onStop=()=>{callWithErrorHandling(E,l,4)}};if(isInSSRComponentSetup)return g=NOOP,e?r&&callWithAsyncErrorHandling(e,l,3,[u(),f?[]:void 0,g]):u(),NOOP;let v=f?[]:INITIAL_WATCHER_VALUE;const m=()=>{if(!!b.active)if(e){const E=b.run();(n||c||(f?E.some((w,_)=>hasChanged(w,v[_])):hasChanged(E,v)))&&(d&&d(),callWithAsyncErrorHandling(e,l,3,[E,v===INITIAL_WATCHER_VALUE?void 0:v,g]),v=E)}else b.run()};m.allowRecurse=!!e;let y;a==="sync"?y=m:a==="post"?y=()=>queuePostRenderEffect(m,l&&l.suspense):y=()=>{!l||l.isMounted?queuePreFlushCb(m):m()};const b=new ReactiveEffect(u,y);return e?r?m():v=b.run():a==="post"?queuePostRenderEffect(b.run.bind(b),l&&l.suspense):b.run(),()=>{b.stop(),l&&l.scope&&remove(l.scope.effects,b)}}function instanceWatch(t,e,r){const n=this.proxy,a=isString$1(t)?t.includes(".")?createPathGetter(n,t):()=>n[t]:t.bind(n,n);let o;isFunction$4(e)?o=e:(o=e.handler,r=e);const s=currentInstance;setCurrentInstance(this);const l=doWatch(a,o.bind(n),r);return s?setCurrentInstance(s):unsetCurrentInstance(),l}function createPathGetter(t,e){const r=e.split(".");return()=>{let n=t;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}function traverse(t,e){if(!isObject$5(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),isRef(t))traverse(t.value,e);else if(isArray$5(t))for(let r=0;r<t.length;r++)traverse(t[r],e);else if(isSet(t)||isMap(t))t.forEach(r=>{traverse(r,e)});else if(isPlainObject$1(t))for(const r in t)traverse(t[r],e);return t}function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(t,{slots:e}){const r=getCurrentInstance(),n=useTransitionState();let a;return()=>{const o=e.default&&getTransitionRawChildren(e.default(),!0);if(!o||!o.length)return;const s=toRaw(t),{mode:l}=s,u=o[0];if(n.isLeaving)return emptyPlaceholder(u);const c=getKeepAliveChild(u);if(!c)return emptyPlaceholder(u);const f=resolveTransitionHooks(c,s,n,r);setTransitionHooks(c,f);const d=r.subTree,g=d&&getKeepAliveChild(d);let v=!1;const{getTransitionKey:m}=c.type;if(m){const y=m();a===void 0?a=y:y!==a&&(a=y,v=!0)}if(g&&g.type!==Comment&&(!isSameVNodeType(c,g)||v)){const y=resolveTransitionHooks(g,s,n,r);if(setTransitionHooks(g,y),l==="out-in")return n.isLeaving=!0,y.afterLeave=()=>{n.isLeaving=!1,r.update()},emptyPlaceholder(u);l==="in-out"&&c.type!==Comment&&(y.delayLeave=(b,E,w)=>{const _=getLeavingNodesForType(n,g);_[String(g.key)]=g,b._leaveCb=()=>{E(),b._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=w})}return u}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function resolveTransitionHooks(t,e,r,n){const{appear:a,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:g,onAfterLeave:v,onLeaveCancelled:m,onBeforeAppear:y,onAppear:b,onAfterAppear:E,onAppearCancelled:w}=e,_=String(t.key),T=getLeavingNodesForType(r,t),O=(x,L)=>{x&&callWithAsyncErrorHandling(x,n,9,L)},D={mode:o,persisted:s,beforeEnter(x){let L=l;if(!r.isMounted)if(a)L=y||l;else return;x._leaveCb&&x._leaveCb(!0);const R=T[_];R&&isSameVNodeType(t,R)&&R.el._leaveCb&&R.el._leaveCb(),O(L,[x])},enter(x){let L=u,R=c,C=f;if(!r.isMounted)if(a)L=b||u,R=E||c,C=w||f;else return;let A=!1;const S=x._enterCb=N=>{A||(A=!0,N?O(C,[x]):O(R,[x]),D.delayedLeave&&D.delayedLeave(),x._enterCb=void 0)};L?(L(x,S),L.length<=1&&S()):S()},leave(x,L){const R=String(t.key);if(x._enterCb&&x._enterCb(!0),r.isUnmounting)return L();O(d,[x]);let C=!1;const A=x._leaveCb=S=>{C||(C=!0,L(),S?O(m,[x]):O(v,[x]),x._leaveCb=void 0,T[R]===t&&delete T[R])};T[R]=t,g?(g(x,A),g.length<=1&&A()):A()},clone(x){return resolveTransitionHooks(x,e,r,n)}};return D}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getKeepAliveChild(t){return isKeepAlive(t)?t.children?t.children[0]:void 0:t}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?setTransitionHooks(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,r){let n=[],a=0;for(let o=0;o<t.length;o++){let s=t[o];const l=r==null?s.key:String(r)+String(s.key!=null?s.key:o);s.type===Fragment?(s.patchFlag&128&&a++,n=n.concat(getTransitionRawChildren(s.children,e,l))):(e||s.type!==Comment)&&n.push(l!=null?cloneVNode(s,{key:l}):s)}if(a>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function defineComponent(t){return isFunction$4(t)?{setup:t,name:t.name}:t}const isAsyncWrapper=t=>!!t.type.__asyncLoader,isKeepAlive=t=>t.type.__isKeepAlive;function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,r=currentInstance){const n=t.__wdc||(t.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(injectHook(e,n,r),r){let a=r.parent;for(;a&&a.parent;)isKeepAlive(a.parent.vnode)&&injectToKeepAliveRoot(n,e,r,a),a=a.parent}}function injectToKeepAliveRoot(t,e,r,n){const a=injectHook(e,t,n,!0);onUnmounted(()=>{remove(n[e],a)},r)}function injectHook(t,e,r=currentInstance,n=!1){if(r){const a=r[t]||(r[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const l=callWithAsyncErrorHandling(e,r,t,s);return unsetCurrentInstance(),resetTracking(),l});return n?a.unshift(o):a.push(o),o}}const createHook=t=>(e,r=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,e,r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),r=t.proxy,n=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook(e.beforeCreate,t,"bc");const{data:a,computed:o,methods:s,watch:l,provide:u,inject:c,created:f,beforeMount:d,mounted:g,beforeUpdate:v,updated:m,activated:y,deactivated:b,beforeDestroy:E,beforeUnmount:w,destroyed:_,unmounted:T,render:O,renderTracked:D,renderTriggered:x,errorCaptured:L,serverPrefetch:R,expose:C,inheritAttrs:A,components:S,directives:N,filters:$}=e;if(c&&resolveInjections(c,n,null,t.appContext.config.unwrapInjectedRef),s)for(const k in s){const H=s[k];isFunction$4(H)&&(n[k]=H.bind(r))}if(a){const k=a.call(r,r);isObject$5(k)&&(t.data=reactive(k))}if(shouldCacheAccess=!0,o)for(const k in o){const H=o[k],G=isFunction$4(H)?H.bind(r,r):isFunction$4(H.get)?H.get.bind(r,r):NOOP,W=!isFunction$4(H)&&isFunction$4(H.set)?H.set.bind(r):NOOP,U=computed({get:G,set:W});Object.defineProperty(n,k,{enumerable:!0,configurable:!0,get:()=>U.value,set:X=>U.value=X})}if(l)for(const k in l)createWatcher(l[k],n,r,k);if(u){const k=isFunction$4(u)?u.call(r):u;Reflect.ownKeys(k).forEach(H=>{provide(H,k[H])})}f&&callHook(f,t,"c");function P(k,H){isArray$5(H)?H.forEach(G=>k(G.bind(r))):H&&k(H.bind(r))}if(P(onBeforeMount,d),P(onMounted,g),P(onBeforeUpdate,v),P(onUpdated,m),P(onActivated,y),P(onDeactivated,b),P(onErrorCaptured,L),P(onRenderTracked,D),P(onRenderTriggered,x),P(onBeforeUnmount,w),P(onUnmounted,T),P(onServerPrefetch,R),isArray$5(C))if(C.length){const k=t.exposed||(t.exposed={});C.forEach(H=>{Object.defineProperty(k,H,{get:()=>r[H],set:G=>r[H]=G})})}else t.exposed||(t.exposed={});O&&t.render===NOOP&&(t.render=O),A!=null&&(t.inheritAttrs=A),S&&(t.components=S),N&&(t.directives=N)}function resolveInjections(t,e,r=NOOP,n=!1){isArray$5(t)&&(t=normalizeInject(t));for(const a in t){const o=t[a];let s;isObject$5(o)?"default"in o?s=inject(o.from||a,o.default,!0):s=inject(o.from||a):s=inject(o),isRef(s)&&n?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):e[a]=s}}function callHook(t,e,r){callWithAsyncErrorHandling(isArray$5(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function createWatcher(t,e,r,n){const a=n.includes(".")?createPathGetter(r,n):()=>r[n];if(isString$1(t)){const o=e[t];isFunction$4(o)&&watch(a,o)}else if(isFunction$4(t))watch(a,t.bind(r));else if(isObject$5(t))if(isArray$5(t))t.forEach(o=>createWatcher(o,e,r,n));else{const o=isFunction$4(t.handler)?t.handler.bind(r):e[t.handler];isFunction$4(o)&&watch(a,o,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:a,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,l=o.get(e);let u;return l?u=l:!a.length&&!r&&!n?u=e:(u={},a.length&&a.forEach(c=>mergeOptions$1(u,c,s,!0)),mergeOptions$1(u,e,s)),o.set(e,u),u}function mergeOptions$1(t,e,r,n=!1){const{mixins:a,extends:o}=e;o&&mergeOptions$1(t,o,r,!0),a&&a.forEach(s=>mergeOptions$1(t,s,r,!0));for(const s in e)if(!(n&&s==="expose")){const l=internalOptionMergeStrats[s]||r&&r[s];t[s]=l?l(t[s],e[s]):e[s]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend$2(isFunction$4(t)?t.call(this,this):t,isFunction$4(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray$5(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend$2(extend$2(Object.create(null),t),e):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const r=extend$2(Object.create(null),t);for(const n in e)r[n]=mergeAsArray(t[n],e[n]);return r}function initProps(t,e,r,n=!1){const a={},o={};def(o,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,e,a,o);for(const s in t.propsOptions[0])s in a||(a[s]=void 0);r?t.props=n?a:shallowReactive(a):t.type.props?t.props=a:t.props=o,t.attrs=o}function updateProps(t,e,r,n){const{props:a,attrs:o,vnode:{patchFlag:s}}=t,l=toRaw(a),[u]=t.propsOptions;let c=!1;if((n||s>0)&&!(s&16)){if(s&8){const f=t.vnode.dynamicProps;for(let d=0;d<f.length;d++){let g=f[d];if(isEmitListener(t.emitsOptions,g))continue;const v=e[g];if(u)if(hasOwn(o,g))v!==o[g]&&(o[g]=v,c=!0);else{const m=camelize(g);a[m]=resolvePropValue(u,l,m,v,t,!1)}else v!==o[g]&&(o[g]=v,c=!0)}}}else{setFullProps(t,e,a,o)&&(c=!0);let f;for(const d in l)(!e||!hasOwn(e,d)&&((f=hyphenate(d))===d||!hasOwn(e,f)))&&(u?r&&(r[d]!==void 0||r[f]!==void 0)&&(a[d]=resolvePropValue(u,l,d,void 0,t,!0)):delete a[d]);if(o!==l)for(const d in o)(!e||!hasOwn(e,d)&&!0)&&(delete o[d],c=!0)}c&&trigger$1(t,"set","$attrs")}function setFullProps(t,e,r,n){const[a,o]=t.propsOptions;let s=!1,l;if(e)for(let u in e){if(isReservedProp(u))continue;const c=e[u];let f;a&&hasOwn(a,f=camelize(u))?!o||!o.includes(f)?r[f]=c:(l||(l={}))[f]=c:isEmitListener(t.emitsOptions,u)||(!(u in n)||c!==n[u])&&(n[u]=c,s=!0)}if(o){const u=toRaw(r),c=l||EMPTY_OBJ;for(let f=0;f<o.length;f++){const d=o[f];r[d]=resolvePropValue(a,u,d,c[d],t,!hasOwn(c,d))}}return s}function resolvePropValue(t,e,r,n,a,o){const s=t[r];if(s!=null){const l=hasOwn(s,"default");if(l&&n===void 0){const u=s.default;if(s.type!==Function&&isFunction$4(u)){const{propsDefaults:c}=a;r in c?n=c[r]:(setCurrentInstance(a),n=c[r]=u.call(null,e),unsetCurrentInstance())}else n=u}s[0]&&(o&&!l?n=!1:s[1]&&(n===""||n===hyphenate(r))&&(n=!0))}return n}function normalizePropsOptions(t,e,r=!1){const n=e.propsCache,a=n.get(t);if(a)return a;const o=t.props,s={},l=[];let u=!1;if(!isFunction$4(t)){const f=d=>{u=!0;const[g,v]=normalizePropsOptions(d,e,!0);extend$2(s,g),v&&l.push(...v)};!r&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!o&&!u)return n.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray$5(o))for(let f=0;f<o.length;f++){const d=camelize(o[f]);validatePropName(d)&&(s[d]=EMPTY_OBJ)}else if(o)for(const f in o){const d=camelize(f);if(validatePropName(d)){const g=o[f],v=s[d]=isArray$5(g)||isFunction$4(g)?{type:g}:g;if(v){const m=getTypeIndex(Boolean,v.type),y=getTypeIndex(String,v.type);v[0]=m>-1,v[1]=y<0||m<y,(m>-1||hasOwn(v,"default"))&&l.push(d)}}}const c=[s,l];return n.set(t,c),c}function validatePropName(t){return t[0]!=="$"}function getType(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function isSameType(t,e){return getType(t)===getType(e)}function getTypeIndex(t,e){return isArray$5(e)?e.findIndex(r=>isSameType(r,t)):isFunction$4(e)&&isSameType(e,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray$5(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot$1=(t,e,r)=>{const n=withCtx((...a)=>normalizeSlotValue(e(...a)),r);return n._c=!1,n},normalizeObjectSlots=(t,e,r)=>{const n=t._ctx;for(const a in t){if(isInternalKey(a))continue;const o=t[a];if(isFunction$4(o))e[a]=normalizeSlot$1(a,o,n);else if(o!=null){const s=normalizeSlotValue(o);e[a]=()=>s}}},normalizeVNodeSlots=(t,e)=>{const r=normalizeSlotValue(e);t.slots.default=()=>r},initSlots=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=toRaw(e),def(e,"_",r)):normalizeObjectSlots(e,t.slots={})}else t.slots={},e&&normalizeVNodeSlots(t,e);def(t.slots,InternalObjectKey,1)},updateSlots=(t,e,r)=>{const{vnode:n,slots:a}=t;let o=!0,s=EMPTY_OBJ;if(n.shapeFlag&32){const l=e._;l?r&&l===1?o=!1:(extend$2(a,e),!r&&l===1&&delete a._):(o=!e.$stable,normalizeObjectSlots(e,a)),s=e}else e&&(normalizeVNodeSlots(t,e),s={default:1});if(o)for(const l in a)!isInternalKey(l)&&!(l in s)&&delete a[l]};function withDirectives(t,e){const r=currentRenderingInstance;if(r===null)return t;const n=getExposeProxy(r)||r.proxy,a=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[s,l,u,c=EMPTY_OBJ]=e[o];isFunction$4(s)&&(s={mounted:s,updated:s}),s.deep&&traverse(l),a.push({dir:s,instance:n,value:l,oldValue:void 0,arg:u,modifiers:c})}return t}function invokeDirectiveHook(t,e,r,n){const a=t.dirs,o=e&&e.dirs;for(let s=0;s<a.length;s++){const l=a[s];o&&(l.oldValue=o[s].value);let u=l.dir[n];u&&(pauseTracking(),callWithAsyncErrorHandling(u,r,8,[t.el,l,t,e]),resetTracking())}}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(t,e){return function(n,a=null){isFunction$4(n)||(n=Object.assign({},n)),a!=null&&!isObject$5(a)&&(a=null);const o=createAppContext(),s=new Set;let l=!1;const u=o.app={_uid:uid++,_component:n,_props:a,_container:null,_context:o,_instance:null,version:version$1,get config(){return o.config},set config(c){},use(c,...f){return s.has(c)||(c&&isFunction$4(c.install)?(s.add(c),c.install(u,...f)):isFunction$4(c)&&(s.add(c),c(u,...f))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,f){return f?(o.components[c]=f,u):o.components[c]},directive(c,f){return f?(o.directives[c]=f,u):o.directives[c]},mount(c,f,d){if(!l){const g=createVNode(n,a);return g.appContext=o,f&&e?e(g,c):t(g,c,d),l=!0,u._container=c,c.__vue_app__=u,getExposeProxy(g.component)||g.component.proxy}},unmount(){l&&(t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return o.provides[c]=f,u}};return u}}function setRef(t,e,r,n,a=!1){if(isArray$5(t)){t.forEach((g,v)=>setRef(g,e&&(isArray$5(e)?e[v]:e),r,n,a));return}if(isAsyncWrapper(n)&&!a)return;const o=n.shapeFlag&4?getExposeProxy(n.component)||n.component.proxy:n.el,s=a?null:o,{i:l,r:u}=t,c=e&&e.r,f=l.refs===EMPTY_OBJ?l.refs={}:l.refs,d=l.setupState;if(c!=null&&c!==u&&(isString$1(c)?(f[c]=null,hasOwn(d,c)&&(d[c]=null)):isRef(c)&&(c.value=null)),isFunction$4(u))callWithErrorHandling(u,l,12,[s,f]);else{const g=isString$1(u),v=isRef(u);if(g||v){const m=()=>{if(t.f){const y=g?f[u]:u.value;a?isArray$5(y)&&remove(y,o):isArray$5(y)?y.includes(o)||y.push(o):g?(f[u]=[o],hasOwn(d,u)&&(d[u]=f[u])):(u.value=[o],t.k&&(f[t.k]=u.value))}else g?(f[u]=s,hasOwn(d,u)&&(d[u]=s)):isRef(u)&&(u.value=s,t.k&&(f[t.k]=s))};s?(m.id=-1,queuePostRenderEffect(m,r)):m()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function baseCreateRenderer(t,e){const r=getGlobalThis();r.__VUE__=!0;const{insert:n,remove:a,patchProp:o,createElement:s,createText:l,createComment:u,setText:c,setElementText:f,parentNode:d,nextSibling:g,setScopeId:v=NOOP,cloneNode:m,insertStaticContent:y}=t,b=(z,I,q,ie=null,oe=null,ce=null,ne=!1,ae=null,pe=!!I.dynamicChildren)=>{if(z===I)return;z&&!isSameVNodeType(z,I)&&(ie=j(z),ee(z,oe,ce,!0),z=null),I.patchFlag===-2&&(pe=!1,I.dynamicChildren=null);const{type:ue,ref:se,shapeFlag:M}=I;switch(ue){case Text:E(z,I,q,ie);break;case Comment:w(z,I,q,ie);break;case Static:z==null&&_(I,q,ie,ne);break;case Fragment:N(z,I,q,ie,oe,ce,ne,ae,pe);break;default:M&1?D(z,I,q,ie,oe,ce,ne,ae,pe):M&6?$(z,I,q,ie,oe,ce,ne,ae,pe):(M&64||M&128)&&ue.process(z,I,q,ie,oe,ce,ne,ae,pe,de)}se!=null&&oe&&setRef(se,z&&z.ref,ce,I||z,!I)},E=(z,I,q,ie)=>{if(z==null)n(I.el=l(I.children),q,ie);else{const oe=I.el=z.el;I.children!==z.children&&c(oe,I.children)}},w=(z,I,q,ie)=>{z==null?n(I.el=u(I.children||""),q,ie):I.el=z.el},_=(z,I,q,ie)=>{[z.el,z.anchor]=y(z.children,I,q,ie,z.el,z.anchor)},T=({el:z,anchor:I},q,ie)=>{let oe;for(;z&&z!==I;)oe=g(z),n(z,q,ie),z=oe;n(I,q,ie)},O=({el:z,anchor:I})=>{let q;for(;z&&z!==I;)q=g(z),a(z),z=q;a(I)},D=(z,I,q,ie,oe,ce,ne,ae,pe)=>{ne=ne||I.type==="svg",z==null?x(I,q,ie,oe,ce,ne,ae,pe):C(z,I,oe,ce,ne,ae,pe)},x=(z,I,q,ie,oe,ce,ne,ae)=>{let pe,ue;const{type:se,props:M,shapeFlag:Z,transition:fe,patchFlag:he,dirs:Q}=z;if(z.el&&m!==void 0&&he===-1)pe=z.el=m(z.el);else{if(pe=z.el=s(z.type,ce,M&&M.is,M),Z&8?f(pe,z.children):Z&16&&R(z.children,pe,null,ie,oe,ce&&se!=="foreignObject",ne,ae),Q&&invokeDirectiveHook(z,null,ie,"created"),M){for(const le in M)le!=="value"&&!isReservedProp(le)&&o(pe,le,null,M[le],ce,z.children,ie,oe,F);"value"in M&&o(pe,"value",null,M.value),(ue=M.onVnodeBeforeMount)&&invokeVNodeHook(ue,ie,z)}L(pe,z,z.scopeId,ne,ie)}Q&&invokeDirectiveHook(z,null,ie,"beforeMount");const ge=(!oe||oe&&!oe.pendingBranch)&&fe&&!fe.persisted;ge&&fe.beforeEnter(pe),n(pe,I,q),((ue=M&&M.onVnodeMounted)||ge||Q)&&queuePostRenderEffect(()=>{ue&&invokeVNodeHook(ue,ie,z),ge&&fe.enter(pe),Q&&invokeDirectiveHook(z,null,ie,"mounted")},oe)},L=(z,I,q,ie,oe)=>{if(q&&v(z,q),ie)for(let ce=0;ce<ie.length;ce++)v(z,ie[ce]);if(oe){let ce=oe.subTree;if(I===ce){const ne=oe.vnode;L(z,ne,ne.scopeId,ne.slotScopeIds,oe.parent)}}},R=(z,I,q,ie,oe,ce,ne,ae,pe=0)=>{for(let ue=pe;ue<z.length;ue++){const se=z[ue]=ae?cloneIfMounted(z[ue]):normalizeVNode(z[ue]);b(null,se,I,q,ie,oe,ce,ne,ae)}},C=(z,I,q,ie,oe,ce,ne)=>{const ae=I.el=z.el;let{patchFlag:pe,dynamicChildren:ue,dirs:se}=I;pe|=z.patchFlag&16;const M=z.props||EMPTY_OBJ,Z=I.props||EMPTY_OBJ;let fe;q&&toggleRecurse(q,!1),(fe=Z.onVnodeBeforeUpdate)&&invokeVNodeHook(fe,q,I,z),se&&invokeDirectiveHook(I,z,q,"beforeUpdate"),q&&toggleRecurse(q,!0);const he=oe&&I.type!=="foreignObject";if(ue?A(z.dynamicChildren,ue,ae,q,ie,he,ce):ne||G(z,I,ae,null,q,ie,he,ce,!1),pe>0){if(pe&16)S(ae,I,M,Z,q,ie,oe);else if(pe&2&&M.class!==Z.class&&o(ae,"class",null,Z.class,oe),pe&4&&o(ae,"style",M.style,Z.style,oe),pe&8){const Q=I.dynamicProps;for(let ge=0;ge<Q.length;ge++){const le=Q[ge],ye=M[le],Ee=Z[le];(Ee!==ye||le==="value")&&o(ae,le,ye,Ee,oe,z.children,q,ie,F)}}pe&1&&z.children!==I.children&&f(ae,I.children)}else!ne&&ue==null&&S(ae,I,M,Z,q,ie,oe);((fe=Z.onVnodeUpdated)||se)&&queuePostRenderEffect(()=>{fe&&invokeVNodeHook(fe,q,I,z),se&&invokeDirectiveHook(I,z,q,"updated")},ie)},A=(z,I,q,ie,oe,ce,ne)=>{for(let ae=0;ae<I.length;ae++){const pe=z[ae],ue=I[ae],se=pe.el&&(pe.type===Fragment||!isSameVNodeType(pe,ue)||pe.shapeFlag&70)?d(pe.el):q;b(pe,ue,se,null,ie,oe,ce,ne,!0)}},S=(z,I,q,ie,oe,ce,ne)=>{if(q!==ie){for(const ae in ie){if(isReservedProp(ae))continue;const pe=ie[ae],ue=q[ae];pe!==ue&&ae!=="value"&&o(z,ae,ue,pe,ne,I.children,oe,ce,F)}if(q!==EMPTY_OBJ)for(const ae in q)!isReservedProp(ae)&&!(ae in ie)&&o(z,ae,q[ae],null,ne,I.children,oe,ce,F);"value"in ie&&o(z,"value",q.value,ie.value)}},N=(z,I,q,ie,oe,ce,ne,ae,pe)=>{const ue=I.el=z?z.el:l(""),se=I.anchor=z?z.anchor:l("");let{patchFlag:M,dynamicChildren:Z,slotScopeIds:fe}=I;fe&&(ae=ae?ae.concat(fe):fe),z==null?(n(ue,q,ie),n(se,q,ie),R(I.children,q,se,oe,ce,ne,ae,pe)):M>0&&M&64&&Z&&z.dynamicChildren?(A(z.dynamicChildren,Z,q,oe,ce,ne,ae),(I.key!=null||oe&&I===oe.subTree)&&traverseStaticChildren(z,I,!0)):G(z,I,q,se,oe,ce,ne,ae,pe)},$=(z,I,q,ie,oe,ce,ne,ae,pe)=>{I.slotScopeIds=ae,z==null?I.shapeFlag&512?oe.ctx.activate(I,q,ie,ne,pe):B(I,q,ie,oe,ce,ne,pe):P(z,I,pe)},B=(z,I,q,ie,oe,ce,ne)=>{const ae=z.component=createComponentInstance(z,ie,oe);if(isKeepAlive(z)&&(ae.ctx.renderer=de),setupComponent(ae),ae.asyncDep){if(oe&&oe.registerDep(ae,k),!z.el){const pe=ae.subTree=createVNode(Comment);w(null,pe,I,q)}return}k(ae,z,I,q,oe,ce,ne)},P=(z,I,q)=>{const ie=I.component=z.component;if(shouldUpdateComponent(z,I,q))if(ie.asyncDep&&!ie.asyncResolved){H(ie,I,q);return}else ie.next=I,invalidateJob(ie.update),ie.update();else I.component=z.component,I.el=z.el,ie.vnode=I},k=(z,I,q,ie,oe,ce,ne)=>{const ae=()=>{if(z.isMounted){let{next:se,bu:M,u:Z,parent:fe,vnode:he}=z,Q=se,ge;toggleRecurse(z,!1),se?(se.el=he.el,H(z,se,ne)):se=he,M&&invokeArrayFns(M),(ge=se.props&&se.props.onVnodeBeforeUpdate)&&invokeVNodeHook(ge,fe,se,he),toggleRecurse(z,!0);const le=renderComponentRoot(z),ye=z.subTree;z.subTree=le,b(ye,le,d(ye.el),j(ye),z,oe,ce),se.el=le.el,Q===null&&updateHOCHostEl(z,le.el),Z&&queuePostRenderEffect(Z,oe),(ge=se.props&&se.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(ge,fe,se,he),oe)}else{let se;const{el:M,props:Z}=I,{bm:fe,m:he,parent:Q}=z,ge=isAsyncWrapper(I);if(toggleRecurse(z,!1),fe&&invokeArrayFns(fe),!ge&&(se=Z&&Z.onVnodeBeforeMount)&&invokeVNodeHook(se,Q,I),toggleRecurse(z,!0),M&&ve){const le=()=>{z.subTree=renderComponentRoot(z),ve(M,z.subTree,z,oe,null)};ge?I.type.__asyncLoader().then(()=>!z.isUnmounted&&le()):le()}else{const le=z.subTree=renderComponentRoot(z);b(null,le,q,ie,z,oe,ce),I.el=le.el}if(he&&queuePostRenderEffect(he,oe),!ge&&(se=Z&&Z.onVnodeMounted)){const le=I;queuePostRenderEffect(()=>invokeVNodeHook(se,Q,le),oe)}I.shapeFlag&256&&z.a&&queuePostRenderEffect(z.a,oe),z.isMounted=!0,I=q=ie=null}},pe=z.effect=new ReactiveEffect(ae,()=>queueJob(z.update),z.scope),ue=z.update=pe.run.bind(pe);ue.id=z.uid,toggleRecurse(z,!0),ue()},H=(z,I,q)=>{I.component=z;const ie=z.vnode.props;z.vnode=I,z.next=null,updateProps(z,I.props,ie,q),updateSlots(z,I.children,q),pauseTracking(),flushPreFlushCbs(void 0,z.update),resetTracking()},G=(z,I,q,ie,oe,ce,ne,ae,pe=!1)=>{const ue=z&&z.children,se=z?z.shapeFlag:0,M=I.children,{patchFlag:Z,shapeFlag:fe}=I;if(Z>0){if(Z&128){U(ue,M,q,ie,oe,ce,ne,ae,pe);return}else if(Z&256){W(ue,M,q,ie,oe,ce,ne,ae,pe);return}}fe&8?(se&16&&F(ue,oe,ce),M!==ue&&f(q,M)):se&16?fe&16?U(ue,M,q,ie,oe,ce,ne,ae,pe):F(ue,oe,ce,!0):(se&8&&f(q,""),fe&16&&R(M,q,ie,oe,ce,ne,ae,pe))},W=(z,I,q,ie,oe,ce,ne,ae,pe)=>{z=z||EMPTY_ARR,I=I||EMPTY_ARR;const ue=z.length,se=I.length,M=Math.min(ue,se);let Z;for(Z=0;Z<M;Z++){const fe=I[Z]=pe?cloneIfMounted(I[Z]):normalizeVNode(I[Z]);b(z[Z],fe,q,null,oe,ce,ne,ae,pe)}ue>se?F(z,oe,ce,!0,!1,M):R(I,q,ie,oe,ce,ne,ae,pe,M)},U=(z,I,q,ie,oe,ce,ne,ae,pe)=>{let ue=0;const se=I.length;let M=z.length-1,Z=se-1;for(;ue<=M&&ue<=Z;){const fe=z[ue],he=I[ue]=pe?cloneIfMounted(I[ue]):normalizeVNode(I[ue]);if(isSameVNodeType(fe,he))b(fe,he,q,null,oe,ce,ne,ae,pe);else break;ue++}for(;ue<=M&&ue<=Z;){const fe=z[M],he=I[Z]=pe?cloneIfMounted(I[Z]):normalizeVNode(I[Z]);if(isSameVNodeType(fe,he))b(fe,he,q,null,oe,ce,ne,ae,pe);else break;M--,Z--}if(ue>M){if(ue<=Z){const fe=Z+1,he=fe<se?I[fe].el:ie;for(;ue<=Z;)b(null,I[ue]=pe?cloneIfMounted(I[ue]):normalizeVNode(I[ue]),q,he,oe,ce,ne,ae,pe),ue++}}else if(ue>Z)for(;ue<=M;)ee(z[ue],oe,ce,!0),ue++;else{const fe=ue,he=ue,Q=new Map;for(ue=he;ue<=Z;ue++){const me=I[ue]=pe?cloneIfMounted(I[ue]):normalizeVNode(I[ue]);me.key!=null&&Q.set(me.key,ue)}let ge,le=0;const ye=Z-he+1;let Ee=!1,be=0;const _e=new Array(ye);for(ue=0;ue<ye;ue++)_e[ue]=0;for(ue=fe;ue<=M;ue++){const me=z[ue];if(le>=ye){ee(me,oe,ce,!0);continue}let we;if(me.key!=null)we=Q.get(me.key);else for(ge=he;ge<=Z;ge++)if(_e[ge-he]===0&&isSameVNodeType(me,I[ge])){we=ge;break}we===void 0?ee(me,oe,ce,!0):(_e[we-he]=ue+1,we>=be?be=we:Ee=!0,b(me,I[we],q,null,oe,ce,ne,ae,pe),le++)}const Te=Ee?getSequence(_e):EMPTY_ARR;for(ge=Te.length-1,ue=ye-1;ue>=0;ue--){const me=he+ue,we=I[me],$e=me+1<se?I[me+1].el:ie;_e[ue]===0?b(null,we,q,$e,oe,ce,ne,ae,pe):Ee&&(ge<0||ue!==Te[ge]?X(we,q,$e,2):ge--)}}},X=(z,I,q,ie,oe=null)=>{const{el:ce,type:ne,transition:ae,children:pe,shapeFlag:ue}=z;if(ue&6){X(z.component.subTree,I,q,ie);return}if(ue&128){z.suspense.move(I,q,ie);return}if(ue&64){ne.move(z,I,q,de);return}if(ne===Fragment){n(ce,I,q);for(let M=0;M<pe.length;M++)X(pe[M],I,q,ie);n(z.anchor,I,q);return}if(ne===Static){T(z,I,q);return}if(ie!==2&&ue&1&&ae)if(ie===0)ae.beforeEnter(ce),n(ce,I,q),queuePostRenderEffect(()=>ae.enter(ce),oe);else{const{leave:M,delayLeave:Z,afterLeave:fe}=ae,he=()=>n(ce,I,q),Q=()=>{M(ce,()=>{he(),fe&&fe()})};Z?Z(ce,he,Q):Q()}else n(ce,I,q)},ee=(z,I,q,ie=!1,oe=!1)=>{const{type:ce,props:ne,ref:ae,children:pe,dynamicChildren:ue,shapeFlag:se,patchFlag:M,dirs:Z}=z;if(ae!=null&&setRef(ae,null,q,z,!0),se&256){I.ctx.deactivate(z);return}const fe=se&1&&Z,he=!isAsyncWrapper(z);let Q;if(he&&(Q=ne&&ne.onVnodeBeforeUnmount)&&invokeVNodeHook(Q,I,z),se&6)Y(z.component,q,ie);else{if(se&128){z.suspense.unmount(q,ie);return}fe&&invokeDirectiveHook(z,null,I,"beforeUnmount"),se&64?z.type.remove(z,I,q,oe,de,ie):ue&&(ce!==Fragment||M>0&&M&64)?F(ue,I,q,!1,!0):(ce===Fragment&&M&384||!oe&&se&16)&&F(pe,I,q),ie&&te(z)}(he&&(Q=ne&&ne.onVnodeUnmounted)||fe)&&queuePostRenderEffect(()=>{Q&&invokeVNodeHook(Q,I,z),fe&&invokeDirectiveHook(z,null,I,"unmounted")},q)},te=z=>{const{type:I,el:q,anchor:ie,transition:oe}=z;if(I===Fragment){V(q,ie);return}if(I===Static){O(z);return}const ce=()=>{a(q),oe&&!oe.persisted&&oe.afterLeave&&oe.afterLeave()};if(z.shapeFlag&1&&oe&&!oe.persisted){const{leave:ne,delayLeave:ae}=oe,pe=()=>ne(q,ce);ae?ae(z.el,ce,pe):pe()}else ce()},V=(z,I)=>{let q;for(;z!==I;)q=g(z),a(z),z=q;a(I)},Y=(z,I,q)=>{const{bum:ie,scope:oe,update:ce,subTree:ne,um:ae}=z;ie&&invokeArrayFns(ie),oe.stop(),ce&&(ce.active=!1,ee(ne,z,I,q)),ae&&queuePostRenderEffect(ae,I),queuePostRenderEffect(()=>{z.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},F=(z,I,q,ie=!1,oe=!1,ce=0)=>{for(let ne=ce;ne<z.length;ne++)ee(z[ne],I,q,ie,oe)},j=z=>z.shapeFlag&6?j(z.component.subTree):z.shapeFlag&128?z.suspense.next():g(z.anchor||z.el),J=(z,I,q)=>{z==null?I._vnode&&ee(I._vnode,null,null,!0):b(I._vnode||null,z,I,null,null,null,q),flushPostFlushCbs(),I._vnode=z},de={p:b,um:ee,m:X,r:te,mt:B,mc:R,pc:G,pbc:A,n:j,o:t};let re,ve;return e&&([re,ve]=e(de)),{render:J,hydrate:re,createApp:createAppAPI(J,re)}}function toggleRecurse({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function traverseStaticChildren(t,e,r=!1){const n=t.children,a=e.children;if(isArray$5(n)&&isArray$5(a))for(let o=0;o<n.length;o++){const s=n[o];let l=a[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[o]=cloneIfMounted(a[o]),l.el=s.el),r||traverseStaticChildren(s,l))}}function getSequence(t){const e=t.slice(),r=[0];let n,a,o,s,l;const u=t.length;for(n=0;n<u;n++){const c=t[n];if(c!==0){if(a=r[r.length-1],t[a]<c){e[n]=a,r.push(n);continue}for(o=0,s=r.length-1;o<s;)l=o+s>>1,t[r[l]]<c?o=l+1:s=l;c<t[r[o]]&&(o>0&&(e[n]=r[o-1]),r[o]=n)}}for(o=r.length,s=r[o-1];o-- >0;)r[o]=s,s=e[s];return r}const isTeleport=t=>t.__isTeleport,COMPONENTS="components";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(t,e,r=!0,n=!1){const a=currentRenderingInstance||currentInstance;if(a){const o=a.type;if(t===COMPONENTS){const l=getComponentName(o);if(l&&(l===e||l===camelize(e)||l===capitalize$1(camelize(e))))return o}const s=resolve$1(a[t]||o[t],e)||resolve$1(a.appContext[t],e);return!s&&n?o:s}}function resolve$1(t,e){return t&&(t[e]||t[camelize(e)]||t[capitalize$1(camelize(e))])}const Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,r,n,a,o){return setupBlock(createBaseVNode(t,e,r,n,a,o,!0))}function createBlock(t,e,r,n,a){return setupBlock(createVNode(t,e,r,n,a,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t!=null?t:null,normalizeRef=({ref:t,ref_key:e,ref_for:r})=>t!=null?isString$1(t)||isRef(t)||isFunction$4(t)?{i:currentRenderingInstance,r:t,k:e,f:!!r}:t:null;function createBaseVNode(t,e=null,r=null,n=0,a=null,o=t===Fragment?0:1,s=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null};return l?(normalizeChildren(u,r),o&128&&t.normalize(u)):r&&(u.shapeFlag|=isString$1(r)?8:16),isBlockTreeEnabled>0&&!s&&currentBlock&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&currentBlock.push(u),u}const createVNode=_createVNode;function _createVNode(t,e=null,r=null,n=0,a=null,o=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const l=cloneVNode(t,e,!0);return r&&normalizeChildren(l,r),l}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:l,style:u}=e;l&&!isString$1(l)&&(e.class=normalizeClass(l)),isObject$5(u)&&(isProxy(u)&&!isArray$5(u)&&(u=extend$2({},u)),e.style=normalizeStyle(u))}const s=isString$1(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$5(t)?4:isFunction$4(t)?2:0;return createBaseVNode(t,e,r,n,a,s,o,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend$2({},t):t:null}function cloneVNode(t,e,r=!1){const{props:n,ref:a,patchFlag:o,children:s}=t,l=e?mergeProps(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&normalizeKey(l),ref:e&&e.ref?r&&a?isArray$5(a)?a.concat(normalizeRef(e)):[a,normalizeRef(e)]:normalizeRef(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor}}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createStaticVNode(t,e){const r=createVNode(Static,null,t);return r.staticCount=e,r}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray$5(t)?createVNode(Fragment,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(isArray$5(e))r=16;else if(typeof e=="object")if(n&65){const a=e.default;a&&(a._c&&(a._d=!1),normalizeChildren(t,a()),a._c&&(a._d=!0));return}else{r=32;const a=e._;!a&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:a===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction$4(e)?(e={default:e,_ctx:currentRenderingInstance},r=32):(e=String(e),n&64?(r=16,e=[createTextVNode(e)]):r=8);t.children=e,t.shapeFlag|=r}function mergeProps(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const a in n)if(a==="class")e.class!==n.class&&(e.class=normalizeClass([e.class,n.class]));else if(a==="style")e.style=normalizeStyle([e.style,n.style]);else if(isOn(a)){const o=e[a],s=n[a];s&&o!==s&&!(isArray$5(o)&&o.includes(s))&&(e[a]=o?[].concat(o,s):s)}else a!==""&&(e[a]=n[a])}return e}function invokeVNodeHook(t,e,r,n=null){callWithAsyncErrorHandling(t,e,7,[r,n])}function renderList(t,e,r,n){let a;const o=r&&r[n];if(isArray$5(t)||isString$1(t)){a=new Array(t.length);for(let s=0,l=t.length;s<l;s++)a[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){a=new Array(t);for(let s=0;s<t;s++)a[s]=e(s+1,s,void 0,o&&o[s])}else if(isObject$5(t))if(t[Symbol.iterator])a=Array.from(t,(s,l)=>e(s,l,void 0,o&&o[l]));else{const s=Object.keys(t);a=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];a[l]=e(t[c],c,l,o&&o[l])}}else a=[];return r&&(r[n]=a),a}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend$2(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>()=>queueJob(t.update),$nextTick:t=>nextTick.bind(t.proxy),$watch:t=>instanceWatch.bind(t)}),PublicInstanceProxyHandlers={get({_:t},e){const{ctx:r,setupState:n,data:a,props:o,accessCache:s,type:l,appContext:u}=t;let c;if(e[0]!=="$"){const v=s[e];if(v!==void 0)switch(v){case 1:return n[e];case 2:return a[e];case 4:return r[e];case 3:return o[e]}else{if(n!==EMPTY_OBJ&&hasOwn(n,e))return s[e]=1,n[e];if(a!==EMPTY_OBJ&&hasOwn(a,e))return s[e]=2,a[e];if((c=t.propsOptions[0])&&hasOwn(c,e))return s[e]=3,o[e];if(r!==EMPTY_OBJ&&hasOwn(r,e))return s[e]=4,r[e];shouldCacheAccess&&(s[e]=0)}}const f=publicPropertiesMap[e];let d,g;if(f)return e==="$attrs"&&track(t,"get",e),f(t);if((d=l.__cssModules)&&(d=d[e]))return d;if(r!==EMPTY_OBJ&&hasOwn(r,e))return s[e]=4,r[e];if(g=u.config.globalProperties,hasOwn(g,e))return g[e]},set({_:t},e,r){const{data:n,setupState:a,ctx:o}=t;return a!==EMPTY_OBJ&&hasOwn(a,e)?(a[e]=r,!0):n!==EMPTY_OBJ&&hasOwn(n,e)?(n[e]=r,!0):hasOwn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:a,propsOptions:o}},s){let l;return!!r[s]||t!==EMPTY_OBJ&&hasOwn(t,s)||e!==EMPTY_OBJ&&hasOwn(e,s)||(l=o[0])&&hasOwn(l,s)||hasOwn(n,s)||hasOwn(publicPropertiesMap,s)||hasOwn(a.config.globalProperties,s)},defineProperty(t,e,r){return r.get!=null?t.$.accessCache[e]=0:hasOwn(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(t,e,r){const n=t.type,a=(e?e.appContext:t.appContext)||emptyAppContext,o={uid:uid$1++,vnode:t,type:n,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,a),emitsOptions:normalizeEmitsOptions(n,a),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=emit$1.bind(null,o),t.ce&&t.ce(o),o}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=t=>{currentInstance=t,t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1){isInSSRComponentSetup=e;const{props:r,children:n}=t.vnode,a=isStatefulComponent(t);initProps(t,r,a,e),initSlots(t,n);const o=a?setupStatefulComponent(t,e):void 0;return isInSSRComponentSetup=!1,o}function setupStatefulComponent(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:n}=r;if(n){const a=t.setupContext=n.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const o=callWithErrorHandling(n,t,0,[t.props,a]);if(resetTracking(),unsetCurrentInstance(),isPromise(o)){if(o.then(unsetCurrentInstance,unsetCurrentInstance),e)return o.then(s=>{handleSetupResult(t,s,e)}).catch(s=>{handleError(s,t,0)});t.asyncDep=o}else handleSetupResult(t,o,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,r){isFunction$4(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject$5(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,r)}let compile;function finishComponentSetup(t,e,r){const n=t.type;if(!t.render){if(!e&&compile&&!n.render){const a=n.template;if(a){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:l,compilerOptions:u}=n,c=extend$2(extend$2({isCustomElement:o,delimiters:l},s),u);n.render=compile(a,c)}}t.render=n.render||NOOP}setCurrentInstance(t),pauseTracking(),applyOptions(t),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(t){return new Proxy(t.attrs,{get(e,r){return track(t,"get","$attrs"),e[r]}})}function createSetupContext(t){const e=n=>{t.exposed=n||{}};let r;return{get attrs(){return r||(r=createAttrsProxy(t))},slots:t.slots,emit:t.emit,expose:e}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](t)}}))}function getComponentName(t){return isFunction$4(t)&&t.displayName||t.name}function isClassComponent(t){return isFunction$4(t)&&"__vccOpts"in t}const computed=(t,e)=>computed$1(t,e,isInSSRComponentSetup);function h(t,e,r){const n=arguments.length;return n===2?isObject$5(e)&&!isArray$5(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&isVNode(r)&&(r=[r]),createVNode(t,e,r))}const version$1="3.2.32",svgNS="http://www.w3.org/2000/svg",doc=typeof document!="undefined"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const a=e?doc.createElementNS(svgNS,t):doc.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,r,n,a,o){const s=r?r.previousSibling:e.lastChild;if(a&&(a===o||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),r),!(a===o||!(a=a.nextSibling)););else{templateContainer.innerHTML=n?`<svg>${t}</svg>`:t;const l=templateContainer.content;if(n){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function patchClass(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function patchStyle(t,e,r){const n=t.style,a=isString$1(r);if(r&&!a){for(const o in r)setStyle(n,o,r[o]);if(e&&!isString$1(e))for(const o in e)r[o]==null&&setStyle(n,o,"")}else{const o=n.display;a?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=o)}}const importantRE=/\s*!important$/;function setStyle(t,e,r){if(isArray$5(r))r.forEach(n=>setStyle(t,e,n));else if(e.startsWith("--"))t.setProperty(e,r);else{const n=autoPrefix(t,e);importantRE.test(r)?t.setProperty(hyphenate(n),r.replace(importantRE,""),"important"):t[n]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const r=prefixCache[e];if(r)return r;let n=camelize(e);if(n!=="filter"&&n in t)return prefixCache[e]=n;n=capitalize$1(n);for(let a=0;a<prefixes.length;a++){const o=prefixes[a]+n;if(o in t)return prefixCache[e]=o}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,r,n,a){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,r);else{const o=isSpecialBooleanAttr(e);r==null||o&&!includeBooleanAttr(r)?t.removeAttribute(e):t.setAttribute(e,o?"":r)}}function patchDOMProp(t,e,r,n,a,o,s){if(e==="innerHTML"||e==="textContent"){n&&s(n,a,o),t[e]=r==null?"":r;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=r;const l=r==null?"":r;(t.value!==l||t.tagName==="OPTION")&&(t.value=l),r==null&&t.removeAttribute(e);return}if(r===""||r==null){const l=typeof t[e];if(l==="boolean"){t[e]=includeBooleanAttr(r);return}else if(r==null&&l==="string"){t[e]="",t.removeAttribute(e);return}else if(l==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=r}catch{}}let _getNow=Date.now,skipTimestampCheck=!1;if(typeof window!="undefined"){_getNow()>document.createEvent("Event").timeStamp&&(_getNow=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);skipTimestampCheck=!!(t&&Number(t[1])<=53)}let cachedNow=0;const p$1=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p$1.then(reset),cachedNow=_getNow());function addEventListener(t,e,r,n){t.addEventListener(e,r,n)}function removeEventListener(t,e,r,n){t.removeEventListener(e,r,n)}function patchEvent(t,e,r,n,a=null){const o=t._vei||(t._vei={}),s=o[e];if(n&&s)s.value=n;else{const[l,u]=parseName(e);if(n){const c=o[e]=createInvoker(n,a);addEventListener(t,l,c,u)}else s&&(removeEventListener(t,l,s,u),o[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let r;for(;r=t.match(optionsModifierRE);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[hyphenate(t.slice(2)),e]}function createInvoker(t,e){const r=n=>{const a=n.timeStamp||_getNow();(skipTimestampCheck||a>=r.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(n,r.value),e,5,[n])};return r.value=t,r.attached=getNow(),r}function patchStopImmediatePropagation(t,e){if(isArray$5(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>a=>!a._stopped&&n&&n(a))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(t,e,r,n,a=!1,o,s,l,u)=>{e==="class"?patchClass(t,n,a):e==="style"?patchStyle(t,r,n):isOn(e)?isModelListener(e)||patchEvent(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,n,a))?patchDOMProp(t,e,n,o,s,l,u):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),patchAttr(t,e,n,a))};function shouldSetAsProp(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&nativeOnRE.test(e)&&isFunction$4(r)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString$1(r)?!1:e in t}const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};BaseTransition.props;const getModelAssigner=t=>{const e=t.props["onUpdate:modelValue"];return isArray$5(e)?r=>invokeArrayFns(e,r):e};function onCompositionStart(t){t.target.composing=!0}function onCompositionEnd(t){const e=t.target;e.composing&&(e.composing=!1,trigger(e,"input"))}function trigger(t,e){const r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}const vModelText={created(t,{modifiers:{lazy:e,trim:r,number:n}},a){t._assign=getModelAssigner(a);const o=n||a.props&&a.props.type==="number";addEventListener(t,e?"change":"input",s=>{if(s.target.composing)return;let l=t.value;r?l=l.trim():o&&(l=toNumber$1(l)),t._assign(l)}),r&&addEventListener(t,"change",()=>{t.value=t.value.trim()}),e||(addEventListener(t,"compositionstart",onCompositionStart),addEventListener(t,"compositionend",onCompositionEnd),addEventListener(t,"change",onCompositionEnd))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:a}},o){if(t._assign=getModelAssigner(o),t.composing||document.activeElement===t&&(r||n&&t.value.trim()===e||(a||t.type==="number")&&toNumber$1(t.value)===e))return;const s=e==null?"":e;t.value!==s&&(t.value=s)}},vModelCheckbox={deep:!0,created(t,e,r){t._assign=getModelAssigner(r),addEventListener(t,"change",()=>{const n=t._modelValue,a=getValue$4(t),o=t.checked,s=t._assign;if(isArray$5(n)){const l=looseIndexOf(n,a),u=l!==-1;if(o&&!u)s(n.concat(a));else if(!o&&u){const c=[...n];c.splice(l,1),s(c)}}else if(isSet(n)){const l=new Set(n);o?l.add(a):l.delete(a),s(l)}else s(getCheckboxValue(t,o))})},mounted:setChecked,beforeUpdate(t,e,r){t._assign=getModelAssigner(r),setChecked(t,e,r)}};function setChecked(t,{value:e,oldValue:r},n){t._modelValue=e,isArray$5(e)?t.checked=looseIndexOf(e,n.props.value)>-1:isSet(e)?t.checked=e.has(n.props.value):e!==r&&(t.checked=looseEqual(e,getCheckboxValue(t,!0)))}const vModelSelect={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const a=isSet(e);addEventListener(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>r?toNumber$1(getValue$4(s)):getValue$4(s));t._assign(t.multiple?a?new Set(o):o:o[0])}),t._assign=getModelAssigner(n)},mounted(t,{value:e}){setSelected(t,e)},beforeUpdate(t,e,r){t._assign=getModelAssigner(r)},updated(t,{value:e}){setSelected(t,e)}};function setSelected(t,e){const r=t.multiple;if(!(r&&!isArray$5(e)&&!isSet(e))){for(let n=0,a=t.options.length;n<a;n++){const o=t.options[n],s=getValue$4(o);if(r)isArray$5(e)?o.selected=looseIndexOf(e,s)>-1:o.selected=e.has(s);else if(looseEqual(getValue$4(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function getValue$4(t){return"_value"in t?t._value:t.value}function getCheckboxValue(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>systemModifiers.some(r=>t[`${r}Key`]&&!e.includes(r))},withModifiers=(t,e)=>(r,...n)=>{for(let a=0;a<e.length;a++){const o=modifierGuards[e[a]];if(o&&o(r,e))return}return t(r,...n)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(t,e)=>r=>{if(!("key"in r))return;const n=hyphenate(r.key);if(e.some(a=>a===n||keyNames[a]===n))return t(r)},rendererOptions=extend$2({patchProp},nodeOps);let renderer$1;function ensureRenderer(){return renderer$1||(renderer$1=createRenderer(rendererOptions))}const createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:r}=e;return e.mount=n=>{const a=normalizeContainer(n);if(!a)return;const o=e._component;!isFunction$4(o)&&!o.render&&!o.template&&(o.template=a.innerHTML),a.innerHTML="";const s=r(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),s},e};function normalizeContainer(t){return isString$1(t)?document.querySelector(t):t}/*!
  * vue-router v4.1.3
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window!="undefined";function isESModule(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const assign$3=Object.assign;function applyToParams(t,e){const r={};for(const n in e){const a=e[n];r[n]=isArray$4(a)?a.map(t):t(a)}return r}const noop$2=()=>{},isArray$4=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=t=>t.replace(TRAILING_SLASH_RE,"");function parseURL(t,e,r="/"){let n,a={},o="",s="";const l=e.indexOf("#");let u=e.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(n=e.slice(0,u),o=e.slice(u+1,l>-1?l:e.length),a=t(o)),l>-1&&(n=n||e.slice(0,l),s=e.slice(l,e.length)),n=resolveRelativePath(n!=null?n:e,r),{fullPath:n+(o&&"?")+o+s,path:n,query:a,hash:s}}function stringifyURL(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function stripBase(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function isSameRouteLocation(t,e,r){const n=e.matched.length-1,a=r.matched.length-1;return n>-1&&n===a&&isSameRouteRecord(e.matched[n],r.matched[a])&&isSameRouteLocationParams(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function isSameRouteRecord(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function isSameRouteLocationParams(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!isSameRouteLocationParamsValue(t[r],e[r]))return!1;return!0}function isSameRouteLocationParamsValue(t,e){return isArray$4(t)?isEquivalentArray(t,e):isArray$4(e)?isEquivalentArray(e,t):t===e}function isEquivalentArray(t,e){return isArray$4(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function resolveRelativePath(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/");let a=r.length-1,o,s;for(o=0;o<n.length;o++)if(s=n[o],s!==".")if(s==="..")a>1&&a--;else break;return r.slice(0,a).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var NavigationType;(function(t){t.pop="pop",t.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(t){t.back="back",t.forward="forward",t.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(t){if(!t)if(isBrowser){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),removeTrailingSlash(t)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(t,e){return t.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),a=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!a)return;e=getElementPosition(a,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function getScrollKey(t,e){return(history.state?history.state.position-e:-1)+t}const scrollPositions=new Map;function saveScrollPosition(t,e){scrollPositions.set(t,e)}function getSavedScrollPosition(t){const e=scrollPositions.get(t);return scrollPositions.delete(t),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(t,e){const{pathname:r,search:n,hash:a}=e,o=t.indexOf("#");if(o>-1){let l=a.includes(t.slice(o))?t.slice(o).length:1,u=a.slice(l);return u[0]!=="/"&&(u="/"+u),stripBase(u,"")}return stripBase(r,t)+n+a}function useHistoryListeners(t,e,r,n){let a=[],o=[],s=null;const l=({state:g})=>{const v=createCurrentLocation(t,location),m=r.value,y=e.value;let b=0;if(g){if(r.value=v,e.value=g,s&&s===m){s=null;return}b=y?g.position-y.position:0}else n(v);a.forEach(E=>{E(r.value,m,{delta:b,type:NavigationType.pop,direction:b?b>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function u(){s=r.value}function c(g){a.push(g);const v=()=>{const m=a.indexOf(g);m>-1&&a.splice(m,1)};return o.push(v),v}function f(){const{history:g}=window;!g.state||g.replaceState(assign$3({},g.state,{scroll:computeScrollPosition()}),"")}function d(){for(const g of o)g();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f),{pauseListeners:u,listen:c,destroy:d}}function buildState(t,e,r,n=!1,a=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:a?computeScrollPosition():null}}function useHistoryStateNavigation(t){const{history:e,location:r}=window,n={value:createCurrentLocation(t,r)},a={value:e.state};a.value||o(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(u,c,f){const d=t.indexOf("#"),g=d>-1?(r.host&&document.querySelector("base")?t:t.slice(d))+u:createBaseLocation()+t+u;try{e[f?"replaceState":"pushState"](c,"",g),a.value=c}catch(v){console.error(v),r[f?"replace":"assign"](g)}}function s(u,c){const f=assign$3({},e.state,buildState(a.value.back,u,a.value.forward,!0),c,{position:a.value.position});o(u,f,!0),n.value=u}function l(u,c){const f=assign$3({},a.value,e.state,{forward:u,scroll:computeScrollPosition()});o(f.current,f,!0);const d=assign$3({},buildState(n.value,u,null),{position:f.position+1},c);o(u,d,!1),n.value=u}return{location:n,state:a,push:l,replace:s}}function createWebHistory(t){t=normalizeBase(t);const e=useHistoryStateNavigation(t),r=useHistoryListeners(t,e.state,e.location,e.replace);function n(o,s=!0){s||r.pauseListeners(),history.go(o)}const a=assign$3({location:"",base:t,go:n,createHref:createHref.bind(null,t)},e,r);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>e.state.value}),a}function isRouteLocation(t){return typeof t=="string"||t&&typeof t=="object"}function isRouteName(t){return typeof t=="string"||typeof t=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(t,e){return assign$3(new Error,{type:t,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(t,e){return t instanceof Error&&NavigationFailureSymbol in t&&(e==null||!!(t.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(t,e){const r=assign$3({},BASE_PATH_PARSER_OPTIONS,e),n=[];let a=r.start?"^":"";const o=[];for(const c of t){const f=c.length?[]:[90];r.strict&&!c.length&&(a+="/");for(let d=0;d<c.length;d++){const g=c[d];let v=40+(r.sensitive?.25:0);if(g.type===0)d||(a+="/"),a+=g.value.replace(REGEX_CHARS_RE,"\\$&"),v+=40;else if(g.type===1){const{value:m,repeatable:y,optional:b,regexp:E}=g;o.push({name:m,repeatable:y,optional:b});const w=E||BASE_PARAM_PATTERN;if(w!==BASE_PARAM_PATTERN){v+=10;try{new RegExp(`(${w})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${m}" (${w}): `+T.message)}}let _=y?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;d||(_=b&&c.length<2?`(?:/${_})`:"/"+_),b&&(_+="?"),a+=_,v+=20,b&&(v+=-8),y&&(v+=-20),w===".*"&&(v+=-50)}f.push(v)}n.push(f)}if(r.strict&&r.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&(a+="(?:/|$)");const s=new RegExp(a,r.sensitive?"":"i");function l(c){const f=c.match(s),d={};if(!f)return null;for(let g=1;g<f.length;g++){const v=f[g]||"",m=o[g-1];d[m.name]=v&&m.repeatable?v.split("/"):v}return d}function u(c){let f="",d=!1;for(const g of t){(!d||!f.endsWith("/"))&&(f+="/"),d=!1;for(const v of g)if(v.type===0)f+=v.value;else if(v.type===1){const{value:m,repeatable:y,optional:b}=v,E=m in c?c[m]:"";if(isArray$4(E)&&!y)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const w=isArray$4(E)?E.join("/"):E;if(!w)if(b)g.length<2&&(f.endsWith("/")?f=f.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);f+=w}}return f||"/"}return{re:s,score:n,keys:o,parse:l,stringify:u}}function compareScoreArray(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function comparePathParserScore(t,e){let r=0;const n=t.score,a=e.score;for(;r<n.length&&r<a.length;){const o=compareScoreArray(n[r],a[r]);if(o)return o;r++}if(Math.abs(a.length-n.length)===1){if(isLastScoreNegative(n))return 1;if(isLastScoreNegative(a))return-1}return a.length-n.length}function isLastScoreNegative(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(t){if(!t)return[[]];if(t==="/")return[[ROOT_TOKEN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${r})/"${c}": ${v}`)}let r=0,n=r;const a=[];let o;function s(){o&&a.push(o),o=[]}let l=0,u,c="",f="";function d(){!c||(r===0?o.push({type:0,value:c}):r===1||r===2||r===3?(o.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:f,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),c="")}function g(){c+=u}for(;l<t.length;){if(u=t[l++],u==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:u==="/"?(c&&d(),s()):u===":"?(d(),r=1):g();break;case 4:g(),r=n;break;case 1:u==="("?r=2:VALID_PARAM_RE.test(u)?g():(d(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+u:r=3:f+=u;break;case 3:d(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,f="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),s(),a}function createRouteRecordMatcher(t,e,r){const n=tokensToParser(tokenizePath(t.path),r),a=assign$3(n,{record:t,parent:e,children:[],alias:[]});return e&&!a.record.aliasOf==!e.record.aliasOf&&e.children.push(a),a}function createRouterMatcher(t,e){const r=[],n=new Map;e=mergeOptions({strict:!1,end:!0,sensitive:!1},e);function a(f){return n.get(f)}function o(f,d,g){const v=!g,m=normalizeRouteRecord(f);m.aliasOf=g&&g.record;const y=mergeOptions(e,f),b=[m];if("alias"in f){const _=typeof f.alias=="string"?[f.alias]:f.alias;for(const T of _)b.push(assign$3({},m,{components:g?g.record.components:m.components,path:T,aliasOf:g?g.record:m}))}let E,w;for(const _ of b){const{path:T}=_;if(d&&T[0]!=="/"){const O=d.record.path,D=O[O.length-1]==="/"?"":"/";_.path=d.record.path+(T&&D+T)}if(E=createRouteRecordMatcher(_,d,y),g?g.alias.push(E):(w=w||E,w!==E&&w.alias.push(E),v&&f.name&&!isAliasRecord(E)&&s(f.name)),m.children){const O=m.children;for(let D=0;D<O.length;D++)o(O[D],E,g&&g.children[D])}g=g||E,u(E)}return w?()=>{s(w)}:noop$2}function s(f){if(isRouteName(f)){const d=n.get(f);d&&(n.delete(f),r.splice(r.indexOf(d),1),d.children.forEach(s),d.alias.forEach(s))}else{const d=r.indexOf(f);d>-1&&(r.splice(d,1),f.record.name&&n.delete(f.record.name),f.children.forEach(s),f.alias.forEach(s))}}function l(){return r}function u(f){let d=0;for(;d<r.length&&comparePathParserScore(f,r[d])>=0&&(f.record.path!==r[d].record.path||!isRecordChildOf(f,r[d]));)d++;r.splice(d,0,f),f.record.name&&!isAliasRecord(f)&&n.set(f.record.name,f)}function c(f,d){let g,v={},m,y;if("name"in f&&f.name){if(g=n.get(f.name),!g)throw createRouterError(1,{location:f});y=g.record.name,v=assign$3(paramsFromLocation(d.params,g.keys.filter(w=>!w.optional).map(w=>w.name)),f.params),m=g.stringify(v)}else if("path"in f)m=f.path,g=r.find(w=>w.re.test(m)),g&&(v=g.parse(m),y=g.record.name);else{if(g=d.name?n.get(d.name):r.find(w=>w.re.test(d.path)),!g)throw createRouterError(1,{location:f,currentLocation:d});y=g.record.name,v=assign$3({},d.params,f.params),m=g.stringify(v)}const b=[];let E=g;for(;E;)b.unshift(E.record),E=E.parent;return{name:y,path:m,params:v,matched:b,meta:mergeMetaFields(b)}}return t.forEach(f=>o(f)),{addRoute:o,resolve:c,removeRoute:s,getRoutes:l,getRecordMatcher:a}}function paramsFromLocation(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function normalizeRouteRecord(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:normalizeRecordProps(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function normalizeRecordProps(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="boolean"?r:r[n];return e}function isAliasRecord(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mergeMetaFields(t){return t.reduce((e,r)=>assign$3(e,r.meta),{})}function mergeOptions(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function isRecordChildOf(t,e){return e.children.some(r=>r===t||isRecordChildOf(t,r))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(t){return encodeURI(""+t).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(t){return commonEncode(t).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(t){return commonEncode(t).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(t){return encodeQueryValue(t).replace(EQUAL_RE,"%3D")}function encodePath(t){return commonEncode(t).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(t){return t==null?"":encodePath(t).replace(SLASH_RE,"%2F")}function decode(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function parseQuery(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let a=0;a<n.length;++a){const o=n[a].replace(PLUS_RE," "),s=o.indexOf("="),l=decode(s<0?o:o.slice(0,s)),u=s<0?null:decode(o.slice(s+1));if(l in e){let c=e[l];isArray$4(c)||(c=e[l]=[c]),c.push(u)}else e[l]=u}return e}function stringifyQuery(t){let e="";for(let r in t){const n=t[r];if(r=encodeQueryKey(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(isArray$4(n)?n.map(o=>o&&encodeQueryValue(o)):[n&&encodeQueryValue(n)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+r,o!=null&&(e+="="+o))})}return e}function normalizeQuery(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=isArray$4(n)?n.map(a=>a==null?null:""+a):n==null?n:""+n)}return e}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let t=[];function e(n){return t.push(n),()=>{const a=t.indexOf(n);a>-1&&t.splice(a,1)}}function r(){t=[]}return{add:e,list:()=>t,reset:r}}function guardToPromiseFn(t,e,r,n,a){const o=n&&(n.enterCallbacks[a]=n.enterCallbacks[a]||[]);return()=>new Promise((s,l)=>{const u=d=>{d===!1?l(createRouterError(4,{from:r,to:e})):d instanceof Error?l(d):isRouteLocation(d)?l(createRouterError(2,{from:e,to:d})):(o&&n.enterCallbacks[a]===o&&typeof d=="function"&&o.push(d),s())},c=t.call(n&&n.instances[a],e,r,u);let f=Promise.resolve(c);t.length<3&&(f=f.then(u)),f.catch(d=>l(d))})}function extractComponentsGuards(t,e,r,n){const a=[];for(const o of t)for(const s in o.components){let l=o.components[s];if(!(e!=="beforeRouteEnter"&&!o.instances[s]))if(isRouteComponent(l)){const c=(l.__vccOpts||l)[e];c&&a.push(guardToPromiseFn(c,r,n,o,s))}else{let u=l();a.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const f=isESModule(c)?c.default:c;o.components[s]=f;const g=(f.__vccOpts||f)[e];return g&&guardToPromiseFn(g,r,n,o,s)()}))}}return a}function isRouteComponent(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function useLink(t){const e=inject(routerKey),r=inject(routeLocationKey),n=computed(()=>e.resolve(unref(t.to))),a=computed(()=>{const{matched:u}=n.value,{length:c}=u,f=u[c-1],d=r.matched;if(!f||!d.length)return-1;const g=d.findIndex(isSameRouteRecord.bind(null,f));if(g>-1)return g;const v=getOriginalPath(u[c-2]);return c>1&&getOriginalPath(f)===v&&d[d.length-1].path!==v?d.findIndex(isSameRouteRecord.bind(null,u[c-2])):g}),o=computed(()=>a.value>-1&&includesParams(r.params,n.value.params)),s=computed(()=>a.value>-1&&a.value===r.matched.length-1&&isSameRouteLocationParams(r.params,n.value.params));function l(u={}){return guardEvent(u)?e[unref(t.replace)?"replace":"push"](unref(t.to)).catch(noop$2):Promise.resolve()}return{route:n,href:computed(()=>n.value.href),isActive:o,isExactActive:s,navigate:l}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(t,{slots:e}){const r=reactive(useLink(t)),{options:n}=inject(routerKey),a=computed(()=>({[getLinkClass(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=e.default&&e.default(r);return t.custom?o:h("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},o)}}}),RouterLink=RouterLinkImpl;function guardEvent(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function includesParams(t,e){for(const r in e){const n=e[r],a=t[r];if(typeof n=="string"){if(n!==a)return!1}else if(!isArray$4(a)||a.length!==n.length||n.some((o,s)=>o!==a[s]))return!1}return!0}function getOriginalPath(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const getLinkClass=(t,e,r)=>t!=null?t:e!=null?e:r,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=inject(routerViewLocationKey),a=computed(()=>t.route||n.value),o=inject(viewDepthKey,0),s=computed(()=>{let c=unref(o);const{matched:f}=a.value;let d;for(;(d=f[c])&&!d.components;)c++;return c}),l=computed(()=>a.value.matched[s.value]);provide(viewDepthKey,computed(()=>s.value+1)),provide(matchedRouteKey,l),provide(routerViewLocationKey,a);const u=ref();return watch(()=>[u.value,l.value,t.name],([c,f,d],[g,v,m])=>{f&&(f.instances[d]=c,v&&v!==f&&c&&c===g&&(f.leaveGuards.size||(f.leaveGuards=v.leaveGuards),f.updateGuards.size||(f.updateGuards=v.updateGuards))),c&&f&&(!v||!isSameRouteRecord(f,v)||!g)&&(f.enterCallbacks[d]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=a.value,f=t.name,d=l.value,g=d&&d.components[f];if(!g)return normalizeSlot(r.default,{Component:g,route:c});const v=d.props[f],m=v?v===!0?c.params:typeof v=="function"?v(c):v:null,b=h(g,assign$3({},m,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(d.instances[f]=null)},ref:u}));return normalizeSlot(r.default,{Component:b,route:c})||b}}});function normalizeSlot(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter(t){const e=createRouterMatcher(t.routes,t),r=t.parseQuery||parseQuery,n=t.stringifyQuery||stringifyQuery,a=t.history,o=useCallbacks(),s=useCallbacks(),l=useCallbacks(),u=shallowRef(START_LOCATION_NORMALIZED);let c=START_LOCATION_NORMALIZED;isBrowser&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=applyToParams.bind(null,V=>""+V),d=applyToParams.bind(null,encodeParam),g=applyToParams.bind(null,decode);function v(V,Y){let F,j;return isRouteName(V)?(F=e.getRecordMatcher(V),j=Y):j=V,e.addRoute(j,F)}function m(V){const Y=e.getRecordMatcher(V);Y&&e.removeRoute(Y)}function y(){return e.getRoutes().map(V=>V.record)}function b(V){return!!e.getRecordMatcher(V)}function E(V,Y){if(Y=assign$3({},Y||u.value),typeof V=="string"){const ve=parseURL(r,V,Y.path),z=e.resolve({path:ve.path},Y),I=a.createHref(ve.fullPath);return assign$3(ve,z,{params:g(z.params),hash:decode(ve.hash),redirectedFrom:void 0,href:I})}let F;if("path"in V)F=assign$3({},V,{path:parseURL(r,V.path,Y.path).path});else{const ve=assign$3({},V.params);for(const z in ve)ve[z]==null&&delete ve[z];F=assign$3({},V,{params:d(V.params)}),Y.params=d(Y.params)}const j=e.resolve(F,Y),J=V.hash||"";j.params=f(g(j.params));const de=stringifyURL(n,assign$3({},V,{hash:encodeHash(J),path:j.path})),re=a.createHref(de);return assign$3({fullPath:de,hash:J,query:n===stringifyQuery?normalizeQuery(V.query):V.query||{}},j,{redirectedFrom:void 0,href:re})}function w(V){return typeof V=="string"?parseURL(r,V,u.value.path):assign$3({},V)}function _(V,Y){if(c!==V)return createRouterError(8,{from:Y,to:V})}function T(V){return x(V)}function O(V){return T(assign$3(w(V),{replace:!0}))}function D(V){const Y=V.matched[V.matched.length-1];if(Y&&Y.redirect){const{redirect:F}=Y;let j=typeof F=="function"?F(V):F;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=w(j):{path:j},j.params={}),assign$3({query:V.query,hash:V.hash,params:"path"in j?{}:V.params},j)}}function x(V,Y){const F=c=E(V),j=u.value,J=V.state,de=V.force,re=V.replace===!0,ve=D(F);if(ve)return x(assign$3(w(ve),{state:J,force:de,replace:re}),Y||F);const z=F;z.redirectedFrom=Y;let I;return!de&&isSameRouteLocation(n,j,F)&&(I=createRouterError(16,{to:z,from:j}),W(j,j,!0,!1)),(I?Promise.resolve(I):R(z,j)).catch(q=>isNavigationFailure(q)?isNavigationFailure(q,2)?q:G(q):k(q,z,j)).then(q=>{if(q){if(isNavigationFailure(q,2))return x(assign$3({replace:re},w(q.to),{state:J,force:de}),Y||z)}else q=A(z,j,!0,re,J);return C(z,j,q),q})}function L(V,Y){const F=_(V,Y);return F?Promise.reject(F):Promise.resolve()}function R(V,Y){let F;const[j,J,de]=extractChangingRecords(V,Y);F=extractComponentsGuards(j.reverse(),"beforeRouteLeave",V,Y);for(const ve of j)ve.leaveGuards.forEach(z=>{F.push(guardToPromiseFn(z,V,Y))});const re=L.bind(null,V,Y);return F.push(re),runGuardQueue(F).then(()=>{F=[];for(const ve of o.list())F.push(guardToPromiseFn(ve,V,Y));return F.push(re),runGuardQueue(F)}).then(()=>{F=extractComponentsGuards(J,"beforeRouteUpdate",V,Y);for(const ve of J)ve.updateGuards.forEach(z=>{F.push(guardToPromiseFn(z,V,Y))});return F.push(re),runGuardQueue(F)}).then(()=>{F=[];for(const ve of V.matched)if(ve.beforeEnter&&!Y.matched.includes(ve))if(isArray$4(ve.beforeEnter))for(const z of ve.beforeEnter)F.push(guardToPromiseFn(z,V,Y));else F.push(guardToPromiseFn(ve.beforeEnter,V,Y));return F.push(re),runGuardQueue(F)}).then(()=>(V.matched.forEach(ve=>ve.enterCallbacks={}),F=extractComponentsGuards(de,"beforeRouteEnter",V,Y),F.push(re),runGuardQueue(F))).then(()=>{F=[];for(const ve of s.list())F.push(guardToPromiseFn(ve,V,Y));return F.push(re),runGuardQueue(F)}).catch(ve=>isNavigationFailure(ve,8)?ve:Promise.reject(ve))}function C(V,Y,F){for(const j of l.list())j(V,Y,F)}function A(V,Y,F,j,J){const de=_(V,Y);if(de)return de;const re=Y===START_LOCATION_NORMALIZED,ve=isBrowser?history.state:{};F&&(j||re?a.replace(V.fullPath,assign$3({scroll:re&&ve&&ve.scroll},J)):a.push(V.fullPath,J)),u.value=V,W(V,Y,F,re),G()}let S;function N(){S||(S=a.listen((V,Y,F)=>{if(!te.listening)return;const j=E(V),J=D(j);if(J){x(assign$3(J,{replace:!0}),j).catch(noop$2);return}c=j;const de=u.value;isBrowser&&saveScrollPosition(getScrollKey(de.fullPath,F.delta),computeScrollPosition()),R(j,de).catch(re=>isNavigationFailure(re,12)?re:isNavigationFailure(re,2)?(x(re.to,j).then(ve=>{isNavigationFailure(ve,20)&&!F.delta&&F.type===NavigationType.pop&&a.go(-1,!1)}).catch(noop$2),Promise.reject()):(F.delta&&a.go(-F.delta,!1),k(re,j,de))).then(re=>{re=re||A(j,de,!1),re&&(F.delta&&!isNavigationFailure(re,8)?a.go(-F.delta,!1):F.type===NavigationType.pop&&isNavigationFailure(re,20)&&a.go(-1,!1)),C(j,de,re)}).catch(noop$2)}))}let $=useCallbacks(),B=useCallbacks(),P;function k(V,Y,F){G(V);const j=B.list();return j.length?j.forEach(J=>J(V,Y,F)):console.error(V),Promise.reject(V)}function H(){return P&&u.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((V,Y)=>{$.add([V,Y])})}function G(V){return P||(P=!V,N(),$.list().forEach(([Y,F])=>V?F(V):Y()),$.reset()),V}function W(V,Y,F,j){const{scrollBehavior:J}=t;if(!isBrowser||!J)return Promise.resolve();const de=!F&&getSavedScrollPosition(getScrollKey(V.fullPath,0))||(j||!F)&&history.state&&history.state.scroll||null;return nextTick().then(()=>J(V,Y,de)).then(re=>re&&scrollToPosition(re)).catch(re=>k(re,V,Y))}const U=V=>a.go(V);let X;const ee=new Set,te={currentRoute:u,listening:!0,addRoute:v,removeRoute:m,hasRoute:b,getRoutes:y,resolve:E,options:t,push:T,replace:O,go:U,back:()=>U(-1),forward:()=>U(1),beforeEach:o.add,beforeResolve:s.add,afterEach:l.add,onError:B.add,isReady:H,install(V){const Y=this;V.component("RouterLink",RouterLink),V.component("RouterView",RouterView),V.config.globalProperties.$router=Y,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(u)}),isBrowser&&!X&&u.value===START_LOCATION_NORMALIZED&&(X=!0,T(a.location).catch(J=>{}));const F={};for(const J in START_LOCATION_NORMALIZED)F[J]=computed(()=>u.value[J]);V.provide(routerKey,Y),V.provide(routeLocationKey,reactive(F)),V.provide(routerViewLocationKey,u);const j=V.unmount;ee.add(V),V.unmount=function(){ee.delete(V),ee.size<1&&(c=START_LOCATION_NORMALIZED,S&&S(),S=null,u.value=START_LOCATION_NORMALIZED,X=!1,P=!1),j()}}};return te}function runGuardQueue(t){return t.reduce((e,r)=>e.then(()=>r()),Promise.resolve())}function extractChangingRecords(t,e){const r=[],n=[],a=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const l=e.matched[s];l&&(t.matched.find(c=>isSameRouteRecord(c,l))?n.push(l):r.push(l));const u=t.matched[s];u&&(e.matched.find(c=>isSameRouteRecord(c,u))||a.push(u))}return[r,n,a]}function useRouter(){return inject(routerKey)}function useRoute(){return inject(routeLocationKey)}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var axios$2={exports:{}},bind$2=function(e,r){return function(){for(var a=new Array(arguments.length),o=0;o<a.length;o++)a[o]=arguments[o];return e.apply(r,a)}},bind$1=bind$2,toString$4=Object.prototype.toString;function isArray$3(t){return Array.isArray(t)}function isUndefined(t){return typeof t=="undefined"}function isBuffer(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function isArrayBuffer(t){return toString$4.call(t)==="[object ArrayBuffer]"}function isFormData(t){return toString$4.call(t)==="[object FormData]"}function isArrayBufferView(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&isArrayBuffer(t.buffer),e}function isString(t){return typeof t=="string"}function isNumber(t){return typeof t=="number"}function isObject$4(t){return t!==null&&typeof t=="object"}function isPlainObject(t){if(toString$4.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function isDate(t){return toString$4.call(t)==="[object Date]"}function isFile(t){return toString$4.call(t)==="[object File]"}function isBlob(t){return toString$4.call(t)==="[object Blob]"}function isFunction$3(t){return toString$4.call(t)==="[object Function]"}function isStream(t){return isObject$4(t)&&isFunction$3(t.pipe)}function isURLSearchParams(t){return toString$4.call(t)==="[object URLSearchParams]"}function trim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function forEach(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),isArray$3(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}function merge(){var t={};function e(a,o){isPlainObject(t[o])&&isPlainObject(a)?t[o]=merge(t[o],a):isPlainObject(a)?t[o]=merge({},a):isArray$3(a)?t[o]=a.slice():t[o]=a}for(var r=0,n=arguments.length;r<n;r++)forEach(arguments[r],e);return t}function extend$1(t,e,r){return forEach(e,function(a,o){r&&typeof a=="function"?t[o]=bind$1(a,r):t[o]=a}),t}function stripBOM(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var utils$e={isArray:isArray$3,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isObject:isObject$4,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction:isFunction$3,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend:extend$1,trim,stripBOM},utils$d=utils$e;function encode(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$2=function(e,r,n){if(!r)return e;var a;if(n)a=n(r);else if(utils$d.isURLSearchParams(r))a=r.toString();else{var o=[];utils$d.forEach(r,function(u,c){u===null||typeof u=="undefined"||(utils$d.isArray(u)?c=c+"[]":u=[u],utils$d.forEach(u,function(d){utils$d.isDate(d)?d=d.toISOString():utils$d.isObject(d)&&(d=JSON.stringify(d)),o.push(encode(c)+"="+encode(d))}))}),a=o.join("&")}if(a){var s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e},utils$c=utils$e;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};InterceptorManager$1.prototype.forEach=function(e){utils$c.forEach(this.handlers,function(n){n!==null&&e(n)})};var InterceptorManager_1=InterceptorManager$1,utils$b=utils$e,normalizeHeaderName$1=function(e,r){utils$b.forEach(e,function(a,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(e[r]=a,delete e[o])})},enhanceError$2=function(e,r,n,a,o){return e.config=r,n&&(e.code=n),e.request=a,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},enhanceError$1=enhanceError$2,createError$2=function(e,r,n,a,o){var s=new Error(e);return enhanceError$1(s,r,n,a,o)},createError$1=createError$2,settle$1=function(e,r,n){var a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):r(createError$1("Request failed with status code "+n.status,n.config,null,n.request,n))},utils$a=utils$e,cookies$1=utils$a.isStandardBrowserEnv()?function(){return{write:function(r,n,a,o,s,l){var u=[];u.push(r+"="+encodeURIComponent(n)),utils$a.isNumber(a)&&u.push("expires="+new Date(a).toGMTString()),utils$a.isString(o)&&u.push("path="+o),utils$a.isString(s)&&u.push("domain="+s),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),isAbsoluteURL$1=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},combineURLs$1=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function(e,r){return e&&!isAbsoluteURL(r)?combineURLs(e,r):r},utils$9=utils$e,ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders$1=function(e){var r={},n,a,o;return e&&utils$9.forEach(e.split(`
`),function(l){if(o=l.indexOf(":"),n=utils$9.trim(l.substr(0,o)).toLowerCase(),a=utils$9.trim(l.substr(o+1)),n){if(r[n]&&ignoreDuplicateOf.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([a]):r[n]=r[n]?r[n]+", "+a:a}}),r},utils$8=utils$e,isURLSameOrigin$1=utils$8.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function a(o){var s=o;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=a(window.location.href),function(s){var l=utils$8.isString(s)?a(s):s;return l.protocol===n.protocol&&l.host===n.host}}():function(){return function(){return!0}}();function Cancel$3(t){this.message=t}Cancel$3.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Cancel$3.prototype.__CANCEL__=!0;var Cancel_1=Cancel$3,utils$7=utils$e,settle=settle$1,cookies=cookies$1,buildURL$1=buildURL$2,buildFullPath=buildFullPath$1,parseHeaders=parseHeaders$1,isURLSameOrigin=isURLSameOrigin$1,createError=createError$2,transitionalDefaults$1=transitional,Cancel$2=Cancel_1,xhr=function(e){return new Promise(function(n,a){var o=e.data,s=e.headers,l=e.responseType,u;function c(){e.cancelToken&&e.cancelToken.unsubscribe(u),e.signal&&e.signal.removeEventListener("abort",u)}utils$7.isFormData(o)&&delete s["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.Authorization="Basic "+btoa(d+":"+g)}var v=buildFullPath(e.baseURL,e.url);f.open(e.method.toUpperCase(),buildURL$1(v,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function m(){if(!!f){var b="getAllResponseHeaders"in f?parseHeaders(f.getAllResponseHeaders()):null,E=!l||l==="text"||l==="json"?f.responseText:f.response,w={data:E,status:f.status,statusText:f.statusText,headers:b,config:e,request:f};settle(function(T){n(T),c()},function(T){a(T),c()},w),f=null}}if("onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(m)},f.onabort=function(){!f||(a(createError("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){a(createError("Network Error",e,null,f)),f=null},f.ontimeout=function(){var E=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",w=e.transitional||transitionalDefaults$1;e.timeoutErrorMessage&&(E=e.timeoutErrorMessage),a(createError(E,e,w.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},utils$7.isStandardBrowserEnv()){var y=(e.withCredentials||isURLSameOrigin(v))&&e.xsrfCookieName?cookies.read(e.xsrfCookieName):void 0;y&&(s[e.xsrfHeaderName]=y)}"setRequestHeader"in f&&utils$7.forEach(s,function(E,w){typeof o=="undefined"&&w.toLowerCase()==="content-type"?delete s[w]:f.setRequestHeader(w,E)}),utils$7.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),l&&l!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(u=function(b){!f||(a(!b||b&&b.type?new Cancel$2("canceled"):b),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(u),e.signal&&(e.signal.aborted?u():e.signal.addEventListener("abort",u))),o||(o=null),f.send(o)})},utils$6=utils$e,normalizeHeaderName=normalizeHeaderName$1,enhanceError=enhanceError$2,transitionalDefaults=transitional,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(t,e){!utils$6.isUndefined(t)&&utils$6.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function getDefaultAdapter(){var t;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(t=xhr),t}function stringifySafely(t,e,r){if(utils$6.isString(t))try{return(e||JSON.parse)(t),utils$6.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var defaults$k={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function(e,r){return normalizeHeaderName(r,"Accept"),normalizeHeaderName(r,"Content-Type"),utils$6.isFormData(e)||utils$6.isArrayBuffer(e)||utils$6.isBuffer(e)||utils$6.isStream(e)||utils$6.isFile(e)||utils$6.isBlob(e)?e:utils$6.isArrayBufferView(e)?e.buffer:utils$6.isURLSearchParams(e)?(setContentTypeIfUnset(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):utils$6.isObject(e)||r&&r["Content-Type"]==="application/json"?(setContentTypeIfUnset(r,"application/json"),stringifySafely(e)):e}],transformResponse:[function(e){var r=this.transitional||defaults$k.transitional,n=r&&r.silentJSONParsing,a=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||a&&utils$6.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?enhanceError(s,this,"E_JSON_PARSE"):s}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$6.forEach(["delete","get","head"],function(e){defaults$k.headers[e]={}});utils$6.forEach(["post","put","patch"],function(e){defaults$k.headers[e]=utils$6.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$k,utils$5=utils$e,defaults$j=defaults_1,transformData$1=function(e,r,n){var a=this||defaults$j;return utils$5.forEach(n,function(s){e=s.call(a,e,r)}),e},isCancel$1=function(e){return!!(e&&e.__CANCEL__)},utils$4=utils$e,transformData=transformData$1,isCancel=isCancel$1,defaults$i=defaults_1,Cancel$1=Cancel_1;function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Cancel$1("canceled")}var dispatchRequest$1=function(e){throwIfCancellationRequested(e),e.headers=e.headers||{},e.data=transformData.call(e,e.data,e.headers,e.transformRequest),e.headers=utils$4.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),utils$4.forEach(["delete","get","head","post","put","patch","common"],function(a){delete e.headers[a]});var r=e.adapter||defaults$i.adapter;return r(e).then(function(a){return throwIfCancellationRequested(e),a.data=transformData.call(e,a.data,a.headers,e.transformResponse),a},function(a){return isCancel(a)||(throwIfCancellationRequested(e),a&&a.response&&(a.response.data=transformData.call(e,a.response.data,a.response.headers,e.transformResponse))),Promise.reject(a)})},utils$3=utils$e,mergeConfig$2=function(e,r){r=r||{};var n={};function a(f,d){return utils$3.isPlainObject(f)&&utils$3.isPlainObject(d)?utils$3.merge(f,d):utils$3.isPlainObject(d)?utils$3.merge({},d):utils$3.isArray(d)?d.slice():d}function o(f){if(utils$3.isUndefined(r[f])){if(!utils$3.isUndefined(e[f]))return a(void 0,e[f])}else return a(e[f],r[f])}function s(f){if(!utils$3.isUndefined(r[f]))return a(void 0,r[f])}function l(f){if(utils$3.isUndefined(r[f])){if(!utils$3.isUndefined(e[f]))return a(void 0,e[f])}else return a(void 0,r[f])}function u(f){if(f in r)return a(e[f],r[f]);if(f in e)return a(void 0,e[f])}var c={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u};return utils$3.forEach(Object.keys(e).concat(Object.keys(r)),function(d){var g=c[d]||o,v=g(d);utils$3.isUndefined(v)&&g!==u||(n[d]=v)}),n},data$2={version:"0.26.1"},VERSION$1=data$2.version,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){validators$1[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var deprecatedWarnings={};validators$1.transitional=function(e,r,n){function a(o,s){return"[Axios v"+VERSION$1+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return function(o,s,l){if(e===!1)throw new Error(a(s," has been removed"+(r?" in "+r:"")));return r&&!deprecatedWarnings[s]&&(deprecatedWarnings[s]=!0,console.warn(a(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,l):!0}};function assertOptions(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),a=n.length;a-- >0;){var o=n[a],s=e[o];if(s){var l=t[o],u=l===void 0||s(l,o,t);if(u!==!0)throw new TypeError("option "+o+" must be "+u);continue}if(r!==!0)throw Error("Unknown option "+o)}}var validator$1={assertOptions,validators:validators$1},utils$2=utils$e,buildURL=buildURL$2,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(t){this.defaults=t,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=mergeConfig$1(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&validator.assertOptions(n,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var a=[],o=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(o=o&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});var s=[];this.interceptors.response.forEach(function(v){s.push(v.fulfilled,v.rejected)});var l;if(!o){var u=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(u,a),u=u.concat(s),l=Promise.resolve(r);u.length;)l=l.then(u.shift(),u.shift());return l}for(var c=r;a.length;){var f=a.shift(),d=a.shift();try{c=f(c)}catch(g){d(g);break}}try{l=dispatchRequest(c)}catch(g){return Promise.reject(g)}for(;s.length;)l=l.then(s.shift(),s.shift());return l};Axios$1.prototype.getUri=function(e){return e=mergeConfig$1(this.defaults,e),buildURL(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};utils$2.forEach(["delete","get","head","options"],function(e){Axios$1.prototype[e]=function(r,n){return this.request(mergeConfig$1(n||{},{method:e,url:r,data:(n||{}).data}))}});utils$2.forEach(["post","put","patch"],function(e){Axios$1.prototype[e]=function(r,n,a){return this.request(mergeConfig$1(a||{},{method:e,url:r,data:n}))}});var Axios_1=Axios$1,Cancel=Cancel_1;function CancelToken(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(a){e=a});var r=this;this.promise.then(function(n){if(!!r._listeners){var a,o=r._listeners.length;for(a=0;a<o;a++)r._listeners[a](n);r._listeners=null}}),this.promise.then=function(n){var a,o=new Promise(function(s){r.subscribe(s),a=s}).then(n);return o.cancel=function(){r.unsubscribe(a)},o},t(function(a){r.reason||(r.reason=new Cancel(a),e(r.reason))})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};CancelToken.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};CancelToken.prototype.unsubscribe=function(e){if(!!this._listeners){var r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}};CancelToken.source=function(){var e,r=new CancelToken(function(a){e=a});return{token:r,cancel:e}};var CancelToken_1=CancelToken,spread=function(e){return function(n){return e.apply(null,n)}},utils$1=utils$e,isAxiosError=function(e){return utils$1.isObject(e)&&e.isAxiosError===!0},utils=utils$e,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults$h=defaults_1;function createInstance(t){var e=new Axios(t),r=bind(Axios.prototype.request,e);return utils.extend(r,Axios.prototype,e),utils.extend(r,e),r.create=function(a){return createInstance(mergeConfig(t,a))},r}var axios$1=createInstance(defaults$h);axios$1.Axios=Axios;axios$1.Cancel=Cancel_1;axios$1.CancelToken=CancelToken_1;axios$1.isCancel=isCancel$1;axios$1.VERSION=data$2.version;axios$1.all=function(e){return Promise.all(e)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$2.exports=axios$1;axios$2.exports.default=axios$1;var axios=axios$2.exports;let web={};window.location.hostname=="localhost"?axios.defaults.baseURL="":axios.defaults.baseURL="/s/kukako/api";web.search=async function(t){var e=await axios.get(`/api/search?search=${t}`);return e.data};web.rawQuery=async function(t){var e=await axios.post("/api/query",{query:t});return e.data};web.getListOfNonConnected=async function(t,e,r){var n=`/api/documents?type=${t}`;e&&r&&(n=`/api/documents?type=${t}&relation=${e}&target=${r.replace("#","")}`);var a=await axios.get(n);return a};web.getGraph=async function(t,e,r){var n=await axios.post("/api/graph/query",{query:t,current:e,cluster:r});return n};web.getSchemaLinks=async function(t){var e=`MATCH (s:Schema)-[r]-(t:Schema) WHERE id(s) = "#${t}"
	RETURN COALESCE(s.label, s._type) as source,  TYPE(r) as type, r.label as label, r.label_rev as label_rev, COALESCE(t.label, t._type) as target, id(t) as target_id, id(r) as rid, r.compound as compound, r.tags as tags, r as relation,
	       CASE WHEN STARTNODE(r) = s THEN 'outgoing' ELSE 'incoming' END AS direction`,r=await axios.post("/api/query",{query:e});for(var n of r.data.result)!Array.isArray(n.tags)&&n.tags.trim()=="cypher.null"&&(n.tags=[]);return r};web.getMapData=async function(t){var e=`MATCH (map:QueryMap) WHERE id(map) = "#${t}" RETURN map.image as image, map.scale as scale`,r=await axios.post("/api/query",{query:e});return r.data&&r.data.result.length?r.data.result[0]:{}};web.getMe=async function(){var t=await axios.get("/api/me");return t.data};web.getSchemas=async function(){var t=await axios.get("/api/schemas");return t.data.result};web.getQueries=async function(t){var e=await axios.get("/api/queries");return e.data.result};web.getTags=async function(){var t=await axios.get("/api/tags");return t.data.result};web.getGroups=async function(){var t=await axios.get("/api/groups");return t.data};web.getMenus=async function(){var t=await axios.get("/api/menus");return t.data};web.getMaps=async function(){var t=await axios.get("/api/maps");return t.data};web.getFiles=async function(t){var e=await axios.get("/api/files/"+t);return e.data};web.importFile=async function(t,e,r){r&&(e=e+"&mode="+r);var n=await axios.post("/api/"+t+"/import?filename="+e);return n.data};web.getStyle=async function(){var result=await axios.get("/api/styles");for(var style of result.data)for(var key in style.style)if(typeof style.style[key]=="string"&&style.style[key].startsWith("(")){var style_str=style.style[key].replace(/##/g,"'");style.style[key]=eval(style_str)}return result.data};web.getNodeAttributes=async function(t){var e=await axios.get(`/api/documents/${t.replace("#","")}`);return e.data.result};web.getSchemaAndData=async function(t){var e=await axios.get(`/api/graph/vertices/${t.replace("#","")}`);return e.data};web.getMyGraph=async function(t=[],e=[],r=""){Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]);var n=await axios.post("/api/graph/query/me",{rel_types:t,node_types:e,return:r});return n};web.createNode=async function(t){var e=await axios.post("/api/graph/vertices",t);return e};web.connect=async function(t,e,r){var n=await axios.post("/api/graph/edges",{from:t,relation:e,to:r});return n};web.connectMe=async function(t,e){var r=await axios.post("/api/graph/edges/connect/me",{rel_type:t,to:e});return r};web.unConnectMe=async function(t,e){var r=await axios.post("/api/graph/edges/unconnect/me",{rel_type:t,to:e});return r};web.setRelationAttribute=async function(t,e){var r=await axios.post(`/api/graph/edges/${t.replace("#","")}`,e);return r};web.setNodeAttribute=async function(t,e){var r=await axios.post(`/api/graph/vertices/${t.replace("#","")}`,e);return r};web.removeEdgeByRID=async function(t){var e=await axios.delete(`/api/graph/edges/${t.replace("#","")}`);return e};web.connectSchema=async function(t,e,r){var n=await axios.post("/api/graph/edges",{from:t,relation:e,to:r});return n};web.saveLayout=async function(t,e){var r=await axios.post("/api/layouts",{data:t,target:e});return r};web.getLayoutByTarget=async function(t){var e=await axios.get(`/api/layouts/${t.replace("#","")}`);return e.data};web.getGitlabCommits=async function(t){var e=await axios.get(`/api/gitlab/repositories/${t}/commits`);return e.data};web.getDockerContainerLogs=async function(t){var e=await axios.get(`/api/docker/containers/${t}/logs`);return e.data};web.getDockerContainerInspect=async function(t){var e=await axios.get(`/api/docker/containers/${t}/inspect`);return e.data};web.uploadImage=async function(t){var e=new FormData;e.append("image",t),await axios.post("/api/upload",e)};const _hoisted_1$j={class:"d-flex"},_hoisted_2$i={class:"list-group",style:{position:"absolute","margin-top":"40px","z-index":"1001"}},_hoisted_3$h=["onClick"],_sfc_main$k={setup(t){var e=reactive({term:"",result:[]});const r=useRouter();async function n(){e.result=await web.search(e.term)}function a(o){e.term="",e.result=[],r.push({name:"graph",query:{node:o.replace("#","")}})}return(o,s)=>(openBlock(),createElementBlock("div",_hoisted_1$j,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>unref(e).term=l),onKeyup:s[1]||(s[1]=withKeys(l=>n(),["enter"])),class:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"},null,544),[[vModelText,unref(e).term]]),createBaseVNode("ul",_hoisted_2$i,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(e).result,l=>(openBlock(),createElementBlock("li",{key:l.id,class:"list-group-item"},[createBaseVNode("div",{onClick:u=>a(l.id)},toDisplayString(l.label)+" ("+toDisplayString(l.type)+")",9,_hoisted_3$h)]))),128))])]))}},store=reactive({update:0,user:null,x:0,y:0,new_node_type:"",new_node_id:null,new_node_relation:null,current_node:{data:{name:"",type:""}},tags:[],schemas:[],queries:[],menus:[],groups:[],maps:[],graph_node_update:"",node_creator_open:!1,importer_open:!1,exporter_open:!1,graph_style:[],gtags(){return this.tags},reload(){this.update++},current(){return this.current_node&&!this.current_node.data?{data:{name:"",type:""}}:this.current_node},graphUpdate(t){return this.graph_node_update}});console.log("store...");const _hoisted_1$i={key:0,class:"modal modal-lg fade show",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"}},_hoisted_2$h={class:"modal-dialog"},_hoisted_3$g={class:"modal-content"},_hoisted_4$h={class:"modal-header"},_hoisted_5$f={class:"modal-title",id:"exampleModalLabel"},_hoisted_6$f={class:"modal-body"},_hoisted_7$9=["onClick"],_hoisted_8$9={class:"modal-footer"},_hoisted_9$9={key:1,class:"alert alert-info"},_hoisted_10$8={key:2,class:"alert alert-danger"},_sfc_main$j={props:{mode:""},emits:["createConnection"],setup(t,{emit:e}){useRouter();var r=reactive({files:[],current_file:"",status:"",error:""});reactive({}),reactive([]),watch(()=>store.importer_open,async(s,l)=>{s&&n()});async function n(){r.files=await web.getFiles(store.importer_open)}async function a(s){try{if(r.current_file){var l=r.current_file;r.current_file="",r.status="importing...",await web.importFile(store.importer_open,l,s),o()}}catch(u){alert(u)}}function o(){store.importer_open=!1,r.current_file="",r.status=""}return onMounted(async()=>{r.schemas=await web.getSchemas()}),(s,l)=>unref(store).importer_open?(openBlock(),createElementBlock("div",_hoisted_1$i,[createBaseVNode("div",_hoisted_2$h,[createBaseVNode("div",_hoisted_3$g,[createBaseVNode("div",_hoisted_4$h,[createBaseVNode("h4",_hoisted_5$f," Import "+toDisplayString(unref(store).importer_open),1)]),createBaseVNode("div",_hoisted_6$f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(r).files,u=>(openBlock(),createElementBlock("ul",{key:u},[createBaseVNode("li",{class:"dropdown-item pointer",onClick:c=>unref(r).current_file=u},toDisplayString(u),9,_hoisted_7$9)]))),128))]),createBaseVNode("div",_hoisted_8$9,[createBaseVNode("b",null,toDisplayString(unref(r).current_file),1),createBaseVNode("button",{onClick:l[0]||(l[0]=u=>o()),type:"button",class:"btn btn-secondary"},"Cancel"),unref(r).current_file?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("button",{onClick:l[1]||(l[1]=u=>a()),type:"button",class:"btn btn-warning"},"Merge"),createBaseVNode("button",{onClick:l[2]||(l[2]=u=>a("clear")),type:"button",class:"btn btn-danger"},"DELETE ALL and import")],64)):createCommentVNode("",!0),unref(r).status?(openBlock(),createElementBlock("div",_hoisted_9$9,toDisplayString(unref(r).status),1)):createCommentVNode("",!0),unref(r).error?(openBlock(),createElementBlock("div",_hoisted_10$8,toDisplayString(unref(r).error),1)):createCommentVNode("",!0)])])])])):createCommentVNode("",!0)}},_hoisted_1$h={key:0,class:"modal modal-lg fade show",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"}},_hoisted_2$g={class:"modal-dialog"},_hoisted_3$f={class:"modal-content"},_hoisted_4$g={class:"modal-header"},_hoisted_5$e={class:"modal-title",id:"exampleModalLabel"},_hoisted_6$e=createBaseVNode("div",{class:"modal-body"}," Not implemented yet! ",-1),_hoisted_7$8={class:"modal-footer"},_hoisted_8$8={key:0,class:"alert alert-info"},_hoisted_9$8={key:1,class:"alert alert-danger"},_sfc_main$i={props:{mode:""},emits:["createConnection"],setup(t,{emit:e}){useRouter();var r=reactive({files:[],current_file:"",status:"",error:""});reactive({}),reactive([]),watch(()=>store.exporter_open,async(a,o)=>{console.log(a)});function n(){store.exporter_open=!1,r.current_file="",r.status=""}return onMounted(async()=>{r.schemas=await web.getSchemas()}),(a,o)=>unref(store).exporter_open?(openBlock(),createElementBlock("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$g,[createBaseVNode("div",_hoisted_3$f,[createBaseVNode("div",_hoisted_4$g,[createBaseVNode("h4",_hoisted_5$e," Export "+toDisplayString(unref(store).exporter_open),1)]),_hoisted_6$e,createBaseVNode("div",_hoisted_7$8,[createBaseVNode("b",null,toDisplayString(unref(r).current_file),1),createBaseVNode("button",{onClick:o[0]||(o[0]=s=>n()),type:"button",class:"btn btn-secondary"},"Cancel"),unref(r).status?(openBlock(),createElementBlock("div",_hoisted_8$8,toDisplayString(unref(r).status),1)):createCommentVNode("",!0),unref(r).error?(openBlock(),createElementBlock("div",_hoisted_9$8,toDisplayString(unref(r).error),1)):createCommentVNode("",!0)])])])])):createCommentVNode("",!0)}};var JYUHeader_vue_vue_type_style_index_0_scoped_true_lang="",_export_sfc=(t,e)=>{const r=t.__vccOpts||t;for(const[n,a]of e)r[n]=a;return r};const _withScopeId$1=t=>(pushScopeId("data-v-0f57012e"),t=t(),popScopeId(),t),_hoisted_1$g={class:"navbar navbar-expand-lg"},_hoisted_2$f={class:"container-fluid"},_hoisted_3$e=["src"],_hoisted_4$f=_withScopeId$1(()=>createBaseVNode("a",{class:"navbar-brand",href:"/"},"KuKaKo",-1)),_hoisted_5$d={key:0,class:"badge bg-danger",title:"KuKaKo is running on developer mode!"},_hoisted_6$d=_withScopeId$1(()=>createBaseVNode("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[createBaseVNode("span",{class:"navbar-toggler-icon"})],-1)),_hoisted_7$7={class:"collapse navbar-collapse",id:"navbarSupportedContent"},_hoisted_8$7={class:"navbar-nav me-auto mb-2 mb-lg-0"},_hoisted_9$7={key:0},_hoisted_10$7=["key:"],_hoisted_11$7={class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},_hoisted_12$7={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},_hoisted_13$7=createTextVNode("My connections"),_hoisted_14$7=_withScopeId$1(()=>createBaseVNode("li",null,[createBaseVNode("hr",{class:"dropdown-divider"})],-1)),_hoisted_15$6={key:1,class:"nav-item dropdown"},_hoisted_16$5=_withScopeId$1(()=>createBaseVNode("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Roolit ",-1)),_hoisted_17$5={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},_hoisted_18$5={key:2,class:"nav-item dropdown"},_hoisted_19$4=_withScopeId$1(()=>createBaseVNode("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Kartat ",-1)),_hoisted_20$4={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},_hoisted_21$4={class:"btn-group"},_hoisted_22$4=_withScopeId$1(()=>createBaseVNode("button",{type:"button",class:"btn navbar dropdown-toggle","data-bs-toggle":"dropdown","data-bs-display":"static","aria-expanded":"false",style:{"margin-left":"50px",padding:"15px"}}," admin ",-1)),_hoisted_23$4={class:"dropdown-menu dropdown-menu-start dropdown-menu-lg-start"},_hoisted_24$4={key:0},_hoisted_25$4=_withScopeId$1(()=>createBaseVNode("i",{class:"fs-5 bi-plus-circle"},null,-1)),_hoisted_26$3=_withScopeId$1(()=>createBaseVNode("span",{class:"ms-1 d-none d-sm-inline"},"Add Node",-1)),_hoisted_27$3=[_hoisted_25$4,_hoisted_26$3],_hoisted_28$3={class:"nav-item"},_hoisted_29$3=_withScopeId$1(()=>createBaseVNode("i",{class:"fs-5 bi-gear"},null,-1)),_hoisted_30$3=_withScopeId$1(()=>createBaseVNode("span",{class:"ms-1 d-none d-sm-inline"},"Schema",-1)),_hoisted_31$3={key:1,class:"nav-item"},_hoisted_32$3=_withScopeId$1(()=>createBaseVNode("i",{class:"fs-5 bi-question"},null,-1)),_hoisted_33$3=_withScopeId$1(()=>createBaseVNode("span",{class:"ms-1 d-none d-sm-inline"},"Navigation",-1)),_hoisted_34$2={class:"nav-item"},_hoisted_35$2=_withScopeId$1(()=>createBaseVNode("i",{class:"fs-5 bi-info-circle"},null,-1)),_hoisted_36$2=_withScopeId$1(()=>createBaseVNode("span",{class:"ms-1 d-none d-sm-inline"},"About",-1)),_hoisted_37$2=_withScopeId$1(()=>createBaseVNode("li",null,[createBaseVNode("hr",{class:"dropdown-divider"})],-1)),_hoisted_38$2=_withScopeId$1(()=>createBaseVNode("li",null,[createBaseVNode("hr",{class:"dropdown-divider"})],-1)),_hoisted_39$2=_withScopeId$1(()=>createBaseVNode("li",null,[createBaseVNode("hr",{class:"dropdown-divider"})],-1)),_sfc_main$h={props:{mode:""},setup(t){return onMounted(async()=>{store.menus=await web.getMenus(),store.tags=await web.getTags(),store.maps=await web.getMaps(),store.groups=await web.getGroups()}),(e,r)=>{const n=resolveComponent("router-link");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("nav",_hoisted_1$g,[createBaseVNode("div",_hoisted_2$f,[createBaseVNode("img",{class:"mr-3",src:"icons/logo.svg",height:"40px"},null,8,_hoisted_3$e),_hoisted_4$f,unref(store).user&&unref(store).user.mode=="development"?(openBlock(),createElementBlock("div",_hoisted_5$d,"LOCAL")):createCommentVNode("",!0),_hoisted_6$d,createBaseVNode("div",_hoisted_7$7,[createBaseVNode("ul",_hoisted_8$7,[unref(store).menus.length==0?(openBlock(),createElementBlock("li",_hoisted_9$7," No menus defined ")):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(store).menus,a=>(openBlock(),createElementBlock("li",{"key:":a.label,class:"nav-item dropdown"},[createBaseVNode("a",_hoisted_11$7,toDisplayString(a.label),1),createBaseVNode("ul",_hoisted_12$7,[a.id=="me"?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(n,{to:"graph?node=me",class:"dropdown-item"},{default:withCtx(()=>[_hoisted_13$7]),_:1}),_hoisted_14$7],64)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.items,o=>(openBlock(),createElementBlock("li",{key:o["@rid"]},[o["@type"]=="Query"?(openBlock(),createBlock(n,{key:0,to:`graph?query=${o["@rid"].replace("#","")}`,class:"dropdown-item"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.label),1)]),_:2},1032,["to"])):(openBlock(),createBlock(n,{key:1,to:`/graph?tag=${o.id.replace("#","")}`,class:"dropdown-item"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.label),1)]),_:2},1032,["to"]))]))),128))])],8,_hoisted_10$7))),256)),unref(store).tags.length>0?(openBlock(),createElementBlock("li",_hoisted_15$6,[_hoisted_16$5,createBaseVNode("ul",_hoisted_17$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(store).tags,a=>(openBlock(),createElementBlock("li",{key:a["@rid"]},[createVNode(n,{to:`graph?tag=${a["@rid"].replace("#","")}`,class:"dropdown-item"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.label),1)]),_:2},1032,["to"])]))),128))])])):createCommentVNode("",!0),unref(store).maps.length>0?(openBlock(),createElementBlock("li",_hoisted_18$5,[_hoisted_19$4,createBaseVNode("ul",_hoisted_20$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(store).maps,a=>(openBlock(),createElementBlock("li",{key:a["@rid"]},[createVNode(n,{to:`graph?map=${a["@rid"].replace("#","")}`,class:"dropdown-item"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.label),1)]),_:2},1032,["to"])]))),128))])])):createCommentVNode("",!0)]),createVNode(_sfc_main$k),createBaseVNode("div",_hoisted_21$4,[_hoisted_22$4,createBaseVNode("ul",_hoisted_23$4,[unref(store).user&&unref(store).user.access!="user"?(openBlock(),createElementBlock("li",_hoisted_24$4,[createBaseVNode("div",{onClick:r[0]||(r[0]=a=>unref(store).node_creator_open=!0),class:"dropdown-item"},_hoisted_27$3)])):createCommentVNode("",!0),createBaseVNode("li",_hoisted_28$3,[createVNode(n,{to:"/schema",class:"dropdown-item"},{default:withCtx(()=>[_hoisted_29$3,_hoisted_30$3]),_:1})]),unref(store).user&&unref(store).user.access=="admin"?(openBlock(),createElementBlock("li",_hoisted_31$3,[createVNode(n,{to:"queries",class:"dropdown-item"},{default:withCtx(()=>[_hoisted_32$3,_hoisted_33$3]),_:1})])):createCommentVNode("",!0),createBaseVNode("li",_hoisted_34$2,[createVNode(n,{to:"/about",class:"dropdown-item"},{default:withCtx(()=>[_hoisted_35$2,_hoisted_36$2]),_:1})]),unref(store).user&&unref(store).user.mode=="development"?(openBlock(),createElementBlock(Fragment,{key:2},[_hoisted_37$2,createBaseVNode("li",{class:"dropdown-item",onClick:r[1]||(r[1]=a=>unref(store).importer_open="graph")},"Import Graph"),createBaseVNode("li",{class:"dropdown-item",onClick:r[2]||(r[2]=a=>unref(store).exporter_open="graph")},"Export Graph"),_hoisted_38$2,createBaseVNode("li",{class:"dropdown-item",onClick:r[3]||(r[3]=a=>unref(store).importer_open="schemas")},"Import Schema"),createBaseVNode("li",{class:"dropdown-item",onClick:r[4]||(r[4]=a=>unref(store).exporter_open="schemas")},"Export Schema"),_hoisted_39$2,createBaseVNode("li",{class:"dropdown-item",onClick:r[5]||(r[5]=a=>unref(store).importer_open="styles")},"Import Style"),createBaseVNode("li",{class:"dropdown-item",onClick:r[6]||(r[6]=a=>unref(store).exporter_open="styles")},"Export Style")],64)):createCommentVNode("",!0)])])])])]),createVNode(_sfc_main$j),createVNode(_sfc_main$i)],64)}}};var JYUHeader=_export_sfc(_sfc_main$h,[["__scopeId","data-v-0f57012e"]]),FUNC_ERROR_TEXT$3="Expected a function",NAN=0/0,symbolTag$3="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal$3=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf$3=typeof self=="object"&&self&&self.Object===Object&&self,root$3=freeGlobal$3||freeSelf$3||Function("return this")(),objectProto$3=Object.prototype,objectToString$3=objectProto$3.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root$3.Date.now()};function debounce$1(t,e,r){var n,a,o,s,l,u,c=0,f=!1,d=!1,g=!0;if(typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT$3);e=toNumber(e)||0,isObject$3(r)&&(f=!!r.leading,d="maxWait"in r,o=d?nativeMax(toNumber(r.maxWait)||0,e):o,g="trailing"in r?!!r.trailing:g);function v(D){var x=n,L=a;return n=a=void 0,c=D,s=t.apply(L,x),s}function m(D){return c=D,l=setTimeout(E,e),f?v(D):s}function y(D){var x=D-u,L=D-c,R=e-x;return d?nativeMin(R,o-L):R}function b(D){var x=D-u,L=D-c;return u===void 0||x>=e||x<0||d&&L>=o}function E(){var D=now();if(b(D))return w(D);l=setTimeout(E,y(D))}function w(D){return l=void 0,g&&n?v(D):(n=a=void 0,s)}function _(){l!==void 0&&clearTimeout(l),c=0,n=u=a=l=void 0}function T(){return l===void 0?s:w(now())}function O(){var D=now(),x=b(D);if(n=arguments,a=this,u=D,x){if(l===void 0)return m(u);if(d)return l=setTimeout(E,e),v(u)}return l===void 0&&(l=setTimeout(E,e)),s}return O.cancel=_,O.flush=T,O}function isObject$3(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function isObjectLike$3(t){return!!t&&typeof t=="object"}function isSymbol$3(t){return typeof t=="symbol"||isObjectLike$3(t)&&objectToString$3.call(t)==symbolTag$3}function toNumber(t){if(typeof t=="number")return t;if(isSymbol$3(t))return NAN;if(isObject$3(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=isObject$3(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(reTrim,"");var r=reIsBinary.test(t);return r||reIsOctal.test(t)?freeParseInt(t.slice(2),r?2:8):reIsBadHex.test(t)?NAN:+t}var lodash_debounce=debounce$1,heap$1={exports:{}};(function(t,e){(function(){var r,n,a,o,s,l,u,c,f,d,g,v,m,y,b;a=Math.floor,d=Math.min,n=function(E,w){return E<w?-1:E>w?1:0},f=function(E,w,_,T,O){var D;if(_==null&&(_=0),O==null&&(O=n),_<0)throw new Error("lo must be non-negative");for(T==null&&(T=E.length);_<T;)D=a((_+T)/2),O(w,E[D])<0?T=D:_=D+1;return[].splice.apply(E,[_,_-_].concat(w)),w},l=function(E,w,_){return _==null&&(_=n),E.push(w),y(E,0,E.length-1,_)},s=function(E,w){var _,T;return w==null&&(w=n),_=E.pop(),E.length?(T=E[0],E[0]=_,b(E,0,w)):T=_,T},c=function(E,w,_){var T;return _==null&&(_=n),T=E[0],E[0]=w,b(E,0,_),T},u=function(E,w,_){var T;return _==null&&(_=n),E.length&&_(E[0],w)<0&&(T=[E[0],w],w=T[0],E[0]=T[1],b(E,0,_)),w},o=function(E,w){var _,T,O,D,x,L;for(w==null&&(w=n),D=function(){L=[];for(var R=0,C=a(E.length/2);0<=C?R<C:R>C;0<=C?R++:R--)L.push(R);return L}.apply(this).reverse(),x=[],T=0,O=D.length;T<O;T++)_=D[T],x.push(b(E,_,w));return x},m=function(E,w,_){var T;if(_==null&&(_=n),T=E.indexOf(w),T!==-1)return y(E,0,T,_),b(E,T,_)},g=function(E,w,_){var T,O,D,x,L;if(_==null&&(_=n),O=E.slice(0,w),!O.length)return O;for(o(O,_),L=E.slice(w),D=0,x=L.length;D<x;D++)T=L[D],u(O,T,_);return O.sort(_).reverse()},v=function(E,w,_){var T,O,D,x,L,R,C,A,S;if(_==null&&(_=n),w*10<=E.length){if(D=E.slice(0,w).sort(_),!D.length)return D;for(O=D[D.length-1],C=E.slice(w),x=0,R=C.length;x<R;x++)T=C[x],_(T,O)<0&&(f(D,T,0,null,_),D.pop(),O=D[D.length-1]);return D}for(o(E,_),S=[],L=0,A=d(w,E.length);0<=A?L<A:L>A;0<=A?++L:--L)S.push(s(E,_));return S},y=function(E,w,_,T){var O,D,x;for(T==null&&(T=n),O=E[_];_>w;){if(x=_-1>>1,D=E[x],T(O,D)<0){E[_]=D,_=x;continue}break}return E[_]=O},b=function(E,w,_){var T,O,D,x,L;for(_==null&&(_=n),O=E.length,L=w,D=E[w],T=2*w+1;T<O;)x=T+1,x<O&&!(_(E[T],E[x])<0)&&(T=x),E[w]=E[T],w=T,T=2*w+1;return E[w]=D,y(E,L,w,_)},r=function(){E.push=l,E.pop=s,E.replace=c,E.pushpop=u,E.heapify=o,E.updateItem=m,E.nlargest=g,E.nsmallest=v;function E(w){this.cmp=w!=null?w:n,this.nodes=[]}return E.prototype.push=function(w){return l(this.nodes,w,this.cmp)},E.prototype.pop=function(){return s(this.nodes,this.cmp)},E.prototype.peek=function(){return this.nodes[0]},E.prototype.contains=function(w){return this.nodes.indexOf(w)!==-1},E.prototype.replace=function(w){return c(this.nodes,w,this.cmp)},E.prototype.pushpop=function(w){return u(this.nodes,w,this.cmp)},E.prototype.heapify=function(){return o(this.nodes,this.cmp)},E.prototype.updateItem=function(w){return m(this.nodes,w,this.cmp)},E.prototype.clear=function(){return this.nodes=[]},E.prototype.empty=function(){return this.nodes.length===0},E.prototype.size=function(){return this.nodes.length},E.prototype.clone=function(){var w;return w=new E,w.nodes=this.nodes.slice(0),w},E.prototype.toArray=function(){return this.nodes.slice(0)},E.prototype.insert=E.prototype.push,E.prototype.top=E.prototype.peek,E.prototype.front=E.prototype.peek,E.prototype.has=E.prototype.contains,E.prototype.copy=E.prototype.clone,E}(),function(E,w){return t.exports=w()}(this,function(){return r})}).call(commonjsGlobal)})(heap$1);var heap=heap$1.exports,FUNC_ERROR_TEXT$2="Expected a function",HASH_UNDEFINED$2="__lodash_hash_undefined__",INFINITY$2=1/0,funcTag$2="[object Function]",genTag$2="[object GeneratorFunction]",symbolTag$2="[object Symbol]",reIsDeepProp$1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp$1=/^\w*$/,reLeadingDot$2=/^\./,rePropName$2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar$2=/[\\^$.*+?()[\]{}|]/g,reEscapeChar$2=/\\(\\)?/g,reIsHostCtor$2=/^\[object .+?Constructor\]$/,freeGlobal$2=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf$2=typeof self=="object"&&self&&self.Object===Object&&self,root$2=freeGlobal$2||freeSelf$2||Function("return this")();function getValue$3(t,e){return t==null?void 0:t[e]}function isHostObject$2(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var arrayProto$2=Array.prototype,funcProto$2=Function.prototype,objectProto$2=Object.prototype,coreJsData$2=root$2["__core-js_shared__"],maskSrcKey$2=function(){var t=/[^.]+$/.exec(coreJsData$2&&coreJsData$2.keys&&coreJsData$2.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),funcToString$2=funcProto$2.toString,hasOwnProperty$2=objectProto$2.hasOwnProperty,objectToString$2=objectProto$2.toString,reIsNative$2=RegExp("^"+funcToString$2.call(hasOwnProperty$2).replace(reRegExpChar$2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol$3=root$2.Symbol,splice$2=arrayProto$2.splice,Map$4=getNative$2(root$2,"Map"),nativeCreate$2=getNative$2(Object,"create"),symbolProto$2=Symbol$3?Symbol$3.prototype:void 0,symbolToString$2=symbolProto$2?symbolProto$2.toString:void 0;function Hash$2(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function hashClear$2(){this.__data__=nativeCreate$2?nativeCreate$2(null):{}}function hashDelete$2(t){return this.has(t)&&delete this.__data__[t]}function hashGet$2(t){var e=this.__data__;if(nativeCreate$2){var r=e[t];return r===HASH_UNDEFINED$2?void 0:r}return hasOwnProperty$2.call(e,t)?e[t]:void 0}function hashHas$2(t){var e=this.__data__;return nativeCreate$2?e[t]!==void 0:hasOwnProperty$2.call(e,t)}function hashSet$2(t,e){var r=this.__data__;return r[t]=nativeCreate$2&&e===void 0?HASH_UNDEFINED$2:e,this}Hash$2.prototype.clear=hashClear$2;Hash$2.prototype.delete=hashDelete$2;Hash$2.prototype.get=hashGet$2;Hash$2.prototype.has=hashHas$2;Hash$2.prototype.set=hashSet$2;function ListCache$2(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function listCacheClear$2(){this.__data__=[]}function listCacheDelete$2(t){var e=this.__data__,r=assocIndexOf$2(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():splice$2.call(e,r,1),!0}function listCacheGet$2(t){var e=this.__data__,r=assocIndexOf$2(e,t);return r<0?void 0:e[r][1]}function listCacheHas$2(t){return assocIndexOf$2(this.__data__,t)>-1}function listCacheSet$2(t,e){var r=this.__data__,n=assocIndexOf$2(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}ListCache$2.prototype.clear=listCacheClear$2;ListCache$2.prototype.delete=listCacheDelete$2;ListCache$2.prototype.get=listCacheGet$2;ListCache$2.prototype.has=listCacheHas$2;ListCache$2.prototype.set=listCacheSet$2;function MapCache$2(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function mapCacheClear$2(){this.__data__={hash:new Hash$2,map:new(Map$4||ListCache$2),string:new Hash$2}}function mapCacheDelete$2(t){return getMapData$2(this,t).delete(t)}function mapCacheGet$2(t){return getMapData$2(this,t).get(t)}function mapCacheHas$2(t){return getMapData$2(this,t).has(t)}function mapCacheSet$2(t,e){return getMapData$2(this,t).set(t,e),this}MapCache$2.prototype.clear=mapCacheClear$2;MapCache$2.prototype.delete=mapCacheDelete$2;MapCache$2.prototype.get=mapCacheGet$2;MapCache$2.prototype.has=mapCacheHas$2;MapCache$2.prototype.set=mapCacheSet$2;function assocIndexOf$2(t,e){for(var r=t.length;r--;)if(eq$2(t[r][0],e))return r;return-1}function baseGet(t,e){e=isKey$1(e,t)?[e]:castPath$1(e);for(var r=0,n=e.length;t!=null&&r<n;)t=t[toKey$2(e[r++])];return r&&r==n?t:void 0}function baseIsNative$2(t){if(!isObject$2(t)||isMasked$2(t))return!1;var e=isFunction$2(t)||isHostObject$2(t)?reIsNative$2:reIsHostCtor$2;return e.test(toSource$2(t))}function baseToString$2(t){if(typeof t=="string")return t;if(isSymbol$2(t))return symbolToString$2?symbolToString$2.call(t):"";var e=t+"";return e=="0"&&1/t==-INFINITY$2?"-0":e}function castPath$1(t){return isArray$2(t)?t:stringToPath$2(t)}function getMapData$2(t,e){var r=t.__data__;return isKeyable$2(e)?r[typeof e=="string"?"string":"hash"]:r.map}function getNative$2(t,e){var r=getValue$3(t,e);return baseIsNative$2(r)?r:void 0}function isKey$1(t,e){if(isArray$2(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||isSymbol$2(t)?!0:reIsPlainProp$1.test(t)||!reIsDeepProp$1.test(t)||e!=null&&t in Object(e)}function isKeyable$2(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function isMasked$2(t){return!!maskSrcKey$2&&maskSrcKey$2 in t}var stringToPath$2=memoize$3(function(t){t=toString$3(t);var e=[];return reLeadingDot$2.test(t)&&e.push(""),t.replace(rePropName$2,function(r,n,a,o){e.push(a?o.replace(reEscapeChar$2,"$1"):n||r)}),e});function toKey$2(t){if(typeof t=="string"||isSymbol$2(t))return t;var e=t+"";return e=="0"&&1/t==-INFINITY$2?"-0":e}function toSource$2(t){if(t!=null){try{return funcToString$2.call(t)}catch{}try{return t+""}catch{}}return""}function memoize$3(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var s=t.apply(this,n);return r.cache=o.set(a,s),s};return r.cache=new(memoize$3.Cache||MapCache$2),r}memoize$3.Cache=MapCache$2;function eq$2(t,e){return t===e||t!==t&&e!==e}var isArray$2=Array.isArray;function isFunction$2(t){var e=isObject$2(t)?objectToString$2.call(t):"";return e==funcTag$2||e==genTag$2}function isObject$2(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function isObjectLike$2(t){return!!t&&typeof t=="object"}function isSymbol$2(t){return typeof t=="symbol"||isObjectLike$2(t)&&objectToString$2.call(t)==symbolTag$2}function toString$3(t){return t==null?"":baseToString$2(t)}function get$1(t,e,r){var n=t==null?void 0:baseGet(t,e);return n===void 0?r:n}var lodash_get=get$1,FUNC_ERROR_TEXT$1="Expected a function",HASH_UNDEFINED$1="__lodash_hash_undefined__",INFINITY$1=1/0,MAX_SAFE_INTEGER=9007199254740991,funcTag$1="[object Function]",genTag$1="[object GeneratorFunction]",symbolTag$1="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot$1=/^\./,rePropName$1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar$1=/[\\^$.*+?()[\]{}|]/g,reEscapeChar$1=/\\(\\)?/g,reIsHostCtor$1=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf$1=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal$1||freeSelf$1||Function("return this")();function getValue$2(t,e){return t==null?void 0:t[e]}function isHostObject$1(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var arrayProto$1=Array.prototype,funcProto$1=Function.prototype,objectProto$1=Object.prototype,coreJsData$1=root$1["__core-js_shared__"],maskSrcKey$1=function(){var t=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),funcToString$1=funcProto$1.toString,hasOwnProperty$1=objectProto$1.hasOwnProperty,objectToString$1=objectProto$1.toString,reIsNative$1=RegExp("^"+funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar$1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol$2=root$1.Symbol,splice$1=arrayProto$1.splice,Map$3=getNative$1(root$1,"Map"),nativeCreate$1=getNative$1(Object,"create"),symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolToString$1=symbolProto$1?symbolProto$1.toString:void 0;function Hash$1(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function hashClear$1(){this.__data__=nativeCreate$1?nativeCreate$1(null):{}}function hashDelete$1(t){return this.has(t)&&delete this.__data__[t]}function hashGet$1(t){var e=this.__data__;if(nativeCreate$1){var r=e[t];return r===HASH_UNDEFINED$1?void 0:r}return hasOwnProperty$1.call(e,t)?e[t]:void 0}function hashHas$1(t){var e=this.__data__;return nativeCreate$1?e[t]!==void 0:hasOwnProperty$1.call(e,t)}function hashSet$1(t,e){var r=this.__data__;return r[t]=nativeCreate$1&&e===void 0?HASH_UNDEFINED$1:e,this}Hash$1.prototype.clear=hashClear$1;Hash$1.prototype.delete=hashDelete$1;Hash$1.prototype.get=hashGet$1;Hash$1.prototype.has=hashHas$1;Hash$1.prototype.set=hashSet$1;function ListCache$1(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function listCacheClear$1(){this.__data__=[]}function listCacheDelete$1(t){var e=this.__data__,r=assocIndexOf$1(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():splice$1.call(e,r,1),!0}function listCacheGet$1(t){var e=this.__data__,r=assocIndexOf$1(e,t);return r<0?void 0:e[r][1]}function listCacheHas$1(t){return assocIndexOf$1(this.__data__,t)>-1}function listCacheSet$1(t,e){var r=this.__data__,n=assocIndexOf$1(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}ListCache$1.prototype.clear=listCacheClear$1;ListCache$1.prototype.delete=listCacheDelete$1;ListCache$1.prototype.get=listCacheGet$1;ListCache$1.prototype.has=listCacheHas$1;ListCache$1.prototype.set=listCacheSet$1;function MapCache$1(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function mapCacheClear$1(){this.__data__={hash:new Hash$1,map:new(Map$3||ListCache$1),string:new Hash$1}}function mapCacheDelete$1(t){return getMapData$1(this,t).delete(t)}function mapCacheGet$1(t){return getMapData$1(this,t).get(t)}function mapCacheHas$1(t){return getMapData$1(this,t).has(t)}function mapCacheSet$1(t,e){return getMapData$1(this,t).set(t,e),this}MapCache$1.prototype.clear=mapCacheClear$1;MapCache$1.prototype.delete=mapCacheDelete$1;MapCache$1.prototype.get=mapCacheGet$1;MapCache$1.prototype.has=mapCacheHas$1;MapCache$1.prototype.set=mapCacheSet$1;function assignValue(t,e,r){var n=t[e];(!(hasOwnProperty$1.call(t,e)&&eq$1(n,r))||r===void 0&&!(e in t))&&(t[e]=r)}function assocIndexOf$1(t,e){for(var r=t.length;r--;)if(eq$1(t[r][0],e))return r;return-1}function baseIsNative$1(t){if(!isObject$1(t)||isMasked$1(t))return!1;var e=isFunction$1(t)||isHostObject$1(t)?reIsNative$1:reIsHostCtor$1;return e.test(toSource$1(t))}function baseSet(t,e,r,n){if(!isObject$1(t))return t;e=isKey(e,t)?[e]:castPath(e);for(var a=-1,o=e.length,s=o-1,l=t;l!=null&&++a<o;){var u=toKey$1(e[a]),c=r;if(a!=s){var f=l[u];c=n?n(f,u,l):void 0,c===void 0&&(c=isObject$1(f)?f:isIndex(e[a+1])?[]:{})}assignValue(l,u,c),l=l[u]}return t}function baseToString$1(t){if(typeof t=="string")return t;if(isSymbol$1(t))return symbolToString$1?symbolToString$1.call(t):"";var e=t+"";return e=="0"&&1/t==-INFINITY$1?"-0":e}function castPath(t){return isArray$1(t)?t:stringToPath$1(t)}function getMapData$1(t,e){var r=t.__data__;return isKeyable$1(e)?r[typeof e=="string"?"string":"hash"]:r.map}function getNative$1(t,e){var r=getValue$2(t,e);return baseIsNative$1(r)?r:void 0}function isIndex(t,e){return e=e==null?MAX_SAFE_INTEGER:e,!!e&&(typeof t=="number"||reIsUint.test(t))&&t>-1&&t%1==0&&t<e}function isKey(t,e){if(isArray$1(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||isSymbol$1(t)?!0:reIsPlainProp.test(t)||!reIsDeepProp.test(t)||e!=null&&t in Object(e)}function isKeyable$1(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function isMasked$1(t){return!!maskSrcKey$1&&maskSrcKey$1 in t}var stringToPath$1=memoize$2(function(t){t=toString$2(t);var e=[];return reLeadingDot$1.test(t)&&e.push(""),t.replace(rePropName$1,function(r,n,a,o){e.push(a?o.replace(reEscapeChar$1,"$1"):n||r)}),e});function toKey$1(t){if(typeof t=="string"||isSymbol$1(t))return t;var e=t+"";return e=="0"&&1/t==-INFINITY$1?"-0":e}function toSource$1(t){if(t!=null){try{return funcToString$1.call(t)}catch{}try{return t+""}catch{}}return""}function memoize$2(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT$1);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var s=t.apply(this,n);return r.cache=o.set(a,s),s};return r.cache=new(memoize$2.Cache||MapCache$1),r}memoize$2.Cache=MapCache$1;function eq$1(t,e){return t===e||t!==t&&e!==e}var isArray$1=Array.isArray;function isFunction$1(t){var e=isObject$1(t)?objectToString$1.call(t):"";return e==funcTag$1||e==genTag$1}function isObject$1(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function isObjectLike$1(t){return!!t&&typeof t=="object"}function isSymbol$1(t){return typeof t=="symbol"||isObjectLike$1(t)&&objectToString$1.call(t)==symbolTag$1}function toString$2(t){return t==null?"":baseToString$1(t)}function set$1(t,e,r){return t==null?t:baseSet(t,e,r)}var lodash_set=set$1,FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function arrayMap(t,e){for(var r=-1,n=t?t.length:0,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}function getValue$1(t,e){return t==null?void 0:t[e]}function isHostObject(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var t=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol$1=root.Symbol,splice=arrayProto.splice,Map$2=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function Hash(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(t){return this.has(t)&&delete this.__data__[t]}function hashGet(t){var e=this.__data__;if(nativeCreate){var r=e[t];return r===HASH_UNDEFINED?void 0:r}return hasOwnProperty.call(e,t)?e[t]:void 0}function hashHas(t){var e=this.__data__;return nativeCreate?e[t]!==void 0:hasOwnProperty.call(e,t)}function hashSet(t,e){var r=this.__data__;return r[t]=nativeCreate&&e===void 0?HASH_UNDEFINED:e,this}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(t){var e=this.__data__,r=assocIndexOf(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():splice.call(e,r,1),!0}function listCacheGet(t){var e=this.__data__,r=assocIndexOf(e,t);return r<0?void 0:e[r][1]}function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1}function listCacheSet(t,e){var r=this.__data__,n=assocIndexOf(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function mapCacheDelete(t){return getMapData(this,t).delete(t)}function mapCacheGet(t){return getMapData(this,t).get(t)}function mapCacheHas(t){return getMapData(this,t).has(t)}function mapCacheSet(t,e){return getMapData(this,t).set(t,e),this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function assocIndexOf(t,e){for(var r=t.length;r--;)if(eq(t[r][0],e))return r;return-1}function baseIsNative(t){if(!isObject(t)||isMasked(t))return!1;var e=isFunction(t)||isHostObject(t)?reIsNative:reIsHostCtor;return e.test(toSource(t))}function baseToString(t){if(typeof t=="string")return t;if(isSymbol(t))return symbolToString?symbolToString.call(t):"";var e=t+"";return e=="0"&&1/t==-INFINITY?"-0":e}function copyArray$1(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function getMapData(t,e){var r=t.__data__;return isKeyable(e)?r[typeof e=="string"?"string":"hash"]:r.map}function getNative(t,e){var r=getValue$1(t,e);return baseIsNative(r)?r:void 0}function isKeyable(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function isMasked(t){return!!maskSrcKey&&maskSrcKey in t}var stringToPath=memoize$1(function(t){t=toString$1(t);var e=[];return reLeadingDot.test(t)&&e.push(""),t.replace(rePropName,function(r,n,a,o){e.push(a?o.replace(reEscapeChar,"$1"):n||r)}),e});function toKey(t){if(typeof t=="string"||isSymbol(t))return t;var e=t+"";return e=="0"&&1/t==-INFINITY?"-0":e}function toSource(t){if(t!=null){try{return funcToString.call(t)}catch{}try{return t+""}catch{}}return""}function memoize$1(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var s=t.apply(this,n);return r.cache=o.set(a,s),s};return r.cache=new(memoize$1.Cache||MapCache),r}memoize$1.Cache=MapCache;function eq(t,e){return t===e||t!==t&&e!==e}var isArray=Array.isArray;function isFunction(t){var e=isObject(t)?objectToString.call(t):"";return e==funcTag||e==genTag}function isObject(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function isObjectLike(t){return!!t&&typeof t=="object"}function isSymbol(t){return typeof t=="symbol"||isObjectLike(t)&&objectToString.call(t)==symbolTag}function toString$1(t){return t==null?"":baseToString(t)}function toPath$1(t){return isArray(t)?arrayMap(t,toKey):isSymbol(t)?[t]:copyArray$1(stringToPath(t))}var lodash_topath=toPath$1;function _interopDefault(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var util=_interopDefault(lodash_debounce),Heap=_interopDefault(heap),get=_interopDefault(lodash_get),set=_interopDefault(lodash_set),toPath=_interopDefault(lodash_topath);function _typeof(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(e){return typeof e}:_typeof=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _iterableToArrayLimit(t,e){var r=[],n=!0,a=!1,o=void 0;try{for(var s=t[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(u){a=!0,o=u}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw o}}return r}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var window$1=typeof window=="undefined"?null:window,navigator$1=window$1?window$1.navigator:null;window$1&&window$1.document;var typeofstr=_typeof(""),typeofobj=_typeof({}),typeoffn=_typeof(function(){}),typeofhtmlele=typeof HTMLElement=="undefined"?"undefined":_typeof(HTMLElement),instanceStr=function t(e){return e&&e.instanceString&&fn(e.instanceString)?e.instanceString():null},string=function t(e){return e!=null&&_typeof(e)==typeofstr},fn=function t(e){return e!=null&&_typeof(e)===typeoffn},array=function t(e){return!elementOrCollection(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},plainObject=function t(e){return e!=null&&_typeof(e)===typeofobj&&!array(e)&&e.constructor===Object},object=function t(e){return e!=null&&_typeof(e)===typeofobj},number=function t(e){return e!=null&&_typeof(e)===_typeof(1)&&!isNaN(e)},integer=function t(e){return number(e)&&Math.floor(e)===e},htmlElement=function t(e){if(typeofhtmlele!=="undefined")return e!=null&&e instanceof HTMLElement},elementOrCollection=function t(e){return element(e)||collection(e)},element=function t(e){return instanceStr(e)==="collection"&&e._private.single},collection=function t(e){return instanceStr(e)==="collection"&&!e._private.single},core=function t(e){return instanceStr(e)==="core"},stylesheet=function t(e){return instanceStr(e)==="stylesheet"},event=function t(e){return instanceStr(e)==="event"},emptyString=function t(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},domElement=function t(e){return typeof HTMLElement=="undefined"?!1:e instanceof HTMLElement},boundingBox=function t(e){return plainObject(e)&&number(e.x1)&&number(e.x2)&&number(e.y1)&&number(e.y2)},promise=function t(e){return object(e)&&fn(e.then)},ms=function t(){return navigator$1&&navigator$1.userAgent.match(/msie|trident|edge/i)},memoize=function t(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var o=[],s=0;s<arguments.length;s++)o.push(arguments[s]);return o.join("$")});var n=function a(){var o=this,s=arguments,l,u=r.apply(o,s),c=a.cache;return(l=c[u])||(l=c[u]=e.apply(o,s)),l};return n.cache={},n},camel2dash=memoize(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),dash2camel=memoize(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),prependCamel=memoize(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),capitalize=function t(e){return emptyString(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},number$1="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",rgba="rgb[a]?\\(("+number$1+"[%]?)\\s*,\\s*("+number$1+"[%]?)\\s*,\\s*("+number$1+"[%]?)(?:\\s*,\\s*("+number$1+"))?\\)",rgbaNoBackRefs="rgb[a]?\\((?:"+number$1+"[%]?)\\s*,\\s*(?:"+number$1+"[%]?)\\s*,\\s*(?:"+number$1+"[%]?)(?:\\s*,\\s*(?:"+number$1+"))?\\)",hsla="hsl[a]?\\(("+number$1+")\\s*,\\s*("+number$1+"[%])\\s*,\\s*("+number$1+"[%])(?:\\s*,\\s*("+number$1+"))?\\)",hslaNoBackRefs="hsl[a]?\\((?:"+number$1+")\\s*,\\s*(?:"+number$1+"[%])\\s*,\\s*(?:"+number$1+"[%])(?:\\s*,\\s*(?:"+number$1+"))?\\)",hex3="\\#[0-9a-fA-F]{3}",hex6="\\#[0-9a-fA-F]{6}",ascending=function t(e,r){return e<r?-1:e>r?1:0},descending=function t(e,r){return-1*ascending(e,r)},extend=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var a=Object.keys(n),o=0;o<a.length;o++){var s=a[o];t[s]=n[s]}}return t},hex2tuple=function t(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,a,o,s=16;return r?(n=parseInt(e[1]+e[1],s),a=parseInt(e[2]+e[2],s),o=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),a=parseInt(e[3]+e[4],s),o=parseInt(e[5]+e[6],s)),[n,a,o]}},hsl2tuple=function t(e){var r,n,a,o,s,l,u,c;function f(m,y,b){return b<0&&(b+=1),b>1&&(b-=1),b<1/6?m+(y-m)*6*b:b<1/2?y:b<2/3?m+(y-m)*(2/3-b)*6:m}var d=new RegExp("^"+hsla+"$").exec(e);if(d){if(n=parseInt(d[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(d[2]),a<0||a>100||(a=a/100,o=parseFloat(d[3]),o<0||o>100)||(o=o/100,s=d[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(a===0)l=u=c=Math.round(o*255);else{var g=o<.5?o*(1+a):o+a-o*a,v=2*o-g;l=Math.round(255*f(v,g,n+1/3)),u=Math.round(255*f(v,g,n)),c=Math.round(255*f(v,g,n-1/3))}r=[l,u,c,s]}return r},rgb2tuple=function t(e){var r,n=new RegExp("^"+rgba+"$").exec(e);if(n){r=[];for(var a=[],o=1;o<=3;o++){var s=n[o];if(s[s.length-1]==="%"&&(a[o]=!0),s=parseFloat(s),a[o]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var l=a[1]||a[2]||a[3],u=a[1]&&a[2]&&a[3];if(l&&!u)return;var c=n[4];if(c!==void 0){if(c=parseFloat(c),c<0||c>1)return;r.push(c)}}return r},colorname2tuple=function t(e){return colors[e.toLowerCase()]},color2tuple=function t(e){return(array(e)?e:null)||colorname2tuple(e)||hex2tuple(e)||rgb2tuple(e)||hsl2tuple(e)},colors={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},setMap=function t(e){for(var r=e.map,n=e.keys,a=n.length,o=0;o<a;o++){var s=n[o];if(plainObject(s))throw Error("Tried to set map with object key");o<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},getMap=function t(e){for(var r=e.map,n=e.keys,a=n.length,o=0;o<a;o++){var s=n[o];if(plainObject(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r},performance$1=window$1?window$1.performance:null,pnow=performance$1&&performance$1.now?function(){return performance$1.now()}:function(){return Date.now()},raf=function(){if(window$1){if(window$1.requestAnimationFrame)return function(t){window$1.requestAnimationFrame(t)};if(window$1.mozRequestAnimationFrame)return function(t){window$1.mozRequestAnimationFrame(t)};if(window$1.webkitRequestAnimationFrame)return function(t){window$1.webkitRequestAnimationFrame(t)};if(window$1.msRequestAnimationFrame)return function(t){window$1.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(pnow())},1e3/60)}}(),requestAnimationFrame=function t(e){return raf(e)},performanceNow=pnow,DEFAULT_HASH_SEED=9261,K=65599,DEFAULT_HASH_SEED_ALT=5381,hashIterableInts=function t(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DEFAULT_HASH_SEED,n=r,a;a=e.next(),!a.done;)n=n*K+a.value|0;return n},hashInt=function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DEFAULT_HASH_SEED;return r*K+e|0},hashIntAlt=function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DEFAULT_HASH_SEED_ALT;return(r<<5)+r+e|0},combineHashes=function t(e,r){return e*2097152+r},combineHashesArray=function t(e){return e[0]*2097152+e[1]},hashArrays=function t(e,r){return[hashInt(e[0],r[0]),hashIntAlt(e[1],r[1])]},hashIntsArray=function t(e,r){var n={value:0,done:!1},a=0,o=e.length,s={next:function(){return a<o?n.value=e[a++]:n.done=!0,n}};return hashIterableInts(s,r)},hashString=function t(e,r){var n={value:0,done:!1},a=0,o=e.length,s={next:function(){return a<o?n.value=e.charCodeAt(a++):n.done=!0,n}};return hashIterableInts(s,r)},hashStrings=function t(){return hashStringsArray(arguments)},hashStringsArray=function t(e){for(var r,n=0;n<e.length;n++){var a=e[n];n===0?r=hashString(a):r=hashString(a,r)}return r},warningsEnabled=!0,warnSupported=console.warn!=null,traceSupported=console.trace!=null,MAX_INT=Number.MAX_SAFE_INTEGER||9007199254740991,trueify=function t(){return!0},falsify=function t(){return!1},zeroify=function t(){return 0},noop$1=function t(){},error=function t(e){throw new Error(e)},warnings=function t(e){if(e!==void 0)warningsEnabled=!!e;else return warningsEnabled},warn=function t(e){!warnings()||(warnSupported?console.warn(e):(console.log(e),traceSupported&&console.trace()))},clone=function t(e){return extend({},e)},copy=function t(e){return e==null?e:array(e)?e.slice():plainObject(e)?clone(e):e},copyArray=function t(e){return e.slice()},uuid=function t(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},_staticEmptyObject={},staticEmptyObject=function t(){return _staticEmptyObject},defaults=function t(e){var r=Object.keys(e);return function(n){for(var a={},o=0;o<r.length;o++){var s=r[o],l=n==null?void 0:n[s];a[s]=l===void 0?e[s]:l}return a}},removeFromArray=function t(e,r,n){for(var a=e.length-1;a>=0&&!(e[a]===r&&(e.splice(a,1),n));a--);},clearArray=function t(e){e.splice(0,e.length)},push=function t(e,r){for(var n=0;n<r.length;n++){var a=r[n];e.push(a)}},getPrefixedProperty=function t(e,r,n){return n&&(r=prependCamel(n,r)),e[r]},setPrefixedProperty=function t(e,r,n,a){n&&(r=prependCamel(n,r)),e[r]=a},ObjectMap=function(){function t(){_classCallCheck(this,t),this._obj={}}return _createClass(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),Map$1=typeof Map!="undefined"?Map:ObjectMap,undef="undefined",ObjectSet=function(){function t(e){if(_classCallCheck(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return _createClass(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),Set$1=(typeof Set=="undefined"?"undefined":_typeof(Set))!==undef?Set:ObjectSet,Element$1=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!core(e)){error("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){error("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var o=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new Set$1,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(o.position.x==null&&(o.position.x=0),o.position.y==null&&(o.position.y=0),r.renderedPosition){var s=r.renderedPosition,l=e.pan(),u=e.zoom();o.position={x:(s.x-l.x)/u,y:(s.y-l.y)/u}}var c=[];array(r.classes)?c=r.classes:string(r.classes)&&(c=r.classes.split(/\s+/));for(var f=0,d=c.length;f<d;f++){var g=c[f];!g||g===""||o.classes.add(g)}this.createEmitter();var v=r.style||r.css;v&&(warn("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(v)),(n===void 0||n)&&this.restore()},defineSearch=function t(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,o){var s;plainObject(n)&&!elementOrCollection(n)&&(s=n,n=s.roots||s.root,a=s.visit,o=s.directed),o=arguments.length===2&&!fn(a)?a:o,a=fn(a)?a:function(){};for(var l=this._private.cy,u=n=string(n)?this.filter(n):n,c=[],f=[],d={},g={},v={},m=0,y,b=this.byGroup(),E=b.nodes,w=b.edges,_=0;_<u.length;_++){var T=u[_],O=T.id();T.isNode()&&(c.unshift(T),e.bfs&&(v[O]=!0,f.push(T)),g[O]=0)}var D=function(){var N=e.bfs?c.shift():c.pop(),$=N.id();if(e.dfs){if(v[$])return"continue";v[$]=!0,f.push(N)}var B=g[$],P=d[$],k=P!=null?P.source():null,H=P!=null?P.target():null,G=P==null?void 0:N.same(k)?H[0]:k[0],W=void 0;if(W=a(N,P,G,m++,B),W===!0)return y=N,"break";if(W===!1)return"break";for(var U=N.connectedEdges().filter(function(Y){return(!o||Y.source().same(N))&&w.has(Y)}),X=0;X<U.length;X++){var ee=U[X],te=ee.connectedNodes().filter(function(Y){return!Y.same(N)&&E.has(Y)}),V=te.id();te.length!==0&&!v[V]&&(te=te[0],c.push(te),e.bfs&&(v[V]=!0,f.push(te)),d[V]=ee,g[V]=g[$]+1)}};e:for(;c.length!==0;){var x=D();switch(x){case"continue":continue;case"break":break e}}for(var L=l.collection(),R=0;R<f.length;R++){var C=f[R],A=d[C.id()];A!=null&&L.push(A),L.push(C)}return{path:l.collection(L),found:l.collection(y)}}},elesfn={breadthFirstSearch:defineSearch({bfs:!0}),depthFirstSearch:defineSearch({dfs:!0})};elesfn.bfs=elesfn.breadthFirstSearch;elesfn.dfs=elesfn.depthFirstSearch;var dijkstraDefaults=defaults({root:null,weight:function t(e){return 1},directed:!1}),elesfn$1={dijkstra:function t(e){if(!plainObject(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=dijkstraDefaults(e),a=n.root,o=n.weight,s=n.directed,l=this,u=o,c=string(a)?this.filter(a)[0]:a[0],f={},d={},g={},v=this.byGroup(),m=v.nodes,y=v.edges;y.unmergeBy(function(B){return B.isLoop()});for(var b=function(P){return f[P.id()]},E=function(P,k){f[P.id()]=k,w.updateItem(P)},w=new Heap(function(B,P){return b(B)-b(P)}),_=0;_<m.length;_++){var T=m[_];f[T.id()]=T.same(c)?0:1/0,w.push(T)}for(var O=function(P,k){for(var H=(s?P.edgesTo(k):P.edgesWith(k)).intersect(y),G=1/0,W,U=0;U<H.length;U++){var X=H[U],ee=u(X);(ee<G||!W)&&(G=ee,W=X)}return{edge:W,dist:G}};w.size()>0;){var D=w.pop(),x=b(D),L=D.id();if(g[L]=x,x!==1/0)for(var R=D.neighborhood().intersect(m),C=0;C<R.length;C++){var A=R[C],S=A.id(),N=O(D,A),$=x+N.dist;$<b(A)&&(E(A,$),d[S]={node:D,edge:N.edge})}}return{distanceTo:function(P){var k=string(P)?m.filter(P)[0]:P[0];return g[k.id()]},pathTo:function(P){var k=string(P)?m.filter(P)[0]:P[0],H=[],G=k,W=G.id();if(k.length>0)for(H.unshift(k);d[W];){var U=d[W];H.unshift(U.edge),H.unshift(U.node),G=U.node,W=G.id()}return l.spawn(H)}}}},elesfn$2={kruskal:function t(e){e=e||function(_){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,o=n.length,s=new Array(o),l=n,u=function(T){for(var O=0;O<s.length;O++){var D=s[O];if(D.has(T))return O}},c=0;c<o;c++)s[c]=this.spawn(n[c]);for(var f=a.sort(function(_,T){return e(_)-e(T)}),d=0;d<f.length;d++){var g=f[d],v=g.source()[0],m=g.target()[0],y=u(v),b=u(m),E=s[y],w=s[b];y!==b&&(l.merge(g),E.merge(w),s.splice(b,1))}return l}},aStarDefaults=defaults({root:null,goal:null,weight:function t(e){return 1},heuristic:function t(e){return 0},directed:!1}),elesfn$3={aStar:function t(e){var r=this.cy(),n=aStarDefaults(e),a=n.root,o=n.goal,s=n.heuristic,l=n.directed,u=n.weight;a=r.collection(a)[0],o=r.collection(o)[0];var c=a.id(),f=o.id(),d={},g={},v={},m=new Heap(function(W,U){return g[W.id()]-g[U.id()]}),y=new Set$1,b={},E={},w=function(U,X){m.push(U),y.add(X)},_,T,O=function(){_=m.pop(),T=_.id(),y.delete(T)},D=function(U){return y.has(U)};w(a,c),d[c]=0,g[c]=s(a);for(var x=0;m.size()>0;){if(O(),x++,T===f){for(var L=[],R=o,C=f,A=E[C];L.unshift(R),A!=null&&L.unshift(A),R=b[C],R!=null;)C=R.id(),A=E[C];return{found:!0,distance:d[T],path:this.spawn(L),steps:x}}v[T]=!0;for(var S=_._private.edges,N=0;N<S.length;N++){var $=S[N];if(!!this.hasElementWithId($.id())&&!(l&&$.data("source")!==T)){var B=$.source(),P=$.target(),k=B.id()!==T?B:P,H=k.id();if(!!this.hasElementWithId(H)&&!v[H]){var G=d[T]+u($);if(!D(H)){d[H]=G,g[H]=G+s(k),w(k,H),b[H]=_,E[H]=$;continue}G<d[H]&&(d[H]=G,g[H]=G+s(k),b[H]=_,E[H]=$)}}}}return{found:!1,distance:void 0,path:void 0,steps:x}}},floydWarshallDefaults=defaults({weight:function t(e){return 1},directed:!1}),elesfn$4={floydWarshall:function t(e){for(var r=this.cy(),n=floydWarshallDefaults(e),a=n.weight,o=n.directed,s=a,l=this.byGroup(),u=l.nodes,c=l.edges,f=u.length,d=f*f,g=function(ee){return u.indexOf(ee)},v=function(ee){return u[ee]},m=new Array(d),y=0;y<d;y++){var b=y%f,E=(y-b)/f;E===b?m[y]=0:m[y]=1/0}for(var w=new Array(d),_=new Array(d),T=0;T<c.length;T++){var O=c[T],D=O.source()[0],x=O.target()[0];if(D!==x){var L=g(D),R=g(x),C=L*f+R,A=s(O);if(m[C]>A&&(m[C]=A,w[C]=R,_[C]=O),!o){var S=R*f+L;!o&&m[S]>A&&(m[S]=A,w[S]=L,_[S]=O)}}}for(var N=0;N<f;N++)for(var $=0;$<f;$++)for(var B=$*f+N,P=0;P<f;P++){var k=$*f+P,H=N*f+P;m[B]+m[H]<m[k]&&(m[k]=m[B]+m[H],w[k]=w[B])}var G=function(ee){return(string(ee)?r.filter(ee):ee)[0]},W=function(ee){return g(G(ee))},U={distance:function(ee,te){var V=W(ee),Y=W(te);return m[V*f+Y]},path:function(ee,te){var V=W(ee),Y=W(te),F=v(V);if(V===Y)return F.collection();if(w[V*f+Y]==null)return r.collection();var j=r.collection(),J=V,de;for(j.merge(F);V!==Y;)J=V,V=w[V*f+Y],de=_[J*f+V],j.merge(de),j.merge(v(V));return j}};return U}},bellmanFordDefaults=defaults({weight:function t(e){return 1},directed:!1,root:null}),elesfn$5={bellmanFord:function t(e){var r=this,n=bellmanFordDefaults(e),a=n.weight,o=n.directed,s=n.root,l=a,u=this,c=this.cy(),f=this.byGroup(),d=f.edges,g=f.nodes,v=g.length,m=new Map$1,y=!1,b=[];s=c.collection(s)[0],d.unmergeBy(function(oe){return oe.isLoop()});for(var E=d.length,w=function(ce){var ne=m.get(ce.id());return ne||(ne={},m.set(ce.id(),ne)),ne},_=function(ce){return(string(ce)?c.$(ce):ce)[0]},T=function(ce){return w(_(ce)).dist},O=function(ce){for(var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,ae=_(ce),pe=[],ue=ae;;){if(ue==null)return r.spawn();var se=w(ue),M=se.edge,Z=se.pred;if(pe.unshift(ue[0]),ue.same(ne)&&pe.length>0)break;M!=null&&pe.unshift(M),ue=Z}return u.spawn(pe)},D=0;D<v;D++){var x=g[D],L=w(x);x.same(s)?L.dist=0:L.dist=1/0,L.pred=null,L.edge=null}for(var R=!1,C=function(ce,ne,ae,pe,ue,se){var M=pe.dist+se;M<ue.dist&&!ae.same(pe.edge)&&(ue.dist=M,ue.pred=ce,ue.edge=ae,R=!0)},A=1;A<v;A++){R=!1;for(var S=0;S<E;S++){var N=d[S],$=N.source(),B=N.target(),P=l(N),k=w($),H=w(B);C($,B,N,k,H,P),o||C(B,$,N,H,k,P)}if(!R)break}if(R)for(var G=[],W=0;W<E;W++){var U=d[W],X=U.source(),ee=U.target(),te=l(U),V=w(X).dist,Y=w(ee).dist;if(V+te<Y||!o&&Y+te<V)if(y||(warn("Graph contains a negative weight cycle for Bellman-Ford"),y=!0),e.findNegativeWeightCycles!==!1){var F=[];V+te<Y&&F.push(X),!o&&Y+te<V&&F.push(ee);for(var j=F.length,J=0;J<j;J++){var de=F[J],re=[de];re.push(w(de).edge);for(var ve=w(de).pred;re.indexOf(ve)===-1;)re.push(ve),re.push(w(ve).edge),ve=w(ve).pred;re=re.slice(re.indexOf(ve));for(var z=re[0].id(),I=0,q=2;q<re.length;q+=2)re[q].id()<z&&(z=re[q].id(),I=q);re=re.slice(I).concat(re.slice(0,I)),re.push(re[0]);var ie=re.map(function(oe){return oe.id()}).join(",");G.indexOf(ie)===-1&&(b.push(u.spawn(re)),G.push(ie))}}else break}return{distanceTo:T,pathTo:O,hasNegativeWeightCycle:y,negativeWeightCycles:b}}},sqrt2=Math.sqrt(2),collapse=function t(e,r,n){n.length===0&&error("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],o=a[1],s=a[2],l=r[o],u=r[s],c=n,f=c.length-1;f>=0;f--){var d=c[f],g=d[1],v=d[2];(r[g]===l&&r[v]===u||r[g]===u&&r[v]===l)&&c.splice(f,1)}for(var m=0;m<c.length;m++){var y=c[m];y[1]===u?(c[m]=y.slice(),c[m][1]=l):y[2]===u&&(c[m]=y.slice(),c[m][2]=l)}for(var b=0;b<r.length;b++)r[b]===u&&(r[b]=l);return c},contractUntil=function t(e,r,n,a){for(;n>a;){var o=Math.floor(Math.random()*r.length);r=collapse(o,e,r),n--}return r},elesfn$6={kargerStein:function t(){var e=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(H){return H.isLoop()});var o=n.length,s=a.length,l=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),u=Math.floor(o/sqrt2);if(o<2){error("At least 2 nodes are required for Karger-Stein algorithm");return}for(var c=[],f=0;f<s;f++){var d=a[f];c.push([f,n.indexOf(d.source()),n.indexOf(d.target())])}for(var g=1/0,v=[],m=new Array(o),y=new Array(o),b=new Array(o),E=function(G,W){for(var U=0;U<o;U++)W[U]=G[U]},w=0;w<=l;w++){for(var _=0;_<o;_++)y[_]=_;var T=contractUntil(y,c.slice(),o,u),O=T.slice();E(y,b);var D=contractUntil(y,T,u,2),x=contractUntil(b,O,u,2);D.length<=x.length&&D.length<g?(g=D.length,v=D,E(y,m)):x.length<=D.length&&x.length<g&&(g=x.length,v=x,E(b,m))}for(var L=this.spawn(v.map(function(H){return a[H[0]]})),R=this.spawn(),C=this.spawn(),A=m[0],S=0;S<m.length;S++){var N=m[S],$=n[S];N===A?R.merge($):C.merge($)}var B=function(G){var W=e.spawn();return G.forEach(function(U){W.merge(U),U.connectedEdges().forEach(function(X){e.contains(X)&&!L.contains(X)&&W.merge(X)})}),W},P=[B(R),B(C)],k={cut:L,components:P,partition1:R,partition2:C};return k}},copyPosition=function t(e){return{x:e.x,y:e.y}},modelToRenderedPosition=function t(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},renderedToModelPosition=function t(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},array2point=function t(e){return{x:e[0],y:e[1]}},min$1=function t(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,o=r;o<n;o++){var s=e[o];isFinite(s)&&(a=Math.min(s,a))}return a},max$1=function t(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,o=r;o<n;o++){var s=e[o];isFinite(s)&&(a=Math.max(s,a))}return a},mean=function t(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,o=0,s=r;s<n;s++){var l=e[s];isFinite(l)&&(a+=l,o++)}return a/o},median=function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var l=0,u=e.length-1;u>=0;u--){var c=e[u];s?isFinite(c)||(e[u]=-1/0,l++):e.splice(u,1)}o&&e.sort(function(g,v){return g-v});var f=e.length,d=Math.floor(f/2);return f%2!==0?e[d+1+l]:(e[d-1+l]+e[d+l])/2},deg2rad=function t(e){return Math.PI*e/180},getAngleFromDisp=function t(e,r){return Math.atan2(r,e)-Math.PI/2},log2=Math.log2||function(t){return Math.log(t)/Math.log(2)},signum=function t(e){return e>0?1:e<0?-1:0},dist$1=function t(e,r){return Math.sqrt(sqdist(e,r))},sqdist=function t(e,r){var n=r.x-e.x,a=r.y-e.y;return n*n+a*a},inPlaceSumNormalize=function t(e){for(var r=e.length,n=0,a=0;a<r;a++)n+=e[a];for(var o=0;o<r;o++)e[o]=e[o]/n;return e},qbezierAt=function t(e,r,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*r+a*a*n},qbezierPtAt=function t(e,r,n,a){return{x:qbezierAt(e.x,r.x,n.x,a),y:qbezierAt(e.y,r.y,n.y,a)}},lineAt=function t(e,r,n,a){var o={x:r.x-e.x,y:r.y-e.y},s=dist$1(e,r),l={x:o.x/s,y:o.y/s};return n=n==null?0:n,a=a!=null?a:n*s,{x:e.x+l.x*a,y:e.y+l.y*a}},bound=function t(e,r,n){return Math.max(e,Math.min(n,r))},makeBoundingBox=function t(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},copyBoundingBox=function t(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},clearBoundingBox=function t(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},updateBoundingBox=function t(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},expandBoundingBoxByPoint=function t(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},expandBoundingBox=function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},expandBoundingBoxSides=function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,o,s;if(r.length===1)n=a=o=s=r[0];else if(r.length===2)n=o=r[0],s=a=r[1];else if(r.length===4){var l=_slicedToArray(r,4);n=l[0],a=l[1],o=l[2],s=l[3]}return e.x1-=s,e.x2+=a,e.y1-=n,e.y2+=o,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},assignBoundingBox=function t(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},boundingBoxesIntersect=function t(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},inBoundingBox=function t(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},pointInBoundingBox=function t(e,r){return inBoundingBox(e,r.x,r.y)},boundingBoxInBoundingBox=function t(e,r){return inBoundingBox(e,r.x1,r.y1)&&inBoundingBox(e,r.x2,r.y2)},roundRectangleIntersectLine=function t(e,r,n,a,o,s,l){var u=getRoundRectangleRadius(o,s),c=o/2,f=s/2,d;{var g=n-c+u-l,v=a-f-l,m=n+c-u+l,y=v;if(d=finiteLinesIntersect(e,r,n,a,g,v,m,y,!1),d.length>0)return d}{var b=n+c+l,E=a-f+u-l,w=b,_=a+f-u+l;if(d=finiteLinesIntersect(e,r,n,a,b,E,w,_,!1),d.length>0)return d}{var T=n-c+u-l,O=a+f+l,D=n+c-u+l,x=O;if(d=finiteLinesIntersect(e,r,n,a,T,O,D,x,!1),d.length>0)return d}{var L=n-c-l,R=a-f+u-l,C=L,A=a+f-u+l;if(d=finiteLinesIntersect(e,r,n,a,L,R,C,A,!1),d.length>0)return d}var S;{var N=n-c+u,$=a-f+u;if(S=intersectLineCircle(e,r,n,a,N,$,u+l),S.length>0&&S[0]<=N&&S[1]<=$)return[S[0],S[1]]}{var B=n+c-u,P=a-f+u;if(S=intersectLineCircle(e,r,n,a,B,P,u+l),S.length>0&&S[0]>=B&&S[1]<=P)return[S[0],S[1]]}{var k=n+c-u,H=a+f-u;if(S=intersectLineCircle(e,r,n,a,k,H,u+l),S.length>0&&S[0]>=k&&S[1]>=H)return[S[0],S[1]]}{var G=n-c+u,W=a+f-u;if(S=intersectLineCircle(e,r,n,a,G,W,u+l),S.length>0&&S[0]<=G&&S[1]>=W)return[S[0],S[1]]}return[]},inLineVicinity=function t(e,r,n,a,o,s,l){var u=l,c=Math.min(n,o),f=Math.max(n,o),d=Math.min(a,s),g=Math.max(a,s);return c-u<=e&&e<=f+u&&d-u<=r&&r<=g+u},inBezierVicinity=function t(e,r,n,a,o,s,l,u,c){var f={x1:Math.min(n,l,o)-c,x2:Math.max(n,l,o)+c,y1:Math.min(a,u,s)-c,y2:Math.max(a,u,s)+c};return!(e<f.x1||e>f.x2||r<f.y1||r>f.y2)},solveQuadratic=function t(e,r,n,a){n-=a;var o=r*r-4*e*n;if(o<0)return[];var s=Math.sqrt(o),l=2*e,u=(-r+s)/l,c=(-r-s)/l;return[u,c]},solveCubic=function t(e,r,n,a,o){var s=1e-5;e===0&&(e=s),r/=e,n/=e,a/=e;var l,u,c,f,d,g,v,m;if(u=(3*n-r*r)/9,c=-(27*a)+r*(9*n-2*(r*r)),c/=54,l=u*u*u+c*c,o[1]=0,v=r/3,l>0){d=c+Math.sqrt(l),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),g=c-Math.sqrt(l),g=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),o[0]=-v+d+g,v+=(d+g)/2,o[4]=o[2]=-v,v=Math.sqrt(3)*(-g+d)/2,o[3]=v,o[5]=-v;return}if(o[5]=o[3]=0,l===0){m=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),o[0]=-v+2*m,o[4]=o[2]=-(m+v);return}u=-u,f=u*u*u,f=Math.acos(c/Math.sqrt(f)),m=2*Math.sqrt(u),o[0]=-v+m*Math.cos(f/3),o[2]=-v+m*Math.cos((f+2*Math.PI)/3),o[4]=-v+m*Math.cos((f+4*Math.PI)/3)},sqdistToQuadraticBezier=function t(e,r,n,a,o,s,l,u){var c=1*n*n-4*n*o+2*n*l+4*o*o-4*o*l+l*l+a*a-4*a*s+2*a*u+4*s*s-4*s*u+u*u,f=1*9*n*o-3*n*n-3*n*l-6*o*o+3*o*l+9*a*s-3*a*a-3*a*u-6*s*s+3*s*u,d=1*3*n*n-6*n*o+n*l-n*e+2*o*o+2*o*e-l*e+3*a*a-6*a*s+a*u-a*r+2*s*s+2*s*r-u*r,g=1*n*o-n*n+n*e-o*e+a*s-a*a+a*r-s*r,v=[];solveCubic(c,f,d,g,v);for(var m=1e-7,y=[],b=0;b<6;b+=2)Math.abs(v[b+1])<m&&v[b]>=0&&v[b]<=1&&y.push(v[b]);y.push(1),y.push(0);for(var E=-1,w,_,T,O=0;O<y.length;O++)w=Math.pow(1-y[O],2)*n+2*(1-y[O])*y[O]*o+y[O]*y[O]*l,_=Math.pow(1-y[O],2)*a+2*(1-y[O])*y[O]*s+y[O]*y[O]*u,T=Math.pow(w-e,2)+Math.pow(_-r,2),E>=0?T<E&&(E=T):E=T;return E},sqdistToFiniteLine=function t(e,r,n,a,o,s){var l=[e-n,r-a],u=[o-n,s-a],c=u[0]*u[0]+u[1]*u[1],f=l[0]*l[0]+l[1]*l[1],d=l[0]*u[0]+l[1]*u[1],g=d*d/c;return d<0?f:g>c?(e-o)*(e-o)+(r-s)*(r-s):f-g},pointInsidePolygonPoints=function t(e,r,n){for(var a,o,s,l,u,c=0,f=0;f<n.length/2;f++)if(a=n[f*2],o=n[f*2+1],f+1<n.length/2?(s=n[(f+1)*2],l=n[(f+1)*2+1]):(s=n[(f+1-n.length/2)*2],l=n[(f+1-n.length/2)*2+1]),!(a==e&&s==e))if(a>=e&&e>=s||a<=e&&e<=s)u=(e-a)/(s-a)*(l-o)+o,u>r&&c++;else continue;return c%2!==0},pointInsidePolygon=function t(e,r,n,a,o,s,l,u,c){var f=new Array(n.length),d;u[0]!=null?(d=Math.atan(u[1]/u[0]),u[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=u;for(var g=Math.cos(-d),v=Math.sin(-d),m=0;m<f.length/2;m++)f[m*2]=s/2*(n[m*2]*g-n[m*2+1]*v),f[m*2+1]=l/2*(n[m*2+1]*g+n[m*2]*v),f[m*2]+=a,f[m*2+1]+=o;var y;if(c>0){var b=expandPolygon(f,-c);y=joinLines(b)}else y=f;return pointInsidePolygonPoints(e,r,y)},pointInsideRoundPolygon=function t(e,r,n,a,o,s,l){for(var u=new Array(n.length),c=s/2,f=l/2,d=getRoundPolygonRadius(s,l),g=d*d,v=0;v<n.length/4;v++){var m=void 0,y=void 0;v===0?m=n.length-2:m=v*4-2,y=v*4+2;var b=a+c*n[v*4],E=o+f*n[v*4+1],w=-n[m]*n[y]-n[m+1]*n[y+1],_=d/Math.tan(Math.acos(w)/2),T=b-_*n[m],O=E-_*n[m+1],D=b+_*n[y],x=E+_*n[y+1];u[v*4]=T,u[v*4+1]=O,u[v*4+2]=D,u[v*4+3]=x;var L=n[m+1],R=-n[m],C=L*n[y]+R*n[y+1];C<0&&(L*=-1,R*=-1);var A=T+L*d,S=O+R*d,N=Math.pow(A-e,2)+Math.pow(S-r,2);if(N<=g)return!0}return pointInsidePolygonPoints(e,r,u)},joinLines=function t(e){for(var r=new Array(e.length/2),n,a,o,s,l,u,c,f,d=0;d<e.length/4;d++){n=e[d*4],a=e[d*4+1],o=e[d*4+2],s=e[d*4+3],d<e.length/4-1?(l=e[(d+1)*4],u=e[(d+1)*4+1],c=e[(d+1)*4+2],f=e[(d+1)*4+3]):(l=e[0],u=e[1],c=e[2],f=e[3]);var g=finiteLinesIntersect(n,a,o,s,l,u,c,f,!0);r[d*2]=g[0],r[d*2+1]=g[1]}return r},expandPolygon=function t(e,r){for(var n=new Array(e.length*2),a,o,s,l,u=0;u<e.length/2;u++){a=e[u*2],o=e[u*2+1],u<e.length/2-1?(s=e[(u+1)*2],l=e[(u+1)*2+1]):(s=e[0],l=e[1]);var c=l-o,f=-(s-a),d=Math.sqrt(c*c+f*f),g=c/d,v=f/d;n[u*4]=a+g*r,n[u*4+1]=o+v*r,n[u*4+2]=s+g*r,n[u*4+3]=l+v*r}return n},intersectLineEllipse=function t(e,r,n,a,o,s){var l=n-e,u=a-r;l/=o,u/=s;var c=Math.sqrt(l*l+u*u),f=c-1;if(f<0)return[];var d=f/c;return[(n-e)*d+e,(a-r)*d+r]},checkInEllipse=function t(e,r,n,a,o,s,l){return e-=o,r-=s,e/=n/2+l,r/=a/2+l,e*e+r*r<=1},intersectLineCircle=function t(e,r,n,a,o,s,l){var u=[n-e,a-r],c=[e-o,r-s],f=u[0]*u[0]+u[1]*u[1],d=2*(c[0]*u[0]+c[1]*u[1]),g=c[0]*c[0]+c[1]*c[1]-l*l,v=d*d-4*f*g;if(v<0)return[];var m=(-d+Math.sqrt(v))/(2*f),y=(-d-Math.sqrt(v))/(2*f),b=Math.min(m,y),E=Math.max(m,y),w=[];if(b>=0&&b<=1&&w.push(b),E>=0&&E<=1&&w.push(E),w.length===0)return[];var _=w[0]*u[0]+e,T=w[0]*u[1]+r;if(w.length>1){if(w[0]==w[1])return[_,T];var O=w[1]*u[0]+e,D=w[1]*u[1]+r;return[_,T,O,D]}else return[_,T]},midOfThree=function t(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},finiteLinesIntersect=function t(e,r,n,a,o,s,l,u,c){var f=e-o,d=n-e,g=l-o,v=r-s,m=a-r,y=u-s,b=g*v-y*f,E=d*v-m*f,w=y*d-g*m;if(w!==0){var _=b/w,T=E/w,O=.001,D=0-O,x=1+O;return D<=_&&_<=x&&D<=T&&T<=x?[e+_*d,r+_*m]:c?[e+_*d,r+_*m]:[]}else return b===0||E===0?midOfThree(e,n,l)===l?[l,u]:midOfThree(e,n,o)===o?[o,s]:midOfThree(o,l,n)===n?[n,a]:[]:[]},polygonIntersectLine=function t(e,r,n,a,o,s,l,u){var c=[],f,d=new Array(n.length),g=!0;s==null&&(g=!1);var v;if(g){for(var m=0;m<d.length/2;m++)d[m*2]=n[m*2]*s+a,d[m*2+1]=n[m*2+1]*l+o;if(u>0){var y=expandPolygon(d,-u);v=joinLines(y)}else v=d}else v=n;for(var b,E,w,_,T=0;T<v.length/2;T++)b=v[T*2],E=v[T*2+1],T<v.length/2-1?(w=v[(T+1)*2],_=v[(T+1)*2+1]):(w=v[0],_=v[1]),f=finiteLinesIntersect(e,r,a,o,b,E,w,_),f.length!==0&&c.push(f[0],f[1]);return c},roundPolygonIntersectLine=function t(e,r,n,a,o,s,l,u){for(var c=[],f,d=new Array(n.length),g=s/2,v=l/2,m=getRoundPolygonRadius(s,l),y=0;y<n.length/4;y++){var b=void 0,E=void 0;y===0?b=n.length-2:b=y*4-2,E=y*4+2;var w=a+g*n[y*4],_=o+v*n[y*4+1],T=-n[b]*n[E]-n[b+1]*n[E+1],O=m/Math.tan(Math.acos(T)/2),D=w-O*n[b],x=_-O*n[b+1],L=w+O*n[E],R=_+O*n[E+1];y===0?(d[n.length-2]=D,d[n.length-1]=x):(d[y*4-2]=D,d[y*4-1]=x),d[y*4]=L,d[y*4+1]=R;var C=n[b+1],A=-n[b],S=C*n[E]+A*n[E+1];S<0&&(C*=-1,A*=-1);var N=D+C*m,$=x+A*m;f=intersectLineCircle(e,r,a,o,N,$,m),f.length!==0&&c.push(f[0],f[1])}for(var B=0;B<d.length/4;B++)f=finiteLinesIntersect(e,r,a,o,d[B*4],d[B*4+1],d[B*4+2],d[B*4+3],!1),f.length!==0&&c.push(f[0],f[1]);if(c.length>2){for(var P=[c[0],c[1]],k=Math.pow(P[0]-e,2)+Math.pow(P[1]-r,2),H=1;H<c.length/2;H++){var G=Math.pow(c[H*2]-e,2)+Math.pow(c[H*2+1]-r,2);G<=k&&(P[0]=c[H*2],P[1]=c[H*2+1],k=G)}return P}return c},shortenIntersection=function t(e,r,n){var a=[e[0]-r[0],e[1]-r[1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=(o-n)/o;return s<0&&(s=1e-5),[r[0]+s*a[0],r[1]+s*a[1]]},generateUnitNgonPointsFitToSquare=function t(e,r){var n=generateUnitNgonPoints(e,r);return n=fitPolygonToSquare(n),n},fitPolygonToSquare=function t(e){for(var r,n,a=e.length/2,o=1/0,s=1/0,l=-1/0,u=-1/0,c=0;c<a;c++)r=e[2*c],n=e[2*c+1],o=Math.min(o,r),l=Math.max(l,r),s=Math.min(s,n),u=Math.max(u,n);for(var f=2/(l-o),d=2/(u-s),g=0;g<a;g++)r=e[2*g]=e[2*g]*f,n=e[2*g+1]=e[2*g+1]*d,o=Math.min(o,r),l=Math.max(l,r),s=Math.min(s,n),u=Math.max(u,n);if(s<-1)for(var v=0;v<a;v++)n=e[2*v+1]=e[2*v+1]+(-1-s);return e},generateUnitNgonPoints=function t(e,r){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var o=new Array(e*2),s,l=0;l<e;l++)s=l*n+a,o[2*l]=Math.cos(s),o[2*l+1]=Math.sin(-s);return o},getRoundRectangleRadius=function t(e,r){return Math.min(e/4,r/4,8)},getRoundPolygonRadius=function t(e,r){return Math.min(e/10,r/10,8)},getCutRectangleCornerLength=function t(){return 8},bezierPtsToQuadCoeff=function t(e,r,n){return[e-2*r+n,2*(r-e),e]},getBarrelCurveConstants=function t(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},pageRankDefaults=defaults({dampingFactor:.8,precision:1e-6,iterations:200,weight:function t(e){return 1}}),elesfn$7={pageRank:function t(e){for(var r=pageRankDefaults(e),n=r.dampingFactor,a=r.precision,o=r.iterations,s=r.weight,l=this._private.cy,u=this.byGroup(),c=u.nodes,f=u.edges,d=c.length,g=d*d,v=f.length,m=new Array(g),y=new Array(d),b=(1-n)/d,E=0;E<d;E++){for(var w=0;w<d;w++){var _=E*d+w;m[_]=0}y[E]=0}for(var T=0;T<v;T++){var O=f[T],D=O.data("source"),x=O.data("target");if(D!==x){var L=c.indexOfId(D),R=c.indexOfId(x),C=s(O),A=R*d+L;m[A]+=C,y[L]+=C}}for(var S=1/d+b,N=0;N<d;N++)if(y[N]===0)for(var $=0;$<d;$++){var B=$*d+N;m[B]=S}else for(var P=0;P<d;P++){var k=P*d+N;m[k]=m[k]/y[N]+b}for(var H=new Array(d),G=new Array(d),W,U=0;U<d;U++)H[U]=1;for(var X=0;X<o;X++){for(var ee=0;ee<d;ee++)G[ee]=0;for(var te=0;te<d;te++)for(var V=0;V<d;V++){var Y=te*d+V;G[te]+=m[Y]*H[V]}inPlaceSumNormalize(G),W=H,H=G,G=W;for(var F=0,j=0;j<d;j++){var J=W[j]-H[j];F+=J*J}if(F<a)break}var de={rank:function(ve){return ve=l.collection(ve)[0],H[c.indexOf(ve)]}};return de}},defaults$1=defaults({root:null,weight:function t(e){return 1},directed:!1,alpha:0}),elesfn$8={degreeCentralityNormalized:function t(e){e=defaults$1(e);var r=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var f={},d={},g=0,v=0,m=0;m<a;m++){var y=n[m],b=y.id();e.root=y;var E=this.degreeCentrality(e);g<E.indegree&&(g=E.indegree),v<E.outdegree&&(v=E.outdegree),f[b]=E.indegree,d[b]=E.outdegree}return{indegree:function(_){return g==0?0:(string(_)&&(_=r.filter(_)),f[_.id()]/g)},outdegree:function(_){return v===0?0:(string(_)&&(_=r.filter(_)),d[_.id()]/v)}}}else{for(var o={},s=0,l=0;l<a;l++){var u=n[l];e.root=u;var c=this.degreeCentrality(e);s<c.degree&&(s=c.degree),o[u.id()]=c.degree}return{degree:function(_){return s===0?0:(string(_)&&(_=r.filter(_)),o[_.id()]/s)}}}},degreeCentrality:function t(e){e=defaults$1(e);var r=this.cy(),n=this,a=e,o=a.root,s=a.weight,l=a.directed,u=a.alpha;if(o=r.collection(o)[0],l){for(var v=o.connectedEdges(),m=v.filter(function(D){return D.target().same(o)&&n.has(D)}),y=v.filter(function(D){return D.source().same(o)&&n.has(D)}),b=m.length,E=y.length,w=0,_=0,T=0;T<m.length;T++)w+=s(m[T]);for(var O=0;O<y.length;O++)_+=s(y[O]);return{indegree:Math.pow(b,1-u)*Math.pow(w,u),outdegree:Math.pow(E,1-u)*Math.pow(_,u)}}else{for(var c=o.connectedEdges().intersection(n),f=c.length,d=0,g=0;g<c.length;g++)d+=s(c[g]);return{degree:Math.pow(f,1-u)*Math.pow(d,u)}}}};elesfn$8.dc=elesfn$8.degreeCentrality;elesfn$8.dcn=elesfn$8.degreeCentralityNormalised=elesfn$8.degreeCentralityNormalized;var defaults$2=defaults({harmonic:!0,weight:function t(){return 1},directed:!1,root:null}),elesfn$9={closenessCentralityNormalized:function t(e){for(var r=defaults$2(e),n=r.harmonic,a=r.weight,o=r.directed,s=this.cy(),l={},u=0,c=this.nodes(),f=this.floydWarshall({weight:a,directed:o}),d=0;d<c.length;d++){for(var g=0,v=c[d],m=0;m<c.length;m++)if(d!==m){var y=f.distance(v,c[m]);n?g+=1/y:g+=y}n||(g=1/g),u<g&&(u=g),l[v.id()]=g}return{closeness:function(E){return u==0?0:(string(E)?E=s.filter(E)[0].id():E=E.id(),l[E]/u)}}},closenessCentrality:function t(e){var r=defaults$2(e),n=r.root,a=r.weight,o=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var l=this.dijkstra({root:n,weight:a,directed:o}),u=0,c=this.nodes(),f=0;f<c.length;f++){var d=c[f];if(!d.same(n)){var g=l.distanceTo(d);s?u+=1/g:u+=g}}return s?u:1/u}};elesfn$9.cc=elesfn$9.closenessCentrality;elesfn$9.ccn=elesfn$9.closenessCentralityNormalised=elesfn$9.closenessCentralityNormalized;var defaults$3=defaults({weight:null,directed:!1}),elesfn$a={betweennessCentrality:function t(e){for(var r=defaults$3(e),n=r.directed,a=r.weight,o=a!=null,s=this.cy(),l=this.nodes(),u={},c={},f=0,d={set:function(_,T){c[_]=T,T>f&&(f=T)},get:function(_){return c[_]}},g=0;g<l.length;g++){var v=l[g],m=v.id();n?u[m]=v.outgoers().nodes():u[m]=v.openNeighborhood().nodes(),d.set(m,0)}for(var y=function(_){for(var T=l[_].id(),O=[],D={},x={},L={},R=new Heap(function(V,Y){return L[V]-L[Y]}),C=0;C<l.length;C++){var A=l[C].id();D[A]=[],x[A]=0,L[A]=1/0}for(x[T]=1,L[T]=0,R.push(T);!R.empty();){var S=R.pop();if(O.push(S),o)for(var N=0;N<u[S].length;N++){var $=u[S][N],B=s.getElementById(S),P=void 0;B.edgesTo($).length>0?P=B.edgesTo($)[0]:P=$.edgesTo(B)[0];var k=a(P);$=$.id(),L[$]>L[S]+k&&(L[$]=L[S]+k,R.nodes.indexOf($)<0?R.push($):R.updateItem($),x[$]=0,D[$]=[]),L[$]==L[S]+k&&(x[$]=x[$]+x[S],D[$].push(S))}else for(var H=0;H<u[S].length;H++){var G=u[S][H].id();L[G]==1/0&&(R.push(G),L[G]=L[S]+1),L[G]==L[S]+1&&(x[G]=x[G]+x[S],D[G].push(S))}}for(var W={},U=0;U<l.length;U++)W[l[U].id()]=0;for(;O.length>0;){for(var X=O.pop(),ee=0;ee<D[X].length;ee++){var te=D[X][ee];W[te]=W[te]+x[te]/x[X]*(1+W[X])}X!=l[_].id()&&d.set(X,d.get(X)+W[X])}},b=0;b<l.length;b++)y(b);var E={betweenness:function(_){var T=s.collection(_).id();return d.get(T)},betweennessNormalized:function(_){if(f==0)return 0;var T=s.collection(_).id();return d.get(T)/f}};return E.betweennessNormalised=E.betweennessNormalized,E}};elesfn$a.bc=elesfn$a.betweennessCentrality;var defaults$4=defaults({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),setOptions=function t(e){return defaults$4(e)},getSimilarity=function t(e,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](e);return n},addLoops=function t(e,r,n){for(var a=0;a<r;a++)e[a*r+a]=n},normalize=function t(e,r){for(var n,a=0;a<r;a++){n=0;for(var o=0;o<r;o++)n+=e[o*r+a];for(var s=0;s<r;s++)e[s*r+a]=e[s*r+a]/n}},mmult=function t(e,r,n){for(var a=new Array(n*n),o=0;o<n;o++){for(var s=0;s<n;s++)a[o*n+s]=0;for(var l=0;l<n;l++)for(var u=0;u<n;u++)a[o*n+u]+=e[o*n+l]*r[l*n+u]}return a},expand=function t(e,r,n){for(var a=e.slice(0),o=1;o<n;o++)e=mmult(e,a,r);return e},inflate=function t(e,r,n){for(var a=new Array(r*r),o=0;o<r*r;o++)a[o]=Math.pow(e[o],n);return normalize(a,r),a},hasConverged=function t(e,r,n,a){for(var o=0;o<n;o++){var s=Math.round(e[o]*Math.pow(10,a))/Math.pow(10,a),l=Math.round(r[o]*Math.pow(10,a))/Math.pow(10,a);if(s!==l)return!1}return!0},assign=function t(e,r,n,a){for(var o=[],s=0;s<r;s++){for(var l=[],u=0;u<r;u++)Math.round(e[s*r+u]*1e3)/1e3>0&&l.push(n[u]);l.length!==0&&o.push(a.collection(l))}return o},isDuplicate=function t(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},removeDuplicates=function t(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&isDuplicate(e[r],e[n])&&e.splice(n,1);return e},markovClustering=function t(e){for(var r=this.nodes(),n=this.edges(),a=this.cy(),o=setOptions(e),s={},l=0;l<r.length;l++)s[r[l].id()]=l;for(var u=r.length,c=u*u,f=new Array(c),d,g=0;g<c;g++)f[g]=0;for(var v=0;v<n.length;v++){var m=n[v],y=s[m.source().id()],b=s[m.target().id()],E=getSimilarity(m,o.attributes);f[y*u+b]+=E,f[b*u+y]+=E}addLoops(f,u,o.multFactor),normalize(f,u);for(var w=!0,_=0;w&&_<o.maxIterations;)w=!1,d=expand(f,u,o.expandFactor),f=inflate(d,u,o.inflateFactor),hasConverged(f,d,c,4)||(w=!0),_++;var T=assign(f,u,r,a);return T=removeDuplicates(T),T},markovClustering$1={markovClustering,mcl:markovClustering},identity=function t(e){return e},absDiff=function t(e,r){return Math.abs(r-e)},addAbsDiff=function t(e,r,n){return e+absDiff(r,n)},addSquaredDiff=function t(e,r,n){return e+Math.pow(n-r,2)},sqrt=function t(e){return Math.sqrt(e)},maxAbsDiff=function t(e,r,n){return Math.max(e,absDiff(r,n))},getDistance=function t(e,r,n,a,o){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:identity,l=a,u,c,f=0;f<e;f++)u=r(f),c=n(f),l=o(l,u,c);return s(l)},distances={euclidean:function t(e,r,n){return e>=2?getDistance(e,r,n,0,addSquaredDiff,sqrt):getDistance(e,r,n,0,addAbsDiff)},squaredEuclidean:function t(e,r,n){return getDistance(e,r,n,0,addSquaredDiff)},manhattan:function t(e,r,n){return getDistance(e,r,n,0,addAbsDiff)},max:function t(e,r,n){return getDistance(e,r,n,-1/0,maxAbsDiff)}};distances["squared-euclidean"]=distances.squaredEuclidean;distances.squaredeuclidean=distances.squaredEuclidean;function clusteringDistance(t,e,r,n,a,o){var s;return fn(t)?s=t:s=distances[t]||distances.euclidean,e===0&&fn(t)?s(a,o):s(e,r,n,a,o)}var defaults$5=defaults({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),setOptions$1=function t(e){return defaults$5(e)},getDist=function t(e,r,n,a,o){var s=o!=="kMedoids",l=s?function(d){return n[d]}:function(d){return a[d](n)},u=function(g){return a[g](r)},c=n,f=r;return clusteringDistance(e,a.length,l,u,c,f)},randomCentroids=function t(e,r,n){for(var a=n.length,o=new Array(a),s=new Array(a),l=new Array(r),u=null,c=0;c<a;c++)o[c]=e.min(n[c]).value,s[c]=e.max(n[c]).value;for(var f=0;f<r;f++){u=[];for(var d=0;d<a;d++)u[d]=Math.random()*(s[d]-o[d])+o[d];l[f]=u}return l},classify=function t(e,r,n,a,o){for(var s=1/0,l=0,u=0;u<r.length;u++){var c=getDist(n,e,r[u],a,o);c<s&&(s=c,l=u)}return l},buildCluster=function t(e,r,n){for(var a=[],o=null,s=0;s<r.length;s++)o=r[s],n[o.id()]===e&&a.push(o);return a},haveValuesConverged=function t(e,r,n){return Math.abs(r-e)<=n},haveMatricesConverged=function t(e,r,n){for(var a=0;a<e.length;a++)for(var o=0;o<e[a].length;o++){var s=Math.abs(e[a][o]-r[a][o]);if(s>n)return!1}return!0},seenBefore=function t(e,r,n){for(var a=0;a<n;a++)if(e===r[a])return!0;return!1},randomMedoids=function t(e,r){var n=new Array(r);if(e.length<50)for(var a=0;a<r;a++){for(var o=e[Math.floor(Math.random()*e.length)];seenBefore(o,n,a);)o=e[Math.floor(Math.random()*e.length)];n[a]=o}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},findCost=function t(e,r,n){for(var a=0,o=0;o<r.length;o++)a+=getDist("manhattan",r[o],e,n,"kMedoids");return a},kMeans=function t(e){var r=this.cy(),n=this.nodes(),a=null,o=setOptions$1(e),s=new Array(o.k),l={},u;o.testMode?typeof o.testCentroids=="number"?u=randomCentroids(n,o.k,o.attributes):_typeof(o.testCentroids)==="object"?u=o.testCentroids:u=randomCentroids(n,o.k,o.attributes):u=randomCentroids(n,o.k,o.attributes);for(var c=!0,f=0;c&&f<o.maxIterations;){for(var d=0;d<n.length;d++)a=n[d],l[a.id()]=classify(a,u,o.distance,o.attributes,"kMeans");c=!1;for(var g=0;g<o.k;g++){var v=buildCluster(g,n,l);if(v.length!==0){for(var m=o.attributes.length,y=u[g],b=new Array(m),E=new Array(m),w=0;w<m;w++){E[w]=0;for(var _=0;_<v.length;_++)a=v[_],E[w]+=o.attributes[w](a);b[w]=E[w]/v.length,haveValuesConverged(b[w],y[w],o.sensitivityThreshold)||(c=!0)}u[g]=b,s[g]=r.collection(v)}}f++}return s},kMedoids=function t(e){var r=this.cy(),n=this.nodes(),a=null,o=setOptions$1(e),s=new Array(o.k),l,u={},c,f=new Array(o.k);o.testMode?typeof o.testCentroids=="number"||(_typeof(o.testCentroids)==="object"?l=o.testCentroids:l=randomMedoids(n,o.k)):l=randomMedoids(n,o.k);for(var d=!0,g=0;d&&g<o.maxIterations;){for(var v=0;v<n.length;v++)a=n[v],u[a.id()]=classify(a,l,o.distance,o.attributes,"kMedoids");d=!1;for(var m=0;m<l.length;m++){var y=buildCluster(m,n,u);if(y.length!==0){f[m]=findCost(l[m],y,o.attributes);for(var b=0;b<y.length;b++)c=findCost(y[b],y,o.attributes),c<f[m]&&(f[m]=c,l[m]=y[b],d=!0);s[m]=r.collection(y)}}g++}return s},updateCentroids=function t(e,r,n,a,o){for(var s,l,u=0;u<r.length;u++)for(var c=0;c<e.length;c++)a[u][c]=Math.pow(n[u][c],o.m);for(var f=0;f<e.length;f++)for(var d=0;d<o.attributes.length;d++){s=0,l=0;for(var g=0;g<r.length;g++)s+=a[g][f]*o.attributes[d](r[g]),l+=a[g][f];e[f][d]=s/l}},updateMembership=function t(e,r,n,a,o){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var l,u,c,f=2/(o.m-1),d=0;d<n.length;d++)for(var g=0;g<a.length;g++){l=0;for(var v=0;v<n.length;v++)u=getDist(o.distance,a[g],n[d],o.attributes,"cmeans"),c=getDist(o.distance,a[g],n[v],o.attributes,"cmeans"),l+=Math.pow(u/c,f);e[g][d]=1/l}},assign$1=function t(e,r,n,a){for(var o=new Array(n.k),s=0;s<o.length;s++)o[s]=[];for(var l,u,c=0;c<r.length;c++){l=-1/0,u=-1;for(var f=0;f<r[0].length;f++)r[c][f]>l&&(l=r[c][f],u=f);o[u].push(e[c])}for(var d=0;d<o.length;d++)o[d]=a.collection(o[d]);return o},fuzzyCMeans=function t(e){var r=this.cy(),n=this.nodes(),a=setOptions$1(e),o,s,l,u,c;u=new Array(n.length);for(var f=0;f<n.length;f++)u[f]=new Array(a.k);l=new Array(n.length);for(var d=0;d<n.length;d++)l[d]=new Array(a.k);for(var g=0;g<n.length;g++){for(var v=0,m=0;m<a.k;m++)l[g][m]=Math.random(),v+=l[g][m];for(var y=0;y<a.k;y++)l[g][y]=l[g][y]/v}s=new Array(a.k);for(var b=0;b<a.k;b++)s[b]=new Array(a.attributes.length);c=new Array(n.length);for(var E=0;E<n.length;E++)c[E]=new Array(a.k);for(var w=!0,_=0;w&&_<a.maxIterations;)w=!1,updateCentroids(s,n,l,c,a),updateMembership(l,u,s,n,a),haveMatricesConverged(l,u,a.sensitivityThreshold)||(w=!0),_++;return o=assign$1(n,l,a,r),{clusters:o,degreeOfMembership:l}},kClustering={kMeans,kMedoids,fuzzyCMeans,fcm:fuzzyCMeans},defaults$6=defaults({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),linkageAliases={single:"min",complete:"max"},setOptions$2=function t(e){var r=defaults$6(e),n=linkageAliases[r.linkage];return n!=null&&(r.linkage=n),r},mergeClosest=function t(e,r,n,a,o){for(var s=0,l=1/0,u,c=o.attributes,f=function(R,C){return clusteringDistance(o.distance,c.length,function(A){return c[A](R)},function(A){return c[A](C)},R,C)},d=0;d<e.length;d++){var g=e[d].key,v=n[g][a[g]];v<l&&(s=g,l=v)}if(o.mode==="threshold"&&l>=o.threshold||o.mode==="dendrogram"&&e.length===1)return!1;var m=r[s],y=r[a[s]],b;o.mode==="dendrogram"?b={left:m,right:y,key:m.key}:b={value:m.value.concat(y.value),key:m.key},e[m.index]=b,e.splice(y.index,1),r[m.key]=b;for(var E=0;E<e.length;E++){var w=e[E];m.key===w.key?u=1/0:o.linkage==="min"?(u=n[m.key][w.key],n[m.key][w.key]>n[y.key][w.key]&&(u=n[y.key][w.key])):o.linkage==="max"?(u=n[m.key][w.key],n[m.key][w.key]<n[y.key][w.key]&&(u=n[y.key][w.key])):o.linkage==="mean"?u=(n[m.key][w.key]*m.size+n[y.key][w.key]*y.size)/(m.size+y.size):o.mode==="dendrogram"?u=f(w.value,m.value):u=f(w.value[0],m.value[0]),n[m.key][w.key]=n[w.key][m.key]=u}for(var _=0;_<e.length;_++){var T=e[_].key;if(a[T]===m.key||a[T]===y.key){for(var O=T,D=0;D<e.length;D++){var x=e[D].key;n[T][x]<n[T][O]&&(O=x)}a[T]=O}e[_].index=_}return m.key=y.key=m.index=y.index=null,!0},getAllChildren=function t(e,r,n){!e||(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},buildDendrogram=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),a=t(e.right,r),o=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:o.id()}}),r.add({group:"edges",data:{source:a,target:o.id()}}),o.id()}else if(e.value)return e.value.id()},buildClustersFromTree=function t(e,r,n){if(!e)return[];var a=[],o=[],s=[];return r===0?(e.left&&getAllChildren(e.left,a),e.right&&getAllChildren(e.right,o),s=a.concat(o),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&getAllChildren(e.left,a),e.right&&getAllChildren(e.right,o),[n.collection(a),n.collection(o)]):e.value?[n.collection(e.value)]:(e.left&&(a=t(e.left,r-1,n)),e.right&&(o=t(e.right,r-1,n)),a.concat(o))},hierarchicalClustering=function t(e){for(var r=this.cy(),n=this.nodes(),a=setOptions$2(e),o=a.attributes,s=function(_,T){return clusteringDistance(a.distance,o.length,function(O){return o[O](_)},function(O){return o[O](T)},_,T)},l=[],u=[],c=[],f=[],d=0;d<n.length;d++){var g={value:a.mode==="dendrogram"?n[d]:[n[d]],key:d,index:d};l[d]=g,f[d]=g,u[d]=[],c[d]=0}for(var v=0;v<l.length;v++)for(var m=0;m<=v;m++){var y=void 0;a.mode==="dendrogram"?y=v===m?1/0:s(l[v].value,l[m].value):y=v===m?1/0:s(l[v].value[0],l[m].value[0]),u[v][m]=y,u[m][v]=y,y<u[v][c[v]]&&(c[v]=m)}for(var b=mergeClosest(l,f,u,c,a);b;)b=mergeClosest(l,f,u,c,a);var E;return a.mode==="dendrogram"?(E=buildClustersFromTree(l[0],a.dendrogramDepth,r),a.addDendrogram&&buildDendrogram(l[0],r)):(E=new Array(l.length),l.forEach(function(w,_){w.key=w.index=null,E[_]=r.collection(w.value)})),E},hierarchicalClustering$1={hierarchicalClustering,hca:hierarchicalClustering},defaults$7=defaults({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),setOptions$3=function t(e){var r=e.damping,n=e.preference;.5<=r&&r<1||error("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(o){return o===n})||number(n)||error("Preference must be one of [".concat(a.map(function(o){return"'".concat(o,"'")}).join(", "),"] or a number.  Got: ").concat(n)),defaults$7(e)},getSimilarity$1=function t(e,r,n,a){var o=function(l,u){return a[u](l)};return-clusteringDistance(e,a.length,function(s){return o(r,s)},function(s){return o(n,s)},r,n)},getPreference=function t(e,r){var n=null;return r==="median"?n=median(e):r==="mean"?n=mean(e):r==="min"?n=min$1(e):r==="max"?n=max$1(e):n=r,n},findExemplars=function t(e,r,n){for(var a=[],o=0;o<e;o++)r[o*e+o]+n[o*e+o]>0&&a.push(o);return a},assignClusters=function t(e,r,n){for(var a=[],o=0;o<e;o++){for(var s=-1,l=-1/0,u=0;u<n.length;u++){var c=n[u];r[o*e+c]>l&&(s=c,l=r[o*e+c])}s>0&&a.push(s)}for(var f=0;f<n.length;f++)a[n[f]]=n[f];return a},assign$2=function t(e,r,n){for(var a=assignClusters(e,r,n),o=0;o<n.length;o++){for(var s=[],l=0;l<a.length;l++)a[l]===n[o]&&s.push(l);for(var u=-1,c=-1/0,f=0;f<s.length;f++){for(var d=0,g=0;g<s.length;g++)d+=r[s[g]*e+s[f]];d>c&&(u=f,c=d)}n[o]=s[u]}return a=assignClusters(e,r,n),a},affinityPropagation=function t(e){for(var r=this.cy(),n=this.nodes(),a=setOptions$3(e),o={},s=0;s<n.length;s++)o[n[s].id()]=s;var l,u,c,f,d,g;l=n.length,u=l*l,c=new Array(u);for(var v=0;v<u;v++)c[v]=-1/0;for(var m=0;m<l;m++)for(var y=0;y<l;y++)m!==y&&(c[m*l+y]=getSimilarity$1(a.distance,n[m],n[y],a.attributes));f=getPreference(c,a.preference);for(var b=0;b<l;b++)c[b*l+b]=f;d=new Array(u);for(var E=0;E<u;E++)d[E]=0;g=new Array(u);for(var w=0;w<u;w++)g[w]=0;for(var _=new Array(l),T=new Array(l),O=new Array(l),D=0;D<l;D++)_[D]=0,T[D]=0,O[D]=0;for(var x=new Array(l*a.minIterations),L=0;L<x.length;L++)x[L]=0;var R;for(R=0;R<a.maxIterations;R++){for(var C=0;C<l;C++){for(var A=-1/0,S=-1/0,N=-1,$=0,B=0;B<l;B++)_[B]=d[C*l+B],$=g[C*l+B]+c[C*l+B],$>=A?(S=A,A=$,N=B):$>S&&(S=$);for(var P=0;P<l;P++)d[C*l+P]=(1-a.damping)*(c[C*l+P]-A)+a.damping*_[P];d[C*l+N]=(1-a.damping)*(c[C*l+N]-S)+a.damping*_[N]}for(var k=0;k<l;k++){for(var H=0,G=0;G<l;G++)_[G]=g[G*l+k],T[G]=Math.max(0,d[G*l+k]),H+=T[G];H-=T[k],T[k]=d[k*l+k],H+=T[k];for(var W=0;W<l;W++)g[W*l+k]=(1-a.damping)*Math.min(0,H-T[W])+a.damping*_[W];g[k*l+k]=(1-a.damping)*(H-T[k])+a.damping*_[k]}for(var U=0,X=0;X<l;X++){var ee=g[X*l+X]+d[X*l+X]>0?1:0;x[R%a.minIterations*l+X]=ee,U+=ee}if(U>0&&(R>=a.minIterations-1||R==a.maxIterations-1)){for(var te=0,V=0;V<l;V++){O[V]=0;for(var Y=0;Y<a.minIterations;Y++)O[V]+=x[Y*l+V];(O[V]===0||O[V]===a.minIterations)&&te++}if(te===l)break}}for(var F=findExemplars(l,d,g),j=assign$2(l,c,F),J={},de=0;de<F.length;de++)J[F[de]]=[];for(var re=0;re<n.length;re++){var ve=o[n[re].id()],z=j[ve];z!=null&&J[z].push(n[re])}for(var I=new Array(F.length),q=0;q<F.length;q++)I[q]=r.collection(J[F[q]]);return I},affinityPropagation$1={affinityPropagation,ap:affinityPropagation},hierholzerDefaults=defaults({root:void 0,directed:!1}),elesfn$b={hierholzer:function t(e){if(!plainObject(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=hierholzerDefaults(e),a=n.root,o=n.directed,s=this,l=!1,u,c,f;a&&(f=string(a)?this.filter(a)[0].id():a[0].id());var d={},g={};o?s.forEach(function(w){var _=w.id();if(w.isNode()){var T=w.indegree(!0),O=w.outdegree(!0),D=T-O,x=O-T;D==1?u?l=!0:u=_:x==1?c?l=!0:c=_:(x>1||D>1)&&(l=!0),d[_]=[],w.outgoers().forEach(function(L){L.isEdge()&&d[_].push(L.id())})}else g[_]=[void 0,w.target().id()]}):s.forEach(function(w){var _=w.id();if(w.isNode()){var T=w.degree(!0);T%2&&(u?c?l=!0:c=_:u=_),d[_]=[],w.connectedEdges().forEach(function(O){return d[_].push(O.id())})}else g[_]=[w.source().id(),w.target().id()]});var v={found:!1,trail:void 0};if(l)return v;if(c&&u)if(o){if(f&&c!=f)return v;f=c}else{if(f&&c!=f&&u!=f)return v;f||(f=c)}else f||(f=s[0].id());var m=function(_){for(var T=_,O=[_],D,x,L;d[T].length;)D=d[T].shift(),x=g[D][0],L=g[D][1],T!=L?(d[L]=d[L].filter(function(R){return R!=D}),T=L):!o&&T!=x&&(d[x]=d[x].filter(function(R){return R!=D}),T=x),O.unshift(D),O.unshift(T);return O},y=[],b=[];for(b=m(f);b.length!=1;)d[b[0]].length==0?(y.unshift(s.getElementById(b.shift())),y.unshift(s.getElementById(b.shift()))):b=m(b.shift()).concat(b);y.unshift(s.getElementById(b.shift()));for(var E in d)if(d[E].length)return v;return v.found=!0,v.trail=this.spawn(y,!0),v}},hopcroftTarjanBiconnected=function t(){var e=this,r={},n=0,a=0,o=[],s=[],l={},u=function(g,v){for(var m=s.length-1,y=[],b=e.spawn();s[m].x!=g||s[m].y!=v;)y.push(s.pop().edge),m--;y.push(s.pop().edge),y.forEach(function(E){var w=E.connectedNodes().intersection(e);b.merge(E),w.forEach(function(_){var T=_.id(),O=_.connectedEdges().intersection(e);b.merge(_),r[T].cutVertex?b.merge(O.filter(function(D){return D.isLoop()})):b.merge(O)})}),o.push(b)},c=function d(g,v,m){g===m&&(a+=1),r[v]={id:n,low:n++,cutVertex:!1};var y=e.getElementById(v).connectedEdges().intersection(e);if(y.size()===0)o.push(e.spawn(e.getElementById(v)));else{var b,E,w,_;y.forEach(function(T){b=T.source().id(),E=T.target().id(),w=b===v?E:b,w!==m&&(_=T.id(),l[_]||(l[_]=!0,s.push({x:v,y:w,edge:T})),w in r?r[v].low=Math.min(r[v].low,r[w].id):(d(g,w,v),r[v].low=Math.min(r[v].low,r[w].low),r[v].id<=r[w].low&&(r[v].cutVertex=!0,u(v,w))))})}};e.forEach(function(d){if(d.isNode()){var g=d.id();g in r||(a=0,c(g,g),r[g].cutVertex=a>1)}});var f=Object.keys(r).filter(function(d){return r[d].cutVertex}).map(function(d){return e.getElementById(d)});return{cut:e.spawn(f),components:o}},hopcroftTarjanBiconnected$1={hopcroftTarjanBiconnected,htbc:hopcroftTarjanBiconnected,htb:hopcroftTarjanBiconnected,hopcroftTarjanBiconnectedComponents:hopcroftTarjanBiconnected},tarjanStronglyConnected=function t(){var e=this,r={},n=0,a=[],o=[],s=e.spawn(e),l=function u(c){o.push(c),r[c]={index:n,low:n++,explored:!1};var f=e.getElementById(c).connectedEdges().intersection(e);if(f.forEach(function(y){var b=y.target().id();b!==c&&(b in r||u(b),r[b].explored||(r[c].low=Math.min(r[c].low,r[b].low)))}),r[c].index===r[c].low){for(var d=e.spawn();;){var g=o.pop();if(d.merge(e.getElementById(g)),r[g].low=r[c].index,r[g].explored=!0,g===c)break}var v=d.edgesWith(d),m=d.merge(v);a.push(m),s=s.difference(m)}};return e.forEach(function(u){if(u.isNode()){var c=u.id();c in r||l(c)}}),{cut:s,components:a}},tarjanStronglyConnected$1={tarjanStronglyConnected,tsc:tarjanStronglyConnected,tscc:tarjanStronglyConnected,tarjanStronglyConnectedComponents:tarjanStronglyConnected},elesfn$c={};[elesfn,elesfn$1,elesfn$2,elesfn$3,elesfn$4,elesfn$5,elesfn$6,elesfn$7,elesfn$8,elesfn$9,elesfn$a,markovClustering$1,kClustering,hierarchicalClustering$1,affinityPropagation$1,elesfn$b,hopcroftTarjanBiconnected$1,tarjanStronglyConnected$1].forEach(function(t){extend(elesfn$c,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var STATE_PENDING=0,STATE_FULFILLED=1,STATE_REJECTED=2,api=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=STATE_PENDING,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};api.prototype={fulfill:function t(e){return deliver(this,STATE_FULFILLED,"fulfillValue",e)},reject:function t(e){return deliver(this,STATE_REJECTED,"rejectReason",e)},then:function t(e,r){var n=this,a=new api;return n.onFulfilled.push(resolver(e,a,"fulfill")),n.onRejected.push(resolver(r,a,"reject")),execute$1(n),a.proxy}};var deliver=function t(e,r,n,a){return e.state===STATE_PENDING&&(e.state=r,e[n]=a,execute$1(e)),e},execute$1=function t(e){e.state===STATE_FULFILLED?execute_handlers(e,"onFulfilled",e.fulfillValue):e.state===STATE_REJECTED&&execute_handlers(e,"onRejected",e.rejectReason)},execute_handlers=function t(e,r,n){if(e[r].length!==0){var a=e[r];e[r]=[];var o=function(){for(var l=0;l<a.length;l++)a[l](n)};typeof setImmediate=="function"?setImmediate(o):setTimeout(o,0)}},resolver=function t(e,r,n){return function(a){if(typeof e!="function")r[n].call(r,a);else{var o;try{o=e(a)}catch(s){r.reject(s);return}resolve(r,o)}}},resolve=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(_typeof(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(o){e.reject(o);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(o){a||(a=!0,o===r?e.reject(new TypeError("circular thenable chain")):t(e,o))},function(o){a||(a=!0,e.reject(o))})}catch(o){a||e.reject(o)}return}e.fulfill(r)};api.all=function(t){return new api(function(e,r){for(var n=new Array(t.length),a=0,o=function(u,c){n[u]=c,a++,a===t.length&&e(n)},s=0;s<t.length;s++)(function(l){var u=t[l],c=u!=null&&u.then!=null;if(c)u.then(function(d){o(l,d)},function(d){r(d)});else{var f=u;o(l,f)}})(s)})};api.resolve=function(t){return new api(function(e,r){e(t)})};api.reject=function(t){return new api(function(e,r){r(t)})};var Promise$1=typeof Promise!="undefined"?Promise:api,Animation=function t(e,r,n){var a=core(e),o=!a,s=this._private=extend({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&fn(s.complete)&&s.completes.push(s.complete),o){var l=e.position();s.startPosition=s.startPosition||{x:l.x,y:l.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(a){var u=e.pan();s.startPan={x:u.x,y:u.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},anifn=Animation.prototype;extend(anifn,{instanceString:function t(){return"animation"},hook:function t(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),elementOrCollection(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function t(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function t(){return this._private.playing},apply:function t(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function t(){return this._private.applying},pause:function t(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function t(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function t(){return this.progress(0)},fastforward:function t(){return this.progress(1)},time:function t(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function t(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function t(){return this._private.progress===1},reverse:function t(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(c,f){var d=e[c];d!=null&&(e[c]=e[f],e[f]=d)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var o=e.style[a],s=o.name,l=e.startStyle[s];e.startStyle[s]=o,e.style[a]=l}return r&&this.play(),this},promise:function t(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new Promise$1(function(a,o){n.push(function(){a()})})}});anifn.complete=anifn.completed;anifn.run=anifn.play;anifn.running=anifn.playing;var define={animated:function t(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return!1;var s=a[0];if(s)return s._private.animation.current.length>0}},clearQueue:function t(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var s=0;s<a.length;s++){var l=a[s];l._private.animation.queue=[]}return this}},delay:function t(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function t(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function t(){return function(r,n){var a=this,o=a.length!==void 0,s=o?a:[a],l=this._private.cy||this,u=!o,c=!u;if(!l.styleEnabled())return this;var f=l.style();r=extend({},r,n);var d=Object.keys(r).length===0;if(d)return new Animation(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(c&&(r.style=f.getPropsList(r.style||r.css),r.css=void 0),c&&r.renderedPosition!=null){var g=r.renderedPosition,v=l.pan(),m=l.zoom();r.position=renderedToModelPosition(g,m,v)}if(u&&r.panBy!=null){var y=r.panBy,b=l.pan();r.pan={x:b.x+y.x,y:b.y+y.y}}var E=r.center||r.centre;if(u&&E!=null){var w=l.getCenterPan(E.eles,r.zoom);w!=null&&(r.pan=w)}if(u&&r.fit!=null){var _=r.fit,T=l.getFitViewport(_.eles||_.boundingBox,_.padding);T!=null&&(r.pan=T.pan,r.zoom=T.zoom)}if(u&&plainObject(r.zoom)){var O=l.getZoomedViewport(r.zoom);O!=null?(O.zoomed&&(r.zoom=O.zoom),O.panned&&(r.pan=O.pan)):r.zoom=null}return new Animation(s[0],r)}},animate:function t(){return function(r,n){var a=this,o=a.length!==void 0,s=o?a:[a],l=this._private.cy||this;if(!l.styleEnabled())return this;n&&(r=extend({},r,n));for(var u=0;u<s.length;u++){var c=s[u],f=c.animated()&&(r.queue===void 0||r.queue),d=c.animation(r,f?{queue:!0}:void 0);d.play()}return this}},stop:function t(){return function(r,n){var a=this,o=a.length!==void 0,s=o?a:[a],l=this._private.cy||this;if(!l.styleEnabled())return this;for(var u=0;u<s.length;u++){for(var c=s[u],f=c._private,d=f.animation.current,g=0;g<d.length;g++){var v=d[g],m=v._private;n&&(m.duration=0)}r&&(f.animation.queue=[]),n||(f.animation.current=[])}return l.notify("draw"),this}}},define$1={data:function t(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,o){},onSet:function(a){},canSet:function(a){return!0}};return e=extend({},r,e),function(a,o){var s=e,l=this,u=l.length!==void 0,c=u?l:[l],f=u?l[0]:l;if(string(a)){var d=a.indexOf(".")!==-1,g=d&&toPath(a);if(s.allowGetting&&o===void 0){var v;return f&&(s.beforeGet(f),g&&f._private[s.field][a]===void 0?v=get(f._private[s.field],g):v=f._private[s.field][a]),v}else if(s.allowSetting&&o!==void 0){var m=!s.immutableKeys[a];if(m){var y=_defineProperty({},a,o);s.beforeSet(l,y);for(var b=0,E=c.length;b<E;b++){var w=c[b];s.canSet(w)&&(g&&f._private[s.field][a]===void 0?set(w._private[s.field],g,o):w._private[s.field][a]=o)}s.updateStyle&&l.updateStyle(),s.onSet(l),s.settingTriggersEvent&&l[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&plainObject(a)){var _=a,T,O,D=Object.keys(_);s.beforeSet(l,_);for(var x=0;x<D.length;x++){T=D[x],O=_[T];var L=!s.immutableKeys[T];if(L)for(var R=0;R<c.length;R++){var C=c[R];s.canSet(C)&&(C._private[s.field][T]=O)}}s.updateStyle&&l.updateStyle(),s.onSet(l),s.settingTriggersEvent&&l[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&fn(a)){var A=a;l.on(s.bindingEvent,A)}else if(s.allowGetting&&a===void 0){var S;return f&&(s.beforeGet(f),S=f._private[s.field]),S}return l}},removeData:function t(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=extend({},r,e),function(a){var o=e,s=this,l=s.length!==void 0,u=l?s:[s];if(string(a)){for(var c=a.split(/\s+/),f=c.length,d=0;d<f;d++){var g=c[d];if(!emptyString(g)){var v=!o.immutableKeys[g];if(v)for(var m=0,y=u.length;m<y;m++)u[m]._private[o.field][g]=void 0}}o.triggerEvent&&s[o.triggerFnName](o.event)}else if(a===void 0){for(var b=0,E=u.length;b<E;b++)for(var w=u[b]._private[o.field],_=Object.keys(w),T=0;T<_.length;T++){var O=_[T],D=!o.immutableKeys[O];D&&(w[O]=void 0)}o.triggerEvent&&s[o.triggerFnName](o.event)}return s}}},define$2={eventAliasesOn:function t(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var o=this,s=Array.prototype.slice.call(arguments,0);return new Promise$1(function(l,u){var c=function(v){o.off.apply(o,d),l(v)},f=s.concat([c]),d=f.concat([]);o.on.apply(o,f)})}}},define$3={};[define,define$1,define$2].forEach(function(t){extend(define$3,t)});var elesfn$d={animate:define$3.animate(),animation:define$3.animation(),animated:define$3.animated(),clearQueue:define$3.clearQueue(),delay:define$3.delay(),delayAnimation:define$3.delayAnimation(),stop:define$3.stop()},elesfn$e={classes:function t(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(m){return n.push(m)}),n}else array(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],o=new Set$1(e),s=0;s<r.length;s++){for(var l=r[s],u=l._private,c=u.classes,f=!1,d=0;d<e.length;d++){var g=e[d],v=c.has(g);if(!v){f=!0;break}}f||(f=c.size!==e.length),f&&(u.classes=o,a.push(l))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function t(e){return this.toggleClass(e,!0)},hasClass:function t(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function t(e,r){array(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=r===void 0,o=[],s=0,l=n.length;s<l;s++)for(var u=n[s],c=u._private.classes,f=!1,d=0;d<e.length;d++){var g=e[d],v=c.has(g),m=!1;r||a&&!v?(c.add(g),m=!0):(!r||a&&v)&&(c.delete(g),m=!0),!f&&m&&(o.push(u),f=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),n},removeClass:function t(e){return this.toggleClass(e,!1)},flashClass:function t(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};elesfn$e.className=elesfn$e.classNames=elesfn$e.classes;var tokens={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:number$1,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};tokens.variable="(?:[\\w-.]|(?:\\\\"+tokens.metaChar+"))+";tokens.className="(?:[\\w-]|(?:\\\\"+tokens.metaChar+"))+";tokens.value=tokens.string+"|"+tokens.number;tokens.id=tokens.variable;(function(){var t,e,r;for(t=tokens.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],tokens.comparatorOp+="|@"+e;for(t=tokens.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(tokens.comparatorOp+="|\\!"+e)})();var newQuery=function t(){return{checks:[]}},Type={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},stateSelectors=[{selector:":selected",matches:function t(e){return e.selected()}},{selector:":unselected",matches:function t(e){return!e.selected()}},{selector:":selectable",matches:function t(e){return e.selectable()}},{selector:":unselectable",matches:function t(e){return!e.selectable()}},{selector:":locked",matches:function t(e){return e.locked()}},{selector:":unlocked",matches:function t(e){return!e.locked()}},{selector:":visible",matches:function t(e){return e.visible()}},{selector:":hidden",matches:function t(e){return!e.visible()}},{selector:":transparent",matches:function t(e){return e.transparent()}},{selector:":grabbed",matches:function t(e){return e.grabbed()}},{selector:":free",matches:function t(e){return!e.grabbed()}},{selector:":removed",matches:function t(e){return e.removed()}},{selector:":inside",matches:function t(e){return!e.removed()}},{selector:":grabbable",matches:function t(e){return e.grabbable()}},{selector:":ungrabbable",matches:function t(e){return!e.grabbable()}},{selector:":animated",matches:function t(e){return e.animated()}},{selector:":unanimated",matches:function t(e){return!e.animated()}},{selector:":parent",matches:function t(e){return e.isParent()}},{selector:":childless",matches:function t(e){return e.isChildless()}},{selector:":child",matches:function t(e){return e.isChild()}},{selector:":orphan",matches:function t(e){return e.isOrphan()}},{selector:":nonorphan",matches:function t(e){return e.isChild()}},{selector:":compound",matches:function t(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function t(e){return e.isLoop()}},{selector:":simple",matches:function t(e){return e.isSimple()}},{selector:":active",matches:function t(e){return e.active()}},{selector:":inactive",matches:function t(e){return!e.active()}},{selector:":backgrounding",matches:function t(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function t(e){return!e.backgrounding()}}].sort(function(t,e){return descending(t.selector,e.selector)}),lookup=function(){for(var t={},e,r=0;r<stateSelectors.length;r++)e=stateSelectors[r],t[e.selector]=e.matches;return t}(),stateSelectorMatches=function t(e,r){return lookup[e](r)},stateSelectorRegex="("+stateSelectors.map(function(t){return t.selector}).join("|")+")",cleanMetaChars=function t(e){return e.replace(new RegExp("\\\\("+tokens.metaChar+")","g"),function(r,n){return n})},replaceLastQuery=function t(e,r,n){e[e.length-1]=n},exprs=[{name:"group",query:!0,regex:"("+tokens.group+")",populate:function t(e,r,n){var a=_slicedToArray(n,1),o=a[0];r.checks.push({type:Type.GROUP,value:o==="*"?o:o+"s"})}},{name:"state",query:!0,regex:stateSelectorRegex,populate:function t(e,r,n){var a=_slicedToArray(n,1),o=a[0];r.checks.push({type:Type.STATE,value:o})}},{name:"id",query:!0,regex:"\\#("+tokens.id+")",populate:function t(e,r,n){var a=_slicedToArray(n,1),o=a[0];r.checks.push({type:Type.ID,value:cleanMetaChars(o)})}},{name:"className",query:!0,regex:"\\.("+tokens.className+")",populate:function t(e,r,n){var a=_slicedToArray(n,1),o=a[0];r.checks.push({type:Type.CLASS,value:cleanMetaChars(o)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+tokens.variable+")\\s*\\]",populate:function t(e,r,n){var a=_slicedToArray(n,1),o=a[0];r.checks.push({type:Type.DATA_EXIST,field:cleanMetaChars(o)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+tokens.variable+")\\s*("+tokens.comparatorOp+")\\s*("+tokens.value+")\\s*\\]",populate:function t(e,r,n){var a=_slicedToArray(n,3),o=a[0],s=a[1],l=a[2],u=new RegExp("^"+tokens.string+"$").exec(l)!=null;u?l=l.substring(1,l.length-1):l=parseFloat(l),r.checks.push({type:Type.DATA_COMPARE,field:cleanMetaChars(o),operator:s,value:l})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+tokens.boolOp+")\\s*("+tokens.variable+")\\s*\\]",populate:function t(e,r,n){var a=_slicedToArray(n,2),o=a[0],s=a[1];r.checks.push({type:Type.DATA_BOOL,field:cleanMetaChars(s),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+tokens.meta+")\\s*("+tokens.comparatorOp+")\\s*("+tokens.number+")\\s*\\]\\]",populate:function t(e,r,n){var a=_slicedToArray(n,3),o=a[0],s=a[1],l=a[2];r.checks.push({type:Type.META_COMPARE,field:cleanMetaChars(o),operator:s,value:parseFloat(l)})}},{name:"nextQuery",separator:!0,regex:tokens.separator,populate:function t(e,r){var n=e.currentSubject,a=e.edgeCount,o=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=a,s.compoundCount=o,e.edgeCount=0,e.compoundCount=0;var l=e[e.length++]=newQuery();return l}},{name:"directedEdge",separator:!0,regex:tokens.directedEdge,populate:function t(e,r){if(e.currentSubject==null){var n=newQuery(),a=r,o=newQuery();return n.checks.push({type:Type.DIRECTED_EDGE,source:a,target:o}),replaceLastQuery(e,r,n),e.edgeCount++,o}else{var s=newQuery(),l=r,u=newQuery();return s.checks.push({type:Type.NODE_SOURCE,source:l,target:u}),replaceLastQuery(e,r,s),e.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:tokens.undirectedEdge,populate:function t(e,r){if(e.currentSubject==null){var n=newQuery(),a=r,o=newQuery();return n.checks.push({type:Type.UNDIRECTED_EDGE,nodes:[a,o]}),replaceLastQuery(e,r,n),e.edgeCount++,o}else{var s=newQuery(),l=r,u=newQuery();return s.checks.push({type:Type.NODE_NEIGHBOR,node:l,neighbor:u}),replaceLastQuery(e,r,s),u}}},{name:"child",separator:!0,regex:tokens.child,populate:function t(e,r){if(e.currentSubject==null){var n=newQuery(),a=newQuery(),o=e[e.length-1];return n.checks.push({type:Type.CHILD,parent:o,child:a}),replaceLastQuery(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var s=newQuery(),l=e[e.length-1],u=newQuery(),c=newQuery(),f=newQuery(),d=newQuery();return s.checks.push({type:Type.COMPOUND_SPLIT,left:l,right:u,subject:c}),c.checks=r.checks,r.checks=[{type:Type.TRUE}],d.checks.push({type:Type.TRUE}),u.checks.push({type:Type.PARENT,parent:d,child:f}),replaceLastQuery(e,l,s),e.currentSubject=c,e.compoundCount++,f}else{var g=newQuery(),v=newQuery(),m=[{type:Type.PARENT,parent:g,child:v}];return g.checks=r.checks,r.checks=m,e.compoundCount++,v}}},{name:"descendant",separator:!0,regex:tokens.descendant,populate:function t(e,r){if(e.currentSubject==null){var n=newQuery(),a=newQuery(),o=e[e.length-1];return n.checks.push({type:Type.DESCENDANT,ancestor:o,descendant:a}),replaceLastQuery(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var s=newQuery(),l=e[e.length-1],u=newQuery(),c=newQuery(),f=newQuery(),d=newQuery();return s.checks.push({type:Type.COMPOUND_SPLIT,left:l,right:u,subject:c}),c.checks=r.checks,r.checks=[{type:Type.TRUE}],d.checks.push({type:Type.TRUE}),u.checks.push({type:Type.ANCESTOR,ancestor:d,descendant:f}),replaceLastQuery(e,l,s),e.currentSubject=c,e.compoundCount++,f}else{var g=newQuery(),v=newQuery(),m=[{type:Type.ANCESTOR,ancestor:g,descendant:v}];return g.checks=r.checks,r.checks=m,e.compoundCount++,v}}},{name:"subject",modifier:!0,regex:tokens.subject,populate:function t(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return warn("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],a=n.checks[0],o=a==null?null:a.type;o===Type.DIRECTED_EDGE?a.type=Type.NODE_TARGET:o===Type.UNDIRECTED_EDGE&&(a.type=Type.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];exprs.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var consumeExpr=function t(e){for(var r,n,a,o=0;o<exprs.length;o++){var s=exprs[o],l=s.name,u=e.match(s.regexObj);if(u!=null){n=u,r=s,a=l;var c=u[0];e=e.substring(c.length);break}}return{expr:r,match:n,name:a,remaining:e}},consumeWhitespace=function t(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},parse=function t(e){var r=this,n=r.inputText=e,a=r[0]=newQuery();for(r.length=1,n=consumeWhitespace(n);;){var o=consumeExpr(n);if(o.expr==null)return warn("The selector `"+e+"`is invalid"),!1;var s=o.match.slice(1),l=o.expr.populate(r,a,s);if(l===!1)return!1;if(l!=null&&(a=l),n=o.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var c=0;c<r.length;c++){var f=r[c];if(f.compoundCount>0&&f.edgeCount>0)return warn("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(f.edgeCount>1)return warn("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;f.edgeCount===1&&warn("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString=function t(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(f){return f==null?"":f},r=function(f){return string(f)?'"'+f+'"':e(f)},n=function(f){return" "+f+" "},a=function(f,d){var g=f.type,v=f.value;switch(g){case Type.GROUP:{var m=e(v);return m.substring(0,m.length-1)}case Type.DATA_COMPARE:{var y=f.field,b=f.operator;return"["+y+n(e(b))+r(v)+"]"}case Type.DATA_BOOL:{var E=f.operator,w=f.field;return"["+e(E)+w+"]"}case Type.DATA_EXIST:{var _=f.field;return"["+_+"]"}case Type.META_COMPARE:{var T=f.operator,O=f.field;return"[["+O+n(e(T))+r(v)+"]]"}case Type.STATE:return v;case Type.ID:return"#"+v;case Type.CLASS:return"."+v;case Type.PARENT:case Type.CHILD:return o(f.parent,d)+n(">")+o(f.child,d);case Type.ANCESTOR:case Type.DESCENDANT:return o(f.ancestor,d)+" "+o(f.descendant,d);case Type.COMPOUND_SPLIT:{var D=o(f.left,d),x=o(f.subject,d),L=o(f.right,d);return D+(D.length>0?" ":"")+x+L}case Type.TRUE:return""}},o=function(f,d){return f.checks.reduce(function(g,v,m){return g+(d===f&&m===0?"$":"")+a(v,d)},"")},s="",l=0;l<this.length;l++){var u=this[l];s+=o(u,u.subject),this.length>1&&l<this.length-1&&(s+=", ")}return this.toStringCache=s,s},parse$1={parse,toString},valCmp=function t(e,r,n){var a,o=string(e),s=number(e),l=string(n),u,c,f=!1,d=!1,g=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),d=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),f=!0),(o||l||f)&&(u=!o&&!s?"":""+e,c=""+n),f&&(e=u=u.toLowerCase(),n=c=c.toLowerCase()),r){case"*=":a=u.indexOf(c)>=0;break;case"$=":a=u.indexOf(c,u.length-c.length)>=0;break;case"^=":a=u.indexOf(c)===0;break;case"=":a=e===n;break;case">":g=!0,a=e>n;break;case">=":g=!0,a=e>=n;break;case"<":g=!0,a=e<n;break;case"<=":g=!0,a=e<=n;break;default:a=!1;break}return d&&(e!=null||!g)&&(a=!a),a},boolCmp=function t(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},existCmp=function t(e){return e!==void 0},data=function t(e,r){return e.data(r)},meta=function t(e,r){return e[r]()},match=[],matches=function t(e,r){return e.checks.every(function(n){return match[n.type](n,r)})};match[Type.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};match[Type.STATE]=function(t,e){var r=t.value;return stateSelectorMatches(r,e)};match[Type.ID]=function(t,e){var r=t.value;return e.id()===r};match[Type.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};match[Type.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return valCmp(meta(e,r),n,a)};match[Type.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return valCmp(data(e,r),n,a)};match[Type.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return boolCmp(data(e,r),n)};match[Type.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,existCmp(data(e,r))};match[Type.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],a=e.source(),o=e.target();return matches(r,a)&&matches(n,o)||matches(n,a)&&matches(r,o)};match[Type.NODE_NEIGHBOR]=function(t,e){return matches(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&matches(t.neighbor,r)})};match[Type.DIRECTED_EDGE]=function(t,e){return matches(t.source,e.source())&&matches(t.target,e.target())};match[Type.NODE_SOURCE]=function(t,e){return matches(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&matches(t.target,r)})};match[Type.NODE_TARGET]=function(t,e){return matches(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&matches(t.source,r)})};match[Type.CHILD]=function(t,e){return matches(t.child,e)&&matches(t.parent,e.parent())};match[Type.PARENT]=function(t,e){return matches(t.parent,e)&&e.children().some(function(r){return matches(t.child,r)})};match[Type.DESCENDANT]=function(t,e){return matches(t.descendant,e)&&e.ancestors().some(function(r){return matches(t.ancestor,r)})};match[Type.ANCESTOR]=function(t,e){return matches(t.ancestor,e)&&e.descendants().some(function(r){return matches(t.descendant,r)})};match[Type.COMPOUND_SPLIT]=function(t,e){return matches(t.subject,e)&&matches(t.left,e)&&matches(t.right,e)};match[Type.TRUE]=function(){return!0};match[Type.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};match[Type.FILTER]=function(t,e){var r=t.value;return r(e)};var filter=function t(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Type.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(o){for(var s=0;s<r.length;s++){var l=r[s];if(matches(l,o))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},matches$1=function t(e){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(matches(a,e))return!0}return!1},matching={matches:matches$1,filter},Selector=function t(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||string(e)&&e.match(/^\s*$/)||(elementOrCollection(e)?this.addQuery({checks:[{type:Type.COLLECTION,value:e.collection()}]}):fn(e)?this.addQuery({checks:[{type:Type.FILTER,value:e}]}):string(e)?this.parse(e)||(this.invalid=!0):error("A selector must be created from a string; found "))},selfn=Selector.prototype;[parse$1,matching].forEach(function(t){return extend(selfn,t)});selfn.text=function(){return this.inputText};selfn.size=function(){return this.length};selfn.eq=function(t){return this[t]};selfn.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};selfn.addQuery=function(t){this[this.length++]=t};selfn.selector=selfn.toString;var elesfn$f={allAre:function t(e){var r=new Selector(e);return this.every(function(n){return r.matches(n)})},is:function t(e){var r=new Selector(e);return this.some(function(n){return r.matches(n)})},some:function t(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function t(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function t(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function t(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function t(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function t(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};elesfn$f.allAreNeighbours=elesfn$f.allAreNeighbors;elesfn$f.has=elesfn$f.contains;elesfn$f.equal=elesfn$f.equals=elesfn$f.same;var cache=function t(e,r){return function(a,o,s,l){var u=a,c=this,f;if(u==null?f="":elementOrCollection(u)&&u.length===1&&(f=u.id()),c.length===1&&f){var d=c[0]._private,g=d.traversalCache=d.traversalCache||{},v=g[r]=g[r]||[],m=hashString(f),y=v[m];return y||(v[m]=e.call(c,a,o,s,l))}else return e.call(c,a,o,s,l)}},elesfn$g={parent:function t(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var o=this[a],s=o._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function t(e){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var o=n[a];r.push(o)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function t(e){for(var r,n=0;n<this.length;n++){var a=this[n],o=a.parents();r=r||o,r=r.intersect(o)}return r.filter(e)},orphans:function t(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function t(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:cache(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,o=0;o<a.length;o++)e.push(a[o]);return this.spawn(e,!0).filter(t)},"children"),siblings:function t(e){return this.parent().children().not(this).filter(e)},isParent:function t(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function t(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function t(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function t(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function t(e){var r=[];function n(a){for(var o=0;o<a.length;o++){var s=a[o];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function forEachCompound(t,e,r,n){for(var a=[],o=new Set$1,s=t.cy(),l=s.hasCompoundNodes(),u=0;u<t.length;u++){var c=t[u];r?a.push(c):l&&n(a,o,c)}for(;a.length>0;){var f=a.shift();e(f),o.add(f.id()),l&&n(a,o,f)}return t}function addChildren(t,e,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var o=n[a];e.has(o.id())||t.push(o)}}elesfn$g.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return forEachCompound(this,t,e,addChildren)};function addParent(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}elesfn$g.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return forEachCompound(this,t,e,addParent)};function addParentAndChildren(t,e,r){addParent(t,e,r),addChildren(t,e,r)}elesfn$g.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return forEachCompound(this,t,e,addParentAndChildren)};elesfn$g.ancestors=elesfn$g.parents;var fn$1,elesfn$h;fn$1=elesfn$h={data:define$3.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:define$3.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:define$3.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:define$3.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:define$3.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:define$3.removeData({field:"rscratch",triggerEvent:!1}),id:function t(){var e=this[0];if(e)return e._private.data.id}};fn$1.attr=fn$1.data;fn$1.removeAttr=fn$1.removeData;var data$1=elesfn$h,elesfn$i={};function defineDegreeFunction(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],o=a._private.edges,s=0;s<o.length;s++){var l=o[s];!e&&l.isLoop()||(n+=t(a,l))}return n}else return}}extend(elesfn$i,{degree:defineDegreeFunction(function(t,e){return e.source().same(e.target())?2:1}),indegree:defineDegreeFunction(function(t,e){return e.target().same(t)?1:0}),outdegree:defineDegreeFunction(function(t,e){return e.source().same(t)?1:0})});function defineDegreeBoundsFunction(t,e){return function(r){for(var n,a=this.nodes(),o=0;o<a.length;o++){var s=a[o],l=s[t](r);l!==void 0&&(n===void 0||e(l,n))&&(n=l)}return n}}extend(elesfn$i,{minDegree:defineDegreeBoundsFunction("degree",function(t,e){return t<e}),maxDegree:defineDegreeBoundsFunction("degree",function(t,e){return t>e}),minIndegree:defineDegreeBoundsFunction("indegree",function(t,e){return t<e}),maxIndegree:defineDegreeBoundsFunction("indegree",function(t,e){return t>e}),minOutdegree:defineDegreeBoundsFunction("outdegree",function(t,e){return t<e}),maxOutdegree:defineDegreeBoundsFunction("outdegree",function(t,e){return t>e})});extend(elesfn$i,{totalDegree:function t(e){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(e);return r}});var fn$2,elesfn$j,beforePositionSet=function t(e,r,n){for(var a=0;a<e.length;a++){var o=e[a];if(!o.locked()){var s=o._private.position,l={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};o.isParent()&&!(l.x===0&&l.y===0)&&o.children().shift(l,n),o.dirtyBoundingBoxCache()}}},positionDef={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function t(e){e.updateCompoundBounds()},beforeSet:function t(e,r){beforePositionSet(e,r,!1)},onSet:function t(e){e.dirtyCompoundBoundsCache()},canSet:function t(e){return!e.locked()}};fn$2=elesfn$j={position:define$3.data(positionDef),silentPosition:define$3.data(extend({},positionDef,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function t(e,r){beforePositionSet(e,r,!0)},onSet:function t(e){e.dirtyCompoundBoundsCache()}})),positions:function t(e,r){if(plainObject(e))r?this.silentPosition(e):this.position(e);else if(fn(e)){var n=e,a=this.cy();a.startBatch();for(var o=0;o<this.length;o++){var s=this[o],l=void 0;(l=n(s,o))&&(r?s.silentPosition(l):s.position(l))}a.endBatch()}return this},silentPositions:function t(e){return this.positions(e,!0)},shift:function t(e,r,n){var a;if(plainObject(e)?(a={x:number(e.x)?e.x:0,y:number(e.y)?e.y:0},n=r):string(e)&&number(r)&&(a={x:0,y:0},a[e]=r),a!=null){var o=this.cy();o.startBatch();for(var s=0;s<this.length;s++){var l=this[s];if(!(o.hasCompoundNodes()&&l.isChild()&&l.ancestors().anySame(this))){var u=l.position(),c={x:u.x+a.x,y:u.y+a.y};n?l.silentPosition(c):l.position(c)}}o.endBatch()}return this},silentShift:function t(e,r){return plainObject(e)?this.shift(e,!0):string(e)&&number(r)&&this.shift(e,r,!0),this},renderedPosition:function t(e,r){var n=this[0],a=this.cy(),o=a.zoom(),s=a.pan(),l=plainObject(e)?e:void 0,u=l!==void 0||r!==void 0&&string(e);if(n&&n.isNode())if(u)for(var c=0;c<this.length;c++){var f=this[c];r!==void 0?f.position(e,(r-s[e])/o):l!==void 0&&f.position(renderedToModelPosition(l,o,s))}else{var d=n.position();return l=modelToRenderedPosition(d,o,s),e===void 0?l:l[e]}else if(!u)return;return this},relativePosition:function t(e,r){var n=this[0],a=this.cy(),o=plainObject(e)?e:void 0,s=o!==void 0||r!==void 0&&string(e),l=a.hasCompoundNodes();if(n&&n.isNode())if(s)for(var u=0;u<this.length;u++){var c=this[u],f=l?c.parent():null,d=f&&f.length>0,g=d;d&&(f=f[0]);var v=g?f.position():{x:0,y:0};r!==void 0?c.position(e,r+v[e]):o!==void 0&&c.position({x:o.x+v.x,y:o.y+v.y})}else{var m=n.position(),y=l?n.parent():null,b=y&&y.length>0,E=b;b&&(y=y[0]);var w=E?y.position():{x:0,y:0};return o={x:m.x-w.x,y:m.y-w.y},e===void 0?o:o[e]}else if(!s)return;return this}};fn$2.modelPosition=fn$2.point=fn$2.position;fn$2.modelPositions=fn$2.points=fn$2.positions;fn$2.renderedPoint=fn$2.renderedPosition;fn$2.relativePoint=fn$2.relativePosition;var position=elesfn$j,fn$3,elesfn$k;fn$3=elesfn$k={};elesfn$k.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),a=r.pan(),o=e.x1*n+a.x,s=e.x2*n+a.x,l=e.y1*n+a.y,u=e.y2*n+a.y;return{x1:o,x2:s,y1:l,y2:u,w:s-o,h:u-l}};elesfn$k.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};elesfn$k.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var l=s._private,u=s.children(),c=s.pstyle("compound-sizing-wrt-labels").value==="include",f={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},d=u.boundingBox({includeLabels:c,includeOverlays:!1,useCache:!1}),g=l.position;(d.w===0||d.h===0)&&(d={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},d.x1=g.x-d.w/2,d.x2=g.x+d.w/2,d.y1=g.y-d.h/2,d.y2=g.y+d.h/2);function v(R,C,A){var S=0,N=0,$=C+A;return R>0&&$>0&&(S=C/$*R,N=A/$*R),{biasDiff:S,biasComplementDiff:N}}function m(R,C,A,S){if(A.units==="%")switch(S){case"width":return R>0?A.pfValue*R:0;case"height":return C>0?A.pfValue*C:0;case"average":return R>0&&C>0?A.pfValue*(R+C)/2:0;case"min":return R>0&&C>0?R>C?A.pfValue*C:A.pfValue*R:0;case"max":return R>0&&C>0?R>C?A.pfValue*R:A.pfValue*C:0;default:return 0}else return A.units==="px"?A.pfValue:0}var y=f.width.left.value;f.width.left.units==="px"&&f.width.val>0&&(y=y*100/f.width.val);var b=f.width.right.value;f.width.right.units==="px"&&f.width.val>0&&(b=b*100/f.width.val);var E=f.height.top.value;f.height.top.units==="px"&&f.height.val>0&&(E=E*100/f.height.val);var w=f.height.bottom.value;f.height.bottom.units==="px"&&f.height.val>0&&(w=w*100/f.height.val);var _=v(f.width.val-d.w,y,b),T=_.biasDiff,O=_.biasComplementDiff,D=v(f.height.val-d.h,E,w),x=D.biasDiff,L=D.biasComplementDiff;l.autoPadding=m(d.w,d.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),l.autoWidth=Math.max(d.w,f.width.val),g.x=(-T+d.x1+d.x2+O)/2,l.autoHeight=Math.max(d.h,f.height.val),g.y=(-x+d.y1+d.y2+L)/2}for(var n=0;n<this.length;n++){var a=this[n],o=a._private;(!o.compoundBoundsClean||t)&&(r(a),e.batching()||(o.compoundBoundsClean=!0))}return this};var noninf=function t(e){return e===1/0||e===-1/0?0:e},updateBounds=function t(e,r,n,a,o){a-r===0||o-n===0||r==null||n==null||a==null||o==null||(e.x1=r<e.x1?r:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=o>e.y2?o:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},updateBoundsFromBox=function t(e,r){return r==null?e:updateBounds(e,r.x1,r.y1,r.x2,r.y2)},prefixedProperty=function t(e,r,n){return getPrefixedProperty(e,r,n)},updateBoundsFromArrow=function t(e,r,n){if(!r.cy().headless()){var a=r._private,o=a.rstyle,s=o.arrowWidth/2,l=r.pstyle(n+"-arrow-shape").value,u,c;if(l!=="none"){n==="source"?(u=o.srcX,c=o.srcY):n==="target"?(u=o.tgtX,c=o.tgtY):(u=o.midX,c=o.midY);var f=a.arrowBounds=a.arrowBounds||{},d=f[n]=f[n]||{};d.x1=u-s,d.y1=c-s,d.x2=u+s,d.y2=c+s,d.w=d.x2-d.x1,d.h=d.y2-d.y1,expandBoundingBox(d,1),updateBounds(e,d.x1,d.y1,d.x2,d.y2)}}},updateBoundsFromLabel=function t(e,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var o=r._private,s=o.rstyle,l=r.pstyle(a+"label").strValue;if(l){var u=r.pstyle("text-halign"),c=r.pstyle("text-valign"),f=prefixedProperty(s,"labelWidth",n),d=prefixedProperty(s,"labelHeight",n),g=prefixedProperty(s,"labelX",n),v=prefixedProperty(s,"labelY",n),m=r.pstyle(a+"text-margin-x").pfValue,y=r.pstyle(a+"text-margin-y").pfValue,b=r.isEdge(),E=r.pstyle(a+"text-rotation"),w=r.pstyle("text-outline-width").pfValue,_=r.pstyle("text-border-width").pfValue,T=_/2,O=r.pstyle("text-background-padding").pfValue,D=2,x=d,L=f,R=L/2,C=x/2,A,S,N,$;if(b)A=g-R,S=g+R,N=v-C,$=v+C;else{switch(u.value){case"left":A=g-L,S=g;break;case"center":A=g-R,S=g+R;break;case"right":A=g,S=g+L;break}switch(c.value){case"top":N=v-x,$=v;break;case"center":N=v-C,$=v+C;break;case"bottom":N=v,$=v+x;break}}A+=m-Math.max(w,T)-O-D,S+=m+Math.max(w,T)+O+D,N+=y-Math.max(w,T)-O-D,$+=y+Math.max(w,T)+O+D;var B=n||"main",P=o.labelBounds,k=P[B]=P[B]||{};k.x1=A,k.y1=N,k.x2=S,k.y2=$,k.w=S-A,k.h=$-N;var H=b&&E.strValue==="autorotate",G=E.pfValue!=null&&E.pfValue!==0;if(H||G){var W=H?prefixedProperty(o.rstyle,"labelAngle",n):E.pfValue,U=Math.cos(W),X=Math.sin(W),ee=(A+S)/2,te=(N+$)/2;if(!b){switch(u.value){case"left":ee=S;break;case"right":ee=A;break}switch(c.value){case"top":te=$;break;case"bottom":te=N;break}}var V=function(z,I){return z=z-ee,I=I-te,{x:z*U-I*X+ee,y:z*X+I*U+te}},Y=V(A,N),F=V(A,$),j=V(S,N),J=V(S,$);A=Math.min(Y.x,F.x,j.x,J.x),S=Math.max(Y.x,F.x,j.x,J.x),N=Math.min(Y.y,F.y,j.y,J.y),$=Math.max(Y.y,F.y,j.y,J.y)}var de=B+"Rot",re=P[de]=P[de]||{};re.x1=A,re.y1=N,re.x2=S,re.y2=$,re.w=S-A,re.h=$-N,updateBounds(e,A,N,S,$),updateBounds(o.labelBounds.all,A,N,S,$)}return e}},boundingBoxImpl=function t(e,r){var n=e._private.cy,a=n.styleEnabled(),o=n.headless(),s=makeBoundingBox(),l=e._private,u=e.isNode(),c=e.isEdge(),f,d,g,v,m,y,b=l.rstyle,E=u&&a?e.pstyle("bounds-expansion").pfValue:[0],w=function(ie){return ie.pstyle("display").value!=="none"},_=!a||w(e)&&(!c||w(e.source())&&w(e.target()));if(_){var T=0,O=0;a&&r.includeOverlays&&(T=e.pstyle("overlay-opacity").value,T!==0&&(O=e.pstyle("overlay-padding").value));var D=0,x=0;a&&r.includeUnderlays&&(D=e.pstyle("underlay-opacity").value,D!==0&&(x=e.pstyle("underlay-padding").value));var L=Math.max(O,x),R=0,C=0;if(a&&(R=e.pstyle("width").pfValue,C=R/2),u&&r.includeNodes){var A=e.position();m=A.x,y=A.y;var S=e.outerWidth(),N=S/2,$=e.outerHeight(),B=$/2;f=m-N,d=m+N,g=y-B,v=y+B,updateBounds(s,f,g,d,v)}else if(c&&r.includeEdges)if(a&&!o){var P=e.pstyle("curve-style").strValue;if(f=Math.min(b.srcX,b.midX,b.tgtX),d=Math.max(b.srcX,b.midX,b.tgtX),g=Math.min(b.srcY,b.midY,b.tgtY),v=Math.max(b.srcY,b.midY,b.tgtY),f-=C,d+=C,g-=C,v+=C,updateBounds(s,f,g,d,v),P==="haystack"){var k=b.haystackPts;if(k&&k.length===2){if(f=k[0].x,g=k[0].y,d=k[1].x,v=k[1].y,f>d){var H=f;f=d,d=H}if(g>v){var G=g;g=v,v=G}updateBounds(s,f-C,g-C,d+C,v+C)}}else if(P==="bezier"||P==="unbundled-bezier"||P==="segments"||P==="taxi"){var W;switch(P){case"bezier":case"unbundled-bezier":W=b.bezierPts;break;case"segments":case"taxi":W=b.linePts;break}if(W!=null)for(var U=0;U<W.length;U++){var X=W[U];f=X.x-C,d=X.x+C,g=X.y-C,v=X.y+C,updateBounds(s,f,g,d,v)}}}else{var ee=e.source(),te=ee.position(),V=e.target(),Y=V.position();if(f=te.x,d=Y.x,g=te.y,v=Y.y,f>d){var F=f;f=d,d=F}if(g>v){var j=g;g=v,v=j}f-=C,d+=C,g-=C,v+=C,updateBounds(s,f,g,d,v)}if(a&&r.includeEdges&&c&&(updateBoundsFromArrow(s,e,"mid-source"),updateBoundsFromArrow(s,e,"mid-target"),updateBoundsFromArrow(s,e,"source"),updateBoundsFromArrow(s,e,"target")),a){var J=e.pstyle("ghost").value==="yes";if(J){var de=e.pstyle("ghost-offset-x").pfValue,re=e.pstyle("ghost-offset-y").pfValue;updateBounds(s,s.x1+de,s.y1+re,s.x2+de,s.y2+re)}}var ve=l.bodyBounds=l.bodyBounds||{};assignBoundingBox(ve,s),expandBoundingBoxSides(ve,E),expandBoundingBox(ve,1),a&&(f=s.x1,d=s.x2,g=s.y1,v=s.y2,updateBounds(s,f-L,g-L,d+L,v+L));var z=l.overlayBounds=l.overlayBounds||{};assignBoundingBox(z,s),expandBoundingBoxSides(z,E),expandBoundingBox(z,1);var I=l.labelBounds=l.labelBounds||{};I.all!=null?clearBoundingBox(I.all):I.all=makeBoundingBox(),a&&r.includeLabels&&(r.includeMainLabels&&updateBoundsFromLabel(s,e,null),c&&(r.includeSourceLabels&&updateBoundsFromLabel(s,e,"source"),r.includeTargetLabels&&updateBoundsFromLabel(s,e,"target")))}return s.x1=noninf(s.x1),s.y1=noninf(s.y1),s.x2=noninf(s.x2),s.y2=noninf(s.y2),s.w=noninf(s.x2-s.x1),s.h=noninf(s.y2-s.y1),s.w>0&&s.h>0&&_&&(expandBoundingBoxSides(s,E),expandBoundingBox(s,1)),s},getKey=function t(e){var r=0,n=function(s){return(s?1:0)<<r++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a},getBoundingBoxPosKey=function t(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),a=function(s){return Math.round(s)};return hashIntsArray([a(r.x),a(r.y),a(n.x),a(n.y)])}else return 0},cachedBoundingBoxImpl=function t(e,r){var n=e._private,a,o=e.isEdge(),s=r==null?defBbOptsKey:getKey(r),l=s===defBbOptsKey,u=getBoundingBoxPosKey(e),c=n.bbCachePosKey===u,f=r.useCache&&c,d=function(y){return y._private.bbCache==null||y._private.styleDirty},g=!f||d(e)||o&&d(e.source())||d(e.target());if(g?(c||e.recalculateRenderedStyle(f),a=boundingBoxImpl(e,defBbOpts),n.bbCache=a,n.bbCachePosKey=u):a=n.bbCache,!l){var v=e.isNode();a=makeBoundingBox(),(r.includeNodes&&v||r.includeEdges&&!v)&&(r.includeOverlays?updateBoundsFromBox(a,n.overlayBounds):updateBoundsFromBox(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!o||r.includeSourceLabels&&r.includeTargetLabels)?updateBoundsFromBox(a,n.labelBounds.all):(r.includeMainLabels&&updateBoundsFromBox(a,n.labelBounds.mainRot),r.includeSourceLabels&&updateBoundsFromBox(a,n.labelBounds.sourceRot),r.includeTargetLabels&&updateBoundsFromBox(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},defBbOpts={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},defBbOptsKey=getKey(defBbOpts),filledBbOpts=defaults(defBbOpts);elesfn$k.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=defBbOpts:t=filledBbOpts(t),e=cachedBoundingBoxImpl(this[0],t);else{e=makeBoundingBox(),t=t||defBbOpts;var r=filledBbOpts(t),n=this,a=n.cy(),o=a.styleEnabled();if(o)for(var s=0;s<n.length;s++){var l=n[s],u=l._private,c=getBoundingBoxPosKey(l),f=u.bbCachePosKey===c,d=r.useCache&&f&&!u.styleDirty;l.recalculateRenderedStyle(d)}this.updateCompoundBounds(!t.useCache);for(var g=0;g<n.length;g++){var v=n[g];updateBoundsFromBox(e,cachedBoundingBoxImpl(v,r))}}return e.x1=noninf(e.x1),e.y1=noninf(e.y1),e.x2=noninf(e.x2),e.y2=noninf(e.y2),e.w=noninf(e.x2-e.x1),e.h=noninf(e.y2-e.y1),e};elesfn$k.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};elesfn$k.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=e.filter(function(c){return c.isParent()}),e=e.not(a)),plainObject(t)){var o=t;t=function(){return o}}var s=function(f,d){return f._private.bbAtOldPos=t(f,d)},l=function(f){return f._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var u=copyBoundingBox(this.boundingBox({useCache:!1}));return e.silentPositions(l),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),u};fn$3.boundingbox=fn$3.bb=fn$3.boundingBox;fn$3.renderedBoundingbox=fn$3.renderedBoundingBox;var bounds=elesfn$k,fn$4,elesfn$l;fn$4=elesfn$l={};var defineDimFns=function t(e){e.uppercaseName=capitalize(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=capitalize(e.outerName),fn$4[e.name]=function(){var n=this[0],a=n._private,o=a.cy,s=o._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var l=n.pstyle(e.name);switch(l.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return l.pfValue}}else return 1},fn$4["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,o=a.cy,s=o._private.styleEnabled;if(n)if(s){var l=n[e.name](),u=n.pstyle("border-width").pfValue,c=2*n.padding();return l+u+c}else return 1},fn$4["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},fn$4["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};defineDimFns({name:"width"});defineDimFns({name:"height"});elesfn$l.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};elesfn$l.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};elesfn$l.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var widthHeight=elesfn$l,ifEdge=function t(e,r){if(e.isEdge())return r(e)},ifEdgeRenderedPosition=function t(e,r){if(e.isEdge()){var n=e.cy();return modelToRenderedPosition(r(e),n.zoom(),n.pan())}},ifEdgeRenderedPositions=function t(e,r){if(e.isEdge()){var n=e.cy(),a=n.pan(),o=n.zoom();return r(e).map(function(s){return modelToRenderedPosition(s,o,a)})}},controlPoints=function t(e){return e.renderer().getControlPoints(e)},segmentPoints=function t(e){return e.renderer().getSegmentPoints(e)},sourceEndpoint=function t(e){return e.renderer().getSourceEndpoint(e)},targetEndpoint=function t(e){return e.renderer().getTargetEndpoint(e)},midpoint=function t(e){return e.renderer().getEdgeMidpoint(e)},pts={controlPoints:{get:controlPoints,mult:!0},segmentPoints:{get:segmentPoints,mult:!0},sourceEndpoint:{get:sourceEndpoint},targetEndpoint:{get:targetEndpoint},midpoint:{get:midpoint}},renderedName=function t(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},edgePoints=Object.keys(pts).reduce(function(t,e){var r=pts[e],n=renderedName(e);return t[e]=function(){return ifEdge(this,r.get)},r.mult?t[n]=function(){return ifEdgeRenderedPositions(this,r.get)}:t[n]=function(){return ifEdgeRenderedPosition(this,r.get)},t},{}),dimensions=extend({},position,bounds,widthHeight,edgePoints);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Event$2=function t(e,r){this.recycle(e,r)};function returnFalse(){return!1}function returnTrue(){return!0}Event$2.prototype={instanceString:function t(){return"event"},recycle:function t(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=returnFalse,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?returnTrue:returnFalse):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:n.x*a+o.x,y:n.y*a+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function t(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;!e||e.preventDefault&&e.preventDefault()},stopPropagation:function t(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;!e||e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function t(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};var eventRegex=/^([^.]+)(\.(?:[^.]+))?$/,universalNamespace=".*",defaults$8={qualifierCompare:function t(e,r){return e===r},eventMatches:function t(){return!0},addEventFields:function t(){},callbackContext:function t(e){return e},beforeEmit:function t(){},afterEmit:function t(){},bubble:function t(){return!1},parent:function t(){return null},context:null},defaultsKeys=Object.keys(defaults$8),emptyOpts={};function Emitter(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:emptyOpts,e=arguments.length>1?arguments[1]:void 0,r=0;r<defaultsKeys.length;r++){var n=defaultsKeys[r];this[n]=t[n]||defaults$8[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var p=Emitter.prototype,forEachEvent=function t(e,r,n,a,o,s,l){fn(a)&&(o=a,a=null),l&&(s==null?s=l:s=extend({},s,l));for(var u=array(n)?n:n.split(/\s+/),c=0;c<u.length;c++){var f=u[c];if(!emptyString(f)){var d=f.match(eventRegex);if(d){var g=d[1],v=d[2]?d[2]:null,m=r(e,f,g,v,a,o,s);if(m===!1)break}}}},makeEventObj=function t(e,r){return e.addEventFields(e.context,r),new Event$2(r.type,r)},forEachEventObj=function t(e,r,n){if(event(n)){r(e,n);return}else if(plainObject(n)){r(e,makeEventObj(e,n));return}for(var a=array(n)?n:n.split(/\s+/),o=0;o<a.length;o++){var s=a[o];if(!emptyString(s)){var l=s.match(eventRegex);if(l){var u=l[1],c=l[2]?l[2]:null,f=makeEventObj(e,{type:u,namespace:c,target:e.context});r(e,f)}}}};p.on=p.addListener=function(t,e,r,n,a){return forEachEvent(this,function(o,s,l,u,c,f,d){fn(f)&&o.listeners.push({event:s,callback:f,type:l,namespace:u,qualifier:c,conf:d})},t,e,r,n,a),this};p.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};p.removeListener=p.off=function(t,e,r,n){var a=this;this.emitting!==0&&(this.listeners=copyArray(this.listeners));for(var o=this.listeners,s=function(c){var f=o[c];forEachEvent(a,function(d,g,v,m,y,b){if((f.type===v||t==="*")&&(!m&&f.namespace!==".*"||f.namespace===m)&&(!y||d.qualifierCompare(f.qualifier,y))&&(!b||f.callback===b))return o.splice(c,1),!1},t,e,r,n)},l=o.length-1;l>=0;l--)s(l);return this};p.removeAllListeners=function(){return this.removeListener("*")};p.emit=p.trigger=function(t,e,r){var n=this.listeners,a=n.length;return this.emitting++,array(e)||(e=[e]),forEachEventObj(this,function(o,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],a=n.length);for(var l=function(f){var d=n[f];if(d.type===s.type&&(!d.namespace||d.namespace===s.namespace||d.namespace===universalNamespace)&&o.eventMatches(o.context,d,s)){var g=[s];e!=null&&push(g,e),o.beforeEmit(o.context,d,s),d.conf&&d.conf.one&&(o.listeners=o.listeners.filter(function(y){return y!==d}));var v=o.callbackContext(o.context,d,s),m=d.callback.apply(v,g);o.afterEmit(o.context,d,s),m===!1&&(s.stopPropagation(),s.preventDefault())}},u=0;u<a;u++)l(u);o.bubble(o.context)&&!s.isPropagationStopped()&&o.parent(o.context).emit(s,e)},t),this.emitting--,this};var emitterOptions={qualifierCompare:function t(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function t(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&element(n.target)&&a.matches(n.target):!0},addEventFields:function t(e,r){r.cy=e.cy(),r.target=e},callbackContext:function t(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function t(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function t(){return!0},parent:function t(e){return e.isChild()?e.parent():e.cy()}},argSelector=function t(e){return string(e)?new Selector(e):e},elesfn$m={createEmitter:function t(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new Emitter(emitterOptions,r))}return this},emitter:function t(){return this._private.emitter},on:function t(e,r,n){for(var a=argSelector(r),o=0;o<this.length;o++){var s=this[o];s.emitter().on(e,a,n)}return this},removeListener:function t(e,r,n){for(var a=argSelector(r),o=0;o<this.length;o++){var s=this[o];s.emitter().removeListener(e,a,n)}return this},removeAllListeners:function t(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function t(e,r,n){for(var a=argSelector(r),o=0;o<this.length;o++){var s=this[o];s.emitter().one(e,a,n)}return this},once:function t(e,r,n){for(var a=argSelector(r),o=0;o<this.length;o++){var s=this[o];s.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function t(e,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,r)}return this},emitAndNotify:function t(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};define$3.eventAliasesOn(elesfn$m);var elesfn$n={nodes:function t(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function t(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function t(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):r.push(a)}return{nodes:e,edges:r}},filter:function t(e,r){if(e===void 0)return this;if(string(e)||elementOrCollection(e))return new Selector(e).filter(this);if(fn(e)){for(var n=this.spawn(),a=this,o=0;o<a.length;o++){var s=a[o],l=r?e.apply(r,[s,o,a]):e(s,o,a);l&&n.push(s)}return n}return this.spawn()},not:function t(e){if(e){string(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],o=e.has(a);o||r.push(a)}return r}else return this},absoluteComplement:function t(){var e=this.cy();return e.mutableElements().not(this)},intersect:function t(e){if(string(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),a=this,o=e,s=this.length<e.length,l=s?a:o,u=s?o:a,c=0;c<l.length;c++){var f=l[c];u.has(f)&&n.push(f)}return n},xor:function t(e){var r=this._private.cy;string(e)&&(e=r.$(e));var n=this.spawn(),a=this,o=e,s=function(u,c){for(var f=0;f<u.length;f++){var d=u[f],g=d._private.data.id,v=c.hasElementWithId(g);v||n.push(d)}};return s(a,o),s(o,a),n},diff:function t(e){var r=this._private.cy;string(e)&&(e=r.$(e));var n=this.spawn(),a=this.spawn(),o=this.spawn(),s=this,l=e,u=function(f,d,g){for(var v=0;v<f.length;v++){var m=f[v],y=m._private.data.id,b=d.hasElementWithId(y);b?o.merge(m):g.push(m)}};return u(s,l,n),u(l,s,a),{left:n,right:a,both:o}},add:function t(e){var r=this._private.cy;if(!e)return this;if(string(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),o=0;o<e.length;o++){var s=e[o],l=!this.has(s);l&&a.push(s)}return a},merge:function t(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&string(e)){var a=e;e=n.mutableElements().filter(a)}for(var o=r.map,s=0;s<e.length;s++){var l=e[s],u=l._private.data.id,c=!o.has(u);if(c){var f=this.length++;this[f]=l,o.set(u,{ele:l,index:f})}}return this},unmergeAt:function t(e){var r=this[e],n=r.id(),a=this._private,o=a.map;this[e]=void 0,o.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var l=this.length-1,u=this[l],c=u._private.data.id;this[l]=void 0,this[e]=u,o.set(c,{ele:u,index:e})}return this.length--,this},unmergeOne:function t(e){e=e[0];var r=this._private,n=e._private.data.id,a=r.map,o=a.get(n);if(!o)return this;var s=o.index;return this.unmergeAt(s),this},unmerge:function t(e){var r=this._private.cy;if(!e)return this;if(e&&string(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function t(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function t(e,r){for(var n=[],a=this,o=0;o<a.length;o++){var s=a[o],l=r?e.apply(r,[s,o,a]):e(s,o,a);n.push(l)}return n},reduce:function t(e,r){for(var n=r,a=this,o=0;o<a.length;o++)n=e(n,a[o],o,a);return n},max:function t(e,r){for(var n=-1/0,a,o=this,s=0;s<o.length;s++){var l=o[s],u=r?e.apply(r,[l,s,o]):e(l,s,o);u>n&&(n=u,a=l)}return{value:n,ele:a}},min:function t(e,r){for(var n=1/0,a,o=this,s=0;s<o.length;s++){var l=o[s],u=r?e.apply(r,[l,s,o]):e(l,s,o);u<n&&(n=u,a=l)}return{value:n,ele:a}}},fn$5=elesfn$n;fn$5.u=fn$5["|"]=fn$5["+"]=fn$5.union=fn$5.or=fn$5.add;fn$5["\\"]=fn$5["!"]=fn$5["-"]=fn$5.difference=fn$5.relativeComplement=fn$5.subtract=fn$5.not;fn$5.n=fn$5["&"]=fn$5["."]=fn$5.and=fn$5.intersection=fn$5.intersect;fn$5["^"]=fn$5["(+)"]=fn$5["(-)"]=fn$5.symmetricDifference=fn$5.symdiff=fn$5.xor;fn$5.fnFilter=fn$5.filterFn=fn$5.stdFilter=fn$5.filter;fn$5.complement=fn$5.abscomp=fn$5.absoluteComplement;var elesfn$o={isNode:function t(){return this.group()==="nodes"},isEdge:function t(){return this.group()==="edges"},isLoop:function t(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function t(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function t(){var e=this[0];if(e)return e._private.group}},zIndexSort=function t(e,r){var n=e.cy(),a=n.hasCompoundNodes();function o(f){var d=f.pstyle("z-compound-depth");return d.value==="auto"?a?f.zDepth():0:d.value==="bottom"?-1:d.value==="top"?MAX_INT:0}var s=o(e)-o(r);if(s!==0)return s;function l(f){var d=f.pstyle("z-index-compare");return d.value==="auto"&&f.isNode()?1:0}var u=l(e)-l(r);if(u!==0)return u;var c=e.pstyle("z-index").value-r.pstyle("z-index").value;return c!==0?c:e.poolIndex()-r.poolIndex()},elesfn$p={forEach:function t(e,r){if(fn(e))for(var n=this.length,a=0;a<n;a++){var o=this[a],s=r?e.apply(r,[o,a,this]):e(o,a,this);if(s===!1)break}return this},toArray:function t(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function t(e,r){var n=[],a=this.length;r==null&&(r=a),e==null&&(e=0),e<0&&(e=a+e),r<0&&(r=a+r);for(var o=e;o>=0&&o<r&&o<a;o++)n.push(this[o]);return this.spawn(n)},size:function t(){return this.length},eq:function t(e){return this[e]||this.spawn()},first:function t(){return this[0]||this.spawn()},last:function t(){return this[this.length-1]||this.spawn()},empty:function t(){return this.length===0},nonempty:function t(){return!this.empty()},sort:function t(e){if(!fn(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function t(){return this.sort(zIndexSort)},zDepth:function t(){var e=this[0];if(!!e){var r=e._private,n=r.group;if(n==="nodes"){var a=r.data.parent?e.parents().size():0;return e.isParent()?a:MAX_INT-1}else{var o=r.source,s=r.target,l=o.zDepth(),u=s.zDepth();return Math.max(l,u,0)}}}};elesfn$p.each=elesfn$p.forEach;var defineSymbolIterator=function t(){var e="undefined",r=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))!=e&&_typeof(Symbol.iterator)!=e;r&&(elesfn$p[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},o=0,s=this.length;return _defineProperty({next:function(){return o<s?a.value=n[o++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};defineSymbolIterator();var getLayoutDimensionOptions=defaults({nodeDimensionsIncludeLabels:!1}),elesfn$q={layoutDimensions:function t(e){e=getLayoutDimensionOptions(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function t(e,r,n){var a=this.nodes().filter(function(O){return!O.isParent()}),o=this.cy(),s=r.eles,l=function(D){return D.id()},u=memoize(n,l);e.emit({type:"layoutstart",layout:e}),e.animations=[];var c=function(D,x,L){var R={x:x.x1+x.w/2,y:x.y1+x.h/2},C={x:(L.x-R.x)*D,y:(L.y-R.y)*D};return{x:R.x+C.x,y:R.y+C.y}},f=r.spacingFactor&&r.spacingFactor!==1,d=function(){if(!f)return null;for(var D=makeBoundingBox(),x=0;x<a.length;x++){var L=a[x],R=u(L,x);expandBoundingBoxByPoint(D,R.x,R.y)}return D},g=d(),v=memoize(function(O,D){var x=u(O,D);if(f){var L=Math.abs(r.spacingFactor);x=c(L,g,x)}return r.transform!=null&&(x=r.transform(O,x)),x},l);if(r.animate){for(var m=0;m<a.length;m++){var y=a[m],b=v(y,m),E=r.animateFilter==null||r.animateFilter(y,m);if(E){var w=y.animation({position:b,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(w)}else y.position(b)}if(r.fit){var _=o.animation({fit:{boundingBox:s.boundingBoxAt(v),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(_)}else if(r.zoom!==void 0&&r.pan!==void 0){var T=o.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(T)}e.animations.forEach(function(O){return O.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Promise$1.all(e.animations.map(function(O){return O.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(v),r.fit&&o.fit(r.eles,r.padding),r.zoom!=null&&o.zoom(r.zoom),r.pan&&o.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function t(e){var r=this.cy();return r.makeLayout(extend({},e,{eles:this}))}};elesfn$q.createLayout=elesfn$q.makeLayout=elesfn$q.layout;function styleCache(t,e,r){var n=r._private,a=n.styleCache=n.styleCache||[],o;return(o=a[t])!=null||(o=a[t]=e(r)),o}function cacheStyleFunction(t,e){return t=hashString(t),function(n){return styleCache(t,e,n)}}function cachePrototypeStyleFunction(t,e){t=hashString(t);var r=function(a){return e.call(a)};return function(){var a=this[0];if(a)return styleCache(t,r,a)}}var elesfn$r={recalculateRenderedStyle:function t(e){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function t(){var e=this.cy(),r=function(o){return o._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function t(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),o=this;e=!!(e||e===void 0),a&&(o=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=o;return e?s.emitAndNotify("style"):s.emit("style"),o.forEach(function(l){return l._private.styleDirty=!0}),this},cleanStyle:function t(){var e=this.cy();if(!!e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(!!a.styleEnabled()&&n){this.cleanStyle();var o=n._private.style[e];return o!=null?o:r?a.style().getDefaultProperty(e):null}},numericStyle:function t(e){var r=this[0];if(!!r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function t(e){var r=this[0];if(!!r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function t(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function t(e,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,o=n.style();if(plainObject(e)){var s=e;o.applyBypass(this,s,a),this.emitAndNotify("style")}else if(string(e))if(r===void 0){var l=this[0];return l?o.getStylePropertyValue(l,e):void 0}else o.applyBypass(this,e,r,a),this.emitAndNotify("style");else if(e===void 0){var u=this[0];return u?o.getRawStyle(u):void 0}return this},removeStyle:function t(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),o=this;if(e===void 0)for(var s=0;s<o.length;s++){var l=o[s];a.removeAllBypasses(l,n)}else{e=e.split(/\s+/);for(var u=0;u<o.length;u++){var c=o[u];a.removeBypasses(c,e,n)}}return this.emitAndNotify("style"),this},show:function t(){return this.css("display","element"),this},hide:function t(){return this.css("display","none"),this},effectiveOpacity:function t(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,o=n.pstyle("opacity").value;if(!r)return o;var s=a.data.parent?n.parents():null;if(s)for(var l=0;l<s.length;l++){var u=s[l],c=u.pstyle("opacity").value;o=c*o}return o}},transparent:function t(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function t(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function checkCompound(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var a=0;a<n.length;a++){var o=n[a];if(!e(o))return!1}return!0}function defineDerivedStateFunction(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var o=this[0],s=a.hasCompoundNodes();if(o){var l=o._private;if(!e(o))return!1;if(o.isNode())return!s||checkCompound(o,n);var u=l.source,c=l.target;return r(u)&&(!s||checkCompound(u,r))&&(u===c||r(c)&&(!s||checkCompound(c,r)))}}}var eleTakesUpSpace=cacheStyleFunction("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});elesfn$r.takesUpSpace=cachePrototypeStyleFunction("takesUpSpace",defineDerivedStateFunction({ok:eleTakesUpSpace}));var eleInteractive=cacheStyleFunction("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&eleTakesUpSpace(t)}),parentInteractive=cacheStyleFunction("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&eleTakesUpSpace(t)});elesfn$r.interactive=cachePrototypeStyleFunction("interactive",defineDerivedStateFunction({ok:eleInteractive,parentOk:parentInteractive,edgeOkViaNode:eleTakesUpSpace}));elesfn$r.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var eleVisible=cacheStyleFunction("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&eleTakesUpSpace(t)}),edgeVisibleViaNode=eleTakesUpSpace;elesfn$r.visible=cachePrototypeStyleFunction("visible",defineDerivedStateFunction({ok:eleVisible,edgeOkViaNode:edgeVisibleViaNode}));elesfn$r.hidden=function(){var t=this[0];if(t)return!t.visible()};elesfn$r.isBundledBezier=cachePrototypeStyleFunction("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});elesfn$r.bypass=elesfn$r.css=elesfn$r.style;elesfn$r.renderedCss=elesfn$r.renderedStyle;elesfn$r.removeBypass=elesfn$r.removeCss=elesfn$r.removeStyle;elesfn$r.pstyle=elesfn$r.parsedStyle;var elesfn$s={};function defineSwitchFunction(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],a=e[1];this.on(t.event,n,a)}else if(e.length===1&&fn(e[0])){var o=e[0];this.on(t.event,o)}else if(e.length===0||e.length===1&&array(e[0])){for(var s=e.length===1?e[0]:null,l=0;l<this.length;l++){var u=this[l],c=!t.ableField||u._private[t.ableField],f=u._private[t.field]!=t.value;if(t.overrideAble){var d=t.overrideAble(u);if(d!==void 0&&(c=d,!d))return this}c&&(u._private[t.field]=t.value,f&&r.push(u))}var g=this.spawn(r);g.updateStyle(),g.emit(t.event),s&&g.emit(s)}return this}}function defineSwitchSet(t){elesfn$s[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},elesfn$s[t.on]=defineSwitchFunction({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),elesfn$s[t.off]=defineSwitchFunction({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}defineSwitchSet({field:"locked",overrideField:function t(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});defineSwitchSet({field:"grabbable",overrideField:function t(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});defineSwitchSet({field:"selected",ableField:"selectable",overrideAble:function t(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});defineSwitchSet({field:"selectable",overrideField:function t(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});elesfn$s.deselect=elesfn$s.unselect;elesfn$s.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};defineSwitchSet({field:"active",on:"activate",off:"unactivate"});defineSwitchSet({field:"pannable",on:"panify",off:"unpanify"});elesfn$s.inactive=function(){var t=this[0];if(t)return!t._private.active};var elesfn$t={},defineDagExtremity=function t(e){return function(n){for(var a=this,o=[],s=0;s<a.length;s++){var l=a[s];if(!!l.isNode()){for(var u=!1,c=l.connectedEdges(),f=0;f<c.length;f++){var d=c[f],g=d.source(),v=d.target();if(e.noIncomingEdges&&v===l&&g!==l||e.noOutgoingEdges&&g===l&&v!==l){u=!0;break}}u||o.push(l)}}return this.spawn(o,!0).filter(n)}},defineDagOneHop=function t(e){return function(r){for(var n=this,a=[],o=0;o<n.length;o++){var s=n[o];if(!!s.isNode())for(var l=s.connectedEdges(),u=0;u<l.length;u++){var c=l[u],f=c.source(),d=c.target();e.outgoing&&f===s?(a.push(c),a.push(d)):e.incoming&&d===s&&(a.push(c),a.push(f))}}return this.spawn(a,!0).filter(r)}},defineDagAllHops=function t(e){return function(r){for(var n=this,a=[],o={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var l=!1,u=0;u<s.length;u++){var c=s[u],f=c.id();o[f]||(o[f]=!0,a.push(c),l=!0)}if(!l)break;n=s}return this.spawn(a,!0).filter(r)}};elesfn$t.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};extend(elesfn$t,{roots:defineDagExtremity({noIncomingEdges:!0}),leaves:defineDagExtremity({noOutgoingEdges:!0}),outgoers:cache(defineDagOneHop({outgoing:!0}),"outgoers"),successors:defineDagAllHops({outgoing:!0}),incomers:cache(defineDagOneHop({incoming:!0}),"incomers"),predecessors:defineDagAllHops({incoming:!0})});extend(elesfn$t,{neighborhood:cache(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],o=a.connectedEdges(),s=0;s<o.length;s++){var l=o[s],u=l.source(),c=l.target(),f=a===u?c:u;f.length>0&&e.push(f[0]),e.push(l[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function t(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function t(e){return this.neighborhood(e)}});elesfn$t.neighbourhood=elesfn$t.neighborhood;elesfn$t.closedNeighbourhood=elesfn$t.closedNeighborhood;elesfn$t.openNeighbourhood=elesfn$t.openNeighborhood;extend(elesfn$t,{source:cache(function t(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:cache(function t(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:defineSourceFunction({attr:"source"}),targets:defineSourceFunction({attr:"target"})});function defineSourceFunction(t){return function(r){for(var n=[],a=0;a<this.length;a++){var o=this[a],s=o._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}extend(elesfn$t,{edgesWith:cache(defineEdgesWithFunction(),"edgesWith"),edgesTo:cache(defineEdgesWithFunction({thisIsSrc:!0}),"edgesTo")});function defineEdgesWithFunction(t){return function(r){var n=[],a=this._private.cy,o=t||{};string(r)&&(r=a.$(r));for(var s=0;s<r.length;s++)for(var l=r[s]._private.edges,u=0;u<l.length;u++){var c=l[u],f=c._private.data,d=this.hasElementWithId(f.source)&&r.hasElementWithId(f.target),g=r.hasElementWithId(f.source)&&this.hasElementWithId(f.target),v=d||g;!v||(o.thisIsSrc||o.thisIsTgt)&&(o.thisIsSrc&&!d||o.thisIsTgt&&!g)||n.push(c)}return this.spawn(n,!0)}}extend(elesfn$t,{connectedEdges:cache(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];if(!!a.isNode())for(var o=a._private.edges,s=0;s<o.length;s++){var l=o[s];e.push(l)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:cache(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];!a.isEdge()||(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:cache(defineParallelEdgesFunction(),"parallelEdges"),codirectedEdges:cache(defineParallelEdgesFunction({codirected:!0}),"codirectedEdges")});function defineParallelEdgesFunction(t){var e={codirected:!1};return t=extend({},e,t),function(n){for(var a=[],o=this.edges(),s=t,l=0;l<o.length;l++)for(var u=o[l],c=u._private,f=c.source,d=f._private.data.id,g=c.data.target,v=f._private.edges,m=0;m<v.length;m++){var y=v[m],b=y._private.data,E=b.target,w=b.source,_=E===g&&w===d,T=d===E&&g===w;(s.codirected&&_||!s.codirected&&(_||T))&&a.push(y)}return this.spawn(a,!0).filter(n)}}extend(elesfn$t,{components:function t(e){var r=this,n=r.cy(),a=n.collection(),o=e==null?r.nodes():e.nodes(),s=[];e!=null&&o.empty()&&(o=e.sources());var l=function(f,d){a.merge(f),o.unmerge(f),d.merge(f)};if(o.empty())return r.spawn();var u=function(){var f=n.collection();s.push(f);var d=o[0];l(d,f),r.bfs({directed:!1,roots:d,visit:function(v){return l(v,f)}}),f.forEach(function(g){g.connectedEdges().forEach(function(v){r.has(v)&&f.has(v.source())&&f.has(v.target())&&f.merge(v)})})};do u();while(o.length>0);return s},component:function t(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});elesfn$t.componentsOf=elesfn$t.components;var Collection=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e===void 0){error("A collection must have a reference to the core");return}var a=new Map$1,o=!1;if(!r)r=[];else if(r.length>0&&plainObject(r[0])&&!element(r[0])){o=!0;for(var s=[],l=new Set$1,u=0,c=r.length;u<c;u++){var f=r[u];f.data==null&&(f.data={});var d=f.data;if(d.id==null)d.id=uuid();else if(e.hasElementWithId(d.id)||l.has(d.id))continue;var g=new Element$1(e,f,!1);s.push(g),l.add(d.id)}r=s}this.length=0;for(var v=0,m=r.length;v<m;v++){var y=r[v][0];if(y!=null){var b=y._private.data.id;(!n||!a.has(b))&&(n&&a.set(b,{index:this.length,ele:y}),this[this.length]=y,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(E){this.lazyMap=E},rebuildMap:function(){for(var w=this.lazyMap=new Map$1,_=this.eles,T=0;T<_.length;T++){var O=_[T];w.set(O.id(),{index:T,ele:O})}}},n&&(this._private.map=a),o&&this.restore()},elesfn$u=Element$1.prototype=Collection.prototype=Object.create(Array.prototype);elesfn$u.instanceString=function(){return"collection"};elesfn$u.spawn=function(t,e){return new Collection(this.cy(),t,e)};elesfn$u.spawnSelf=function(){return this.spawn(this)};elesfn$u.cy=function(){return this._private.cy};elesfn$u.renderer=function(){return this._private.cy.renderer()};elesfn$u.element=function(){return this[0]};elesfn$u.collection=function(){return collection(this)?this:new Collection(this._private.cy,[this])};elesfn$u.unique=function(){return new Collection(this._private.cy,this,!0)};elesfn$u.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};elesfn$u.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Collection(e)};elesfn$u.$id=elesfn$u.getElementById;elesfn$u.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};elesfn$u.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};elesfn$u.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};elesfn$u.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(plainObject(t)){if(r.startBatch(),t.data){e.data(t.data);var a=n.data;if(e.isEdge()){var o=!1,s={},l=t.data.source,u=t.data.target;l!=null&&l!=a.source&&(s.source=""+l,o=!0),u!=null&&u!=a.target&&(s.target=""+u,o=!0),o&&(e=e.move(s))}else{var c="parent"in t.data,f=t.data.parent;c&&(f!=null||a.parent!=null)&&f!=a.parent&&(f===void 0&&(f=null),f!=null&&(f=""+f),e=e.move({parent:f}))}}t.position&&e.position(t.position);var d=function(y,b,E){var w=t[y];w!=null&&w!==n[y]&&(w?e[b]():e[E]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var g={data:copy(n.data),position:copy(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};g.classes="";var v=0;return n.classes.forEach(function(m){return g.classes+=v++===0?m:" "+m}),g}}};elesfn$u.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};elesfn$u.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),o=new Element$1(t,a,!1);e.push(o)}return new Collection(t,e)};elesfn$u.copy=elesfn$u.clone;elesfn$u.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,o=[],s=[],l,u=0,c=r.length;u<c;u++){var f=r[u];e&&!f.removed()||(f.isNode()?o.push(f):s.push(f))}l=o.concat(s);var d,g=function(){l.splice(d,1),d--};for(d=0;d<l.length;d++){var v=l[d],m=v._private,y=m.data;if(v.clearTraversalCache(),!(!e&&!m.removed)){if(y.id===void 0)y.id=uuid();else if(number(y.id))y.id=""+y.id;else if(emptyString(y.id)||!string(y.id)){error("Can not create element with invalid string ID `"+y.id+"`"),g();continue}else if(n.hasElementWithId(y.id)){error("Can not create second element with ID `"+y.id+"`"),g();continue}}var b=y.id;if(v.isNode()){var E=m.position;E.x==null&&(E.x=0),E.y==null&&(E.y=0)}if(v.isEdge()){for(var w=v,_=["source","target"],T=_.length,O=!1,D=0;D<T;D++){var x=_[D],L=y[x];number(L)&&(L=y[x]=""+y[x]),L==null||L===""?(error("Can not create edge `"+b+"` with unspecified "+x),O=!0):n.hasElementWithId(L)||(error("Can not create edge `"+b+"` with nonexistant "+x+" `"+L+"`"),O=!0)}if(O){g();continue}var R=n.getElementById(y.source),C=n.getElementById(y.target);R.same(C)?R._private.edges.push(w):(R._private.edges.push(w),C._private.edges.push(w)),w._private.source=R,w._private.target=C}m.map=new Map$1,m.map.set(b,{ele:v,index:0}),m.removed=!1,e&&n.addToPool(v)}for(var A=0;A<o.length;A++){var S=o[A],N=S._private.data;number(N.parent)&&(N.parent=""+N.parent);var $=N.parent,B=$!=null;if(B){var P=n.getElementById($);if(P.empty())N.parent=void 0;else{for(var k=!1,H=P;!H.empty();){if(S.same(H)){k=!0,N.parent=void 0;break}H=H.parent()}k||(P[0]._private.children.push(S),S._private.parent=P[0],a.hasCompoundNodes=!0)}}}if(l.length>0){for(var G=l.length===r.length?r:new Collection(n,l),W=0;W<G.length;W++){var U=G[W];U.isNode()||(U.parallelEdges().clearTraversalCache(),U.source().clearTraversalCache(),U.target().clearTraversalCache())}var X;a.hasCompoundNodes?X=n.collection().merge(G).merge(G.connectedNodes()).merge(G.parent()):X=G,X.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?G.emitAndNotify("add"):e&&G.emit("add")}return r};elesfn$u.removed=function(){var t=this[0];return t&&t._private.removed};elesfn$u.inside=function(){var t=this[0];return t&&!t._private.removed};elesfn$u.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},o=r._private.cy;function s($){for(var B=$._private.edges,P=0;P<B.length;P++)u(B[P])}function l($){for(var B=$._private.children,P=0;P<B.length;P++)u(B[P])}function u($){var B=a[$.id()];e&&$.removed()||B||(a[$.id()]=!0,$.isNode()?(n.push($),s($),l($)):n.unshift($))}for(var c=0,f=r.length;c<f;c++){var d=r[c];u(d)}function g($,B){var P=$._private.edges;removeFromArray(P,B),$.clearTraversalCache()}function v($){$.clearTraversalCache()}var m=[];m.ids={};function y($,B){B=B[0],$=$[0];var P=$._private.children,k=$.id();removeFromArray(P,B),B._private.parent=null,m.ids[k]||(m.ids[k]=!0,m.push($))}r.dirtyCompoundBoundsCache(),e&&o.removeFromPool(n);for(var b=0;b<n.length;b++){var E=n[b];if(E.isEdge()){var w=E.source()[0],_=E.target()[0];g(w,E),g(_,E);for(var T=E.parallelEdges(),O=0;O<T.length;O++){var D=T[O];v(D),D.isBundledBezier()&&D.dirtyBoundingBoxCache()}}else{var x=E.parent();x.length!==0&&y(x,E)}e&&(E._private.removed=!0)}var L=o._private.elements;o._private.hasCompoundNodes=!1;for(var R=0;R<L.length;R++){var C=L[R];if(C.isParent()){o._private.hasCompoundNodes=!0;break}}var A=new Collection(this.cy(),n);A.size()>0&&(t?A.emitAndNotify("remove"):e&&A.emit("remove"));for(var S=0;S<m.length;S++){var N=m[S];(!e||!N.removed())&&N.updateStyle()}return A};elesfn$u.move=function(t){var e=this._private.cy,r=this,n=!1,a=!1,o=function(m){return m==null?m:""+m};if(t.source!==void 0||t.target!==void 0){var s=o(t.source),l=o(t.target),u=s!=null&&e.hasElementWithId(s),c=l!=null&&e.hasElementWithId(l);(u||c)&&(e.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var m=r[v],y=m._private.data;m.isEdge()&&(u&&(y.source=s),c&&(y.target=l))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var f=o(t.parent),d=f===null||e.hasElementWithId(f);if(d){var g=f===null?void 0:f;e.batch(function(){var v=r.remove(n,a);v.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var y=r[m],b=y._private.data;y.isNode()&&(b.parent=g)}v.restore(n,a)}),r.emitAndNotify("move")}}return this};[elesfn$c,elesfn$d,elesfn$e,elesfn$f,elesfn$g,data$1,elesfn$i,dimensions,elesfn$m,elesfn$n,elesfn$o,elesfn$p,elesfn$q,elesfn$r,elesfn$s,elesfn$t].forEach(function(t){extend(elesfn$u,t)});var corefn={add:function t(e){var r,n=this;if(elementOrCollection(e)){var a=e;if(a._private.cy===n)r=a.restore();else{for(var o=[],s=0;s<a.length;s++){var l=a[s];o.push(l.json())}r=new Collection(n,o)}}else if(array(e)){var u=e;r=new Collection(n,u)}else if(plainObject(e)&&(array(e.nodes)||array(e.edges))){for(var c=e,f=[],d=["nodes","edges"],g=0,v=d.length;g<v;g++){var m=d[g],y=c[m];if(array(y))for(var b=0,E=y.length;b<E;b++){var w=extend({group:m},y[b]);f.push(w)}}r=new Collection(n,f)}else{var _=e;r=new Element$1(n,_).collection()}return r},remove:function t(e){if(!elementOrCollection(e)){if(string(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function generateCubicBezier(t,e,r,n){var a=4,o=.001,s=1e-7,l=10,u=11,c=1/(u-1),f=typeof Float32Array!="undefined";if(arguments.length!==4)return!1;for(var d=0;d<4;++d)if(typeof arguments[d]!="number"||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var g=f?new Float32Array(u):new Array(u);function v(C,A){return 1-3*A+3*C}function m(C,A){return 3*A-6*C}function y(C){return 3*C}function b(C,A,S){return((v(A,S)*C+m(A,S))*C+y(A))*C}function E(C,A,S){return 3*v(A,S)*C*C+2*m(A,S)*C+y(A)}function w(C,A){for(var S=0;S<a;++S){var N=E(A,t,r);if(N===0)return A;var $=b(A,t,r)-C;A-=$/N}return A}function _(){for(var C=0;C<u;++C)g[C]=b(C*c,t,r)}function T(C,A,S){var N,$,B=0;do $=A+(S-A)/2,N=b($,t,r)-C,N>0?S=$:A=$;while(Math.abs(N)>s&&++B<l);return $}function O(C){for(var A=0,S=1,N=u-1;S!==N&&g[S]<=C;++S)A+=c;--S;var $=(C-g[S])/(g[S+1]-g[S]),B=A+$*c,P=E(B,t,r);return P>=o?w(C,B):P===0?B:T(C,A,A+c)}var D=!1;function x(){D=!0,(t!==e||r!==n)&&_()}var L=function(A){return D||x(),t===e&&r===n?A:A===0?0:A===1?1:b(O(A),e,n)};L.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var R="generateBezier("+[t,e,r,n]+")";return L.toString=function(){return R},L}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var generateSpringRK4=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,o){var s={x:n.x+o.dx*a,v:n.v+o.dv*a,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,a){var o={dx:n.v,dv:t(n)},s=e(n,a*.5,o),l=e(n,a*.5,s),u=e(n,a,l),c=1/6*(o.dx+2*(s.dx+l.dx)+u.dx),f=1/6*(o.dv+2*(s.dv+l.dv)+u.dv);return n.x=n.x+c*a,n.v=n.v+f*a,n}return function n(a,o,s){var l={x:-1,v:0,tension:null,friction:null},u=[0],c=0,f=1/1e4,d=16/1e3,g,v,m;for(a=parseFloat(a)||500,o=parseFloat(o)||20,s=s||null,l.tension=a,l.friction=o,g=s!==null,g?(c=n(a,o),v=c/s*d):v=d;m=r(m||l,v),u.push(1+m.x),c+=16,Math.abs(m.x)>f&&Math.abs(m.v)>f;);return g?function(y){return u[y*(u.length-1)|0]}:c}}(),cubicBezier=function t(e,r,n,a){var o=generateCubicBezier(e,r,n,a);return function(s,l,u){return s+(l-s)*o(u)}},easings={linear:function t(e,r,n){return e+(r-e)*n},ease:cubicBezier(.25,.1,.25,1),"ease-in":cubicBezier(.42,0,1,1),"ease-out":cubicBezier(0,0,.58,1),"ease-in-out":cubicBezier(.42,0,.58,1),"ease-in-sine":cubicBezier(.47,0,.745,.715),"ease-out-sine":cubicBezier(.39,.575,.565,1),"ease-in-out-sine":cubicBezier(.445,.05,.55,.95),"ease-in-quad":cubicBezier(.55,.085,.68,.53),"ease-out-quad":cubicBezier(.25,.46,.45,.94),"ease-in-out-quad":cubicBezier(.455,.03,.515,.955),"ease-in-cubic":cubicBezier(.55,.055,.675,.19),"ease-out-cubic":cubicBezier(.215,.61,.355,1),"ease-in-out-cubic":cubicBezier(.645,.045,.355,1),"ease-in-quart":cubicBezier(.895,.03,.685,.22),"ease-out-quart":cubicBezier(.165,.84,.44,1),"ease-in-out-quart":cubicBezier(.77,0,.175,1),"ease-in-quint":cubicBezier(.755,.05,.855,.06),"ease-out-quint":cubicBezier(.23,1,.32,1),"ease-in-out-quint":cubicBezier(.86,0,.07,1),"ease-in-expo":cubicBezier(.95,.05,.795,.035),"ease-out-expo":cubicBezier(.19,1,.22,1),"ease-in-out-expo":cubicBezier(1,0,0,1),"ease-in-circ":cubicBezier(.6,.04,.98,.335),"ease-out-circ":cubicBezier(.075,.82,.165,1),"ease-in-out-circ":cubicBezier(.785,.135,.15,.86),spring:function t(e,r,n){if(n===0)return easings.linear;var a=generateSpringRK4(e,r,n);return function(o,s,l){return o+(s-o)*a(l)}},"cubic-bezier":cubicBezier};function getEasedValue(t,e,r,n,a){if(n===1||e===r)return r;var o=a(e,r,n);return t==null||((t.roundValue||t.color)&&(o=Math.round(o)),t.min!==void 0&&(o=Math.max(o,t.min)),t.max!==void 0&&(o=Math.min(o,t.max))),o}function getValue(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function ease(t,e,r,n,a){var o=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var s=getValue(t,a),l=getValue(e,a);if(number(s)&&number(l))return getEasedValue(o,s,l,r,n);if(array(s)&&array(l)){for(var u=[],c=0;c<l.length;c++){var f=s[c],d=l[c];if(f!=null&&d!=null){var g=getEasedValue(o,f,d,r,n);u.push(g)}else u.push(d)}return u}}function step(t,e,r,n){var a=!n,o=t._private,s=e._private,l=s.easing,u=s.startTime,c=n?t:t.cy(),f=c.style();if(!s.easingImpl)if(l==null)s.easingImpl=easings.linear;else{var d;if(string(l)){var g=f.parse("transition-timing-function",l);d=g.value}else d=l;var v,m;string(d)?(v=d,m=[]):(v=d[1],m=d.slice(2).map(function(G){return+G})),m.length>0?(v==="spring"&&m.push(s.duration),s.easingImpl=easings[v].apply(null,m)):s.easingImpl=easings[v]}var y=s.easingImpl,b;if(s.duration===0?b=1:b=(r-u)/s.duration,s.applying&&(b=s.progress),b<0?b=0:b>1&&(b=1),s.delay==null){var E=s.startPosition,w=s.position;if(w&&a&&!t.locked()){var _={};valid(E.x,w.x)&&(_.x=ease(E.x,w.x,b,y)),valid(E.y,w.y)&&(_.y=ease(E.y,w.y,b,y)),t.position(_)}var T=s.startPan,O=s.pan,D=o.pan,x=O!=null&&n;x&&(valid(T.x,O.x)&&(D.x=ease(T.x,O.x,b,y)),valid(T.y,O.y)&&(D.y=ease(T.y,O.y,b,y)),t.emit("pan"));var L=s.startZoom,R=s.zoom,C=R!=null&&n;C&&(valid(L,R)&&(o.zoom=bound(o.minZoom,ease(L,R,b,y),o.maxZoom)),t.emit("zoom")),(x||C)&&t.emit("viewport");var A=s.style;if(A&&A.length>0&&a){for(var S=0;S<A.length;S++){var N=A[S],$=N.name,B=N,P=s.startStyle[$],k=f.properties[P.name],H=ease(P,B,b,y,k);f.overrideBypass(t,$,H)}t.emit("style")}}return s.progress=b,b}function valid(t,e){return t==null||e==null?!1:number(t)&&number(e)?!0:!!(t&&e)}function startAnimation(t,e,r,n){var a=e._private;a.started=!0,a.startTime=r-a.progress*a.duration}function stepAll(t,e){var r=e._private.aniEles,n=[];function a(f,d){var g=f._private,v=g.animation.current,m=g.animation.queue,y=!1;if(v.length===0){var b=m.shift();b&&v.push(b)}for(var E=function(D){for(var x=D.length-1;x>=0;x--){var L=D[x];L()}D.splice(0,D.length)},w=v.length-1;w>=0;w--){var _=v[w],T=_._private;if(T.stopped){v.splice(w,1),T.hooked=!1,T.playing=!1,T.started=!1,E(T.frames);continue}!T.playing&&!T.applying||(T.playing&&T.applying&&(T.applying=!1),T.started||startAnimation(f,_,t),step(f,_,t,d),T.applying&&(T.applying=!1),E(T.frames),T.step!=null&&T.step(t),_.completed()&&(v.splice(w,1),T.hooked=!1,T.playing=!1,T.started=!1,E(T.completes)),y=!0)}return!d&&v.length===0&&m.length===0&&n.push(f),y}for(var o=!1,s=0;s<r.length;s++){var l=r[s],u=a(l);o=o||u}var c=a(e,!0);(o||c)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var corefn$1={animate:define$3.animate(),animation:define$3.animation(),animated:define$3.animated(),clearQueue:define$3.clearQueue(),delay:define$3.delay(),delayAnimation:define$3.delayAnimation(),stop:define$3.stop(),addToAnimationPool:function t(e){var r=this;!r.styleEnabled()||r._private.aniEles.merge(e)},stopAnimationLoop:function t(){this._private.animationsRunning=!1},startAnimationLoop:function t(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){!e._private.animationsRunning||requestAnimationFrame(function(o){stepAll(o,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(o,s){stepAll(s,e)},n.beforeRenderPriorities.animations):r()}},emitterOptions$1={qualifierCompare:function t(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function t(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&element(n.target)&&a.matches(n.target):!0},addEventFields:function t(e,r){r.cy=e,r.target=e},callbackContext:function t(e,r,n){return r.qualifier!=null?n.target:e}},argSelector$1=function t(e){return string(e)?new Selector(e):e},elesfn$v={createEmitter:function t(){var e=this._private;return e.emitter||(e.emitter=new Emitter(emitterOptions$1,this)),this},emitter:function t(){return this._private.emitter},on:function t(e,r,n){return this.emitter().on(e,argSelector$1(r),n),this},removeListener:function t(e,r,n){return this.emitter().removeListener(e,argSelector$1(r),n),this},removeAllListeners:function t(){return this.emitter().removeAllListeners(),this},one:function t(e,r,n){return this.emitter().one(e,argSelector$1(r),n),this},once:function t(e,r,n){return this.emitter().one(e,argSelector$1(r),n),this},emit:function t(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function t(e,r){return this.emit(e),this.notify(e,r),this}};define$3.eventAliasesOn(elesfn$v);var corefn$2={png:function t(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function t(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};corefn$2.jpeg=corefn$2.jpg;var corefn$3={layout:function t(e){var r=this;if(e==null){error("Layout options must be specified to make a layout");return}if(e.name==null){error("A `name` must be specified to make a layout");return}var n=e.name,a=r.extension("layout",n);if(a==null){error("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var o;string(e.eles)?o=r.$(e.eles):o=e.eles!=null?e.eles:r.$();var s=new a(extend({},e,{cy:r,eles:o}));return s}};corefn$3.createLayout=corefn$3.makeLayout=corefn$3.layout;var corefn$4={notify:function t(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&a.merge(r);return}if(!!n.notificationsEnabled){var o=this.renderer();this.destroyed()||!o||o.notify(e,r)}},notifications:function t(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function t(e){this.notifications(!1),e(),this.notifications(!0)},batching:function t(){return this._private.batchCount>0},startBatch:function t(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function t(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function t(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function t(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var o=n[a],s=e[o],l=r.getElementById(o);l.data(s)}})}},rendererDefaults=defaults({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),corefn$5={renderTo:function t(e,r,n,a){var o=this._private.renderer;return o.renderTo(e,r,n,a),this},renderer:function t(){return this._private.renderer},forceRender:function t(){return this.notify("draw"),this},resize:function t(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function t(e){var r=this,n=r.extension("renderer",e.name);if(n==null){error("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&warn("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=rendererDefaults(e);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function t(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function t(e){return this.on("render",e)},offRender:function t(e){return this.off("render",e)}};corefn$5.invalidateDimensions=corefn$5.resize;var corefn$6={collection:function t(e,r){return string(e)?this.$(e):elementOrCollection(e)?e.collection():array(e)?new Collection(this,e,r):new Collection(this)},nodes:function t(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function t(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function t(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function t(){return this._private.elements}};corefn$6.elements=corefn$6.filter=corefn$6.$;var styfn={},TRUE="t",FALSE="f";styfn.apply=function(t){for(var e=this,r=e._private,n=r.cy,a=n.collection(),o=0;o<t.length;o++){var s=t[o],l=e.getContextMeta(s);if(!l.empty){var u=e.getContextStyle(l),c=e.applyContextStyle(l,u,s);s._private.appliedInitStyle?e.updateTransitions(s,c.diffProps):s._private.appliedInitStyle=!0;var f=e.updateStyleHints(s);f&&a.push(s)}}return a};styfn.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=t+"-"+e,o=n[a];if(o)return o;for(var s=[],l={},u=0;u<r.length;u++){var c=r[u],f=t[u]===TRUE,d=e[u]===TRUE,g=f!==d,v=c.mappedProperties.length>0;if(g||d&&v){var m=void 0;g&&v||g?m=c.properties:v&&(m=c.mappedProperties);for(var y=0;y<m.length;y++){for(var b=m[y],E=b.name,w=!1,_=u+1;_<r.length;_++){var T=r[_],O=e[_]===TRUE;if(!!O&&(w=T.properties[b.name]!=null,w))break}!l[E]&&!w&&(l[E]=!0,s.push(E))}}}return n[a]=s,s};styfn.getContextMeta=function(t){for(var e=this,r="",n,a=t._private.styleCxtKey||"",o=0;o<e.length;o++){var s=e[o],l=s.selector&&s.selector.matches(t);l?r+=TRUE:r+=FALSE}return n=e.getPropertiesDiff(a,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};styfn.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},o=0;o<r.length;o++){var s=r[o],l=e[o]===TRUE;if(!!l)for(var u=0;u<s.properties.length;u++){var c=s.properties[u];a[c.name]=c}}return n[e]=a,a};styfn.applyContextStyle=function(t,e,r){for(var n=this,a=t.diffPropNames,o={},s=n.types,l=0;l<a.length;l++){var u=a[l],c=e[u],f=r.pstyle(u);if(!c)if(f)f.bypass?c={name:u,deleteBypassed:!0}:c={name:u,delete:!0};else continue;if(f!==c){if(c.mapped===s.fn&&f!=null&&f.mapping!=null&&f.mapping.value===c.value){var d=f.mapping,g=d.fnValue=c.value(r);if(g===d.prevFnValue)continue}var v=o[u]={prev:f};n.applyParsedProperty(r,c),v.next=r.pstyle(u),v.next&&v.next.bypass&&(v.next=v.next.bypassed)}}return{diffProps:o}};styfn.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,o=function(de,re,ve){return r.getPropertiesHash(de,re,ve)},s=e.styleKey;if(t.removed())return!1;var l=e.group==="nodes",u=t._private.style;n=Object.keys(u);for(var c=0;c<a.length;c++){var f=a[c];e.styleKeys[f]=[DEFAULT_HASH_SEED,DEFAULT_HASH_SEED_ALT]}for(var d=function(de,re){return e.styleKeys[re][0]=hashInt(de,e.styleKeys[re][0])},g=function(de,re){return e.styleKeys[re][1]=hashIntAlt(de,e.styleKeys[re][1])},v=function(de,re){d(de,re),g(de,re)},m=function(de,re){for(var ve=0;ve<de.length;ve++){var z=de.charCodeAt(ve);d(z,re),g(z,re)}},y=2e9,b=function(de){return-128<de&&de<128&&Math.floor(de)!==de?y-(de*1024|0):de},E=0;E<n.length;E++){var w=n[E],_=u[w];if(_!=null){var T=this.properties[w],O=T.type,D=T.groupKey,x=void 0;T.hashOverride!=null?x=T.hashOverride(t,_):_.pfValue!=null&&(x=_.pfValue);var L=T.enums==null?_.value:null,R=x!=null,C=L!=null,A=R||C,S=_.units;if(O.number&&A&&!O.multiple){var N=R?x:L;v(b(N),D),!R&&S!=null&&m(S,D)}else m(_.strValue,D)}}for(var $=[DEFAULT_HASH_SEED,DEFAULT_HASH_SEED_ALT],B=0;B<a.length;B++){var P=a[B],k=e.styleKeys[P];$[0]=hashInt(k[0],$[0]),$[1]=hashIntAlt(k[1],$[1])}e.styleKey=combineHashes($[0],$[1]);var H=e.styleKeys;e.labelDimsKey=combineHashesArray(H.labelDimensions);var G=o(t,["label"],H.labelDimensions);if(e.labelKey=combineHashesArray(G),e.labelStyleKey=combineHashesArray(hashArrays(H.commonLabel,G)),!l){var W=o(t,["source-label"],H.labelDimensions);e.sourceLabelKey=combineHashesArray(W),e.sourceLabelStyleKey=combineHashesArray(hashArrays(H.commonLabel,W));var U=o(t,["target-label"],H.labelDimensions);e.targetLabelKey=combineHashesArray(U),e.targetLabelStyleKey=combineHashesArray(hashArrays(H.commonLabel,U))}if(l){var X=e.styleKeys,ee=X.nodeBody,te=X.nodeBorder,V=X.backgroundImage,Y=X.compound,F=X.pie,j=[ee,te,V,Y,F].filter(function(J){return J!=null}).reduce(hashArrays,[DEFAULT_HASH_SEED,DEFAULT_HASH_SEED_ALT]);e.nodeKey=combineHashesArray(j),e.hasPie=F!=null&&F[0]!==DEFAULT_HASH_SEED&&F[1]!==DEFAULT_HASH_SEED_ALT}return s!==e.styleKey};styfn.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};styfn.applyParsedProperty=function(t,e){var r=this,n=e,a=t._private.style,o,s=r.types,l=r.properties[n.name].type,u=n.bypass,c=a[n.name],f=c&&c.bypass,d=t._private,g="mapping",v=function(ee){return ee==null?null:ee.pfValue!=null?ee.pfValue:ee.value},m=function(){var ee=v(c),te=v(n);r.checkTriggers(t,n.name,ee,te)};if(n&&n.name.substr(0,3)==="pie"&&warn("The pie style properties are deprecated.  Create charts using background images instead."),e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",u)),n.delete)return a[n.name]=void 0,m(),!0;if(n.deleteBypassed)return c?c.bypass?(c.bypassed=void 0,m(),!0):!1:(m(),!0);if(n.deleteBypass)return c?c.bypass?(a[n.name]=c.bypassed,m(),!0):!1:(m(),!0);var y=function(){warn("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var b=n.field.split("."),E=d.data,w=0;w<b.length&&E;w++){var _=b[w];E=E[_]}if(E==null)return y(),!1;var T;if(number(E)){var O=n.fieldMax-n.fieldMin;O===0?T=0:T=(E-n.fieldMin)/O}else return warn("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+E+"` for `"+t.id()+"` is non-numeric)"),!1;if(T<0?T=0:T>1&&(T=1),l.color){var D=n.valueMin[0],x=n.valueMax[0],L=n.valueMin[1],R=n.valueMax[1],C=n.valueMin[2],A=n.valueMax[2],S=n.valueMin[3]==null?1:n.valueMin[3],N=n.valueMax[3]==null?1:n.valueMax[3],$=[Math.round(D+(x-D)*T),Math.round(L+(R-L)*T),Math.round(C+(A-C)*T),Math.round(S+(N-S)*T)];o={bypass:n.bypass,name:n.name,value:$,strValue:"rgb("+$[0]+", "+$[1]+", "+$[2]+")"}}else if(l.number){var B=n.valueMin+(n.valueMax-n.valueMin)*T;o=this.parse(n.name,B,n.bypass,g)}else return!1;if(!o)return y(),!1;o.mapping=n,n=o;break}case s.data:{for(var P=n.field.split("."),k=d.data,H=0;H<P.length&&k;H++){var G=P[H];k=k[G]}if(k!=null&&(o=this.parse(n.name,k,n.bypass,g)),!o)return y(),!1;o.mapping=n,n=o;break}case s.fn:{var W=n.value,U=n.fnValue!=null?n.fnValue:W(t);if(n.prevFnValue=U,U==null)return warn("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(o=this.parse(n.name,U,n.bypass,g),!o)return warn("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;o.mapping=copy(n),n=o;break}case void 0:break;default:return!1}return u?(f?n.bypassed=c.bypassed:n.bypassed=c,a[n.name]=n):f?c.bypassed=n:a[n.name]=n,m(),!0};styfn.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,o=Object.keys(a),s=0;s<o.length;s++){var l=o[s],u=a[l];u!=null&&(u.bypass?u.bypassed=null:a[l]=null)}}};styfn.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};styfn.updateTransitions=function(t,e){var r=this,n=t._private,a=t.pstyle("transition-property").value,o=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(a.length>0&&o>0){for(var l={},u=!1,c=0;c<a.length;c++){var f=a[c],d=t.pstyle(f),g=e[f];if(!!g){var v=g.prev,m=v,y=g.next!=null?g.next:d,b=!1,E=void 0,w=1e-6;!m||(number(m.pfValue)&&number(y.pfValue)?(b=y.pfValue-m.pfValue,E=m.pfValue+w*b):number(m.value)&&number(y.value)?(b=y.value-m.value,E=m.value+w*b):array(m.value)&&array(y.value)&&(b=m.value[0]!==y.value[0]||m.value[1]!==y.value[1]||m.value[2]!==y.value[2],E=m.strValue),b&&(l[f]=y.strValue,this.applyBypass(t,f,E),u=!0))}}if(!u)return;n.transitioning=!0,new Promise$1(function(_){s>0?t.delayAnimation(s).play().promise().then(_):_()}).then(function(){return t.animation({style:l,duration:o,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1)};styfn.checkTrigger=function(t,e,r,n,a,o){var s=this.properties[e],l=a(s);l!=null&&l(r,n)&&o(s)};styfn.checkZOrderTrigger=function(t,e,r,n){var a=this;this.checkTrigger(t,e,r,n,function(o){return o.triggersZOrder},function(){a._private.cy.notify("zorder",t)})};styfn.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBounds},function(a){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),e==="curve-style"&&(r==="bezier"||n==="bezier")&&a.triggersBoundsOfParallelBeziers&&t.parallelEdges().forEach(function(o){o.isBundledBezier()&&o.dirtyBoundingBoxCache()})})};styfn.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var styfn$1={};styfn$1.applyBypass=function(t,e,r,n){var a=this,o=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var l=0;l<a.properties.length;l++){var u=a.properties[l],c=u.name,f=this.parse(c,r,!0);f&&o.push(f)}}else if(string(e)){var d=this.parse(e,r,!0);d&&o.push(d)}else if(plainObject(e)){var g=e;n=r;for(var v=Object.keys(g),m=0;m<v.length;m++){var y=v[m],b=g[y];if(b===void 0&&(b=g[dash2camel(y)]),b!==void 0){var E=this.parse(y,b,!0);E&&o.push(E)}}}else return!1;if(o.length===0)return!1;for(var w=!1,_=0;_<t.length;_++){for(var T=t[_],O={},D=void 0,x=0;x<o.length;x++){var L=o[x];if(n){var R=T.pstyle(L.name);D=O[L.name]={prev:R}}w=this.applyParsedProperty(T,copy(L))||w,n&&(D.next=T.pstyle(L.name))}w&&this.updateStyleHints(T),n&&this.updateTransitions(T,O,s)}return w};styfn$1.overrideBypass=function(t,e,r){e=camel2dash(e);for(var n=0;n<t.length;n++){var a=t[n],o=a._private.style[e],s=this.properties[e].type,l=s.color,u=s.mutiple,c=o?o.pfValue!=null?o.pfValue:o.value:null;!o||!o.bypass?this.applyBypass(a,e,r):(o.value=r,o.pfValue!=null&&(o.pfValue=r),l?o.strValue="rgb("+r.join(",")+")":u?o.strValue=r.join(" "):o.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,e,c,r)}};styfn$1.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};styfn$1.removeBypasses=function(t,e,r){for(var n=!0,a=0;a<t.length;a++){for(var o=t[a],s={},l=0;l<e.length;l++){var u=e[l],c=this.properties[u],f=o.pstyle(c.name);if(!(!f||!f.bypass)){var d="",g=this.parse(u,d,!0),v=s[c.name]={prev:f};this.applyParsedProperty(o,g),v.next=o.pstyle(c.name)}}this.updateStyleHints(o),r&&this.updateTransitions(o,s,n)}};var styfn$2={};styfn$2.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};styfn$2.containerCss=function(t){var e=this._private.cy,r=e.container();if(window$1&&r&&window$1.getComputedStyle)return window$1.getComputedStyle(r).getPropertyValue(t)};var styfn$3={};styfn$3.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};styfn$3.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},a=0;a<r.properties.length;a++){var o=r.properties[a],s=r.getStylePropertyValue(t,o.name,e);s!=null&&(n[o.name]=s,n[dash2camel(o.name)]=s)}return n}};styfn$3.getIndexedStyle=function(t,e,r,n){var a=t.pstyle(e)[r][n];return a!=null?a:t.cy().style().getDefaultProperty(e)[r][0]};styfn$3.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var a=n.properties[e];a.alias&&(a=a.pointsTo);var o=a.type,s=t.pstyle(a.name);if(s){var l=s.value,u=s.units,c=s.strValue;if(r&&o.number&&l!=null&&number(l)){var f=t.cy().zoom(),d=function(b){return b*f},g=function(b,E){return d(b)+E},v=array(l),m=v?u.every(function(y){return y!=null}):u!=null;return m?v?l.map(function(y,b){return g(y,u[b])}).join(" "):g(l,u):v?l.map(function(y){return string(y)?y:""+d(y)}).join(" "):""+d(l)}else if(c!=null)return c}return null}};styfn$3.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],o=a.name,s=t.pstyle(o);s!==void 0&&(plainObject(s)?s=this.parse(o,s.strValue):s=this.parse(o,s)),s&&(r[o]=s)}return r};styfn$3.getPropsList=function(t){var e=this,r=[],n=t,a=e.properties;if(n)for(var o=Object.keys(n),s=0;s<o.length;s++){var l=o[s],u=n[l],c=a[l]||a[camel2dash(l)],f=this.parse(c.name,u);f&&r.push(f)}return r};styfn$3.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),a,o,s,l,u,c;for(u=0;u<e.length;u++)if(a=e[u],o=t.pstyle(a,!1),o!=null)if(o.pfValue!=null)n[0]=hashInt(l,n[0]),n[1]=hashIntAlt(l,n[1]);else for(s=o.strValue,c=0;c<s.length;c++)l=s.charCodeAt(c),n[0]=hashInt(l,n[0]),n[1]=hashIntAlt(l,n[1]);return n};styfn$3.getPropertiesHash=styfn$3.getNonDefaultPropertiesHash;var styfn$4={};styfn$4.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],a=n.selector,o=n.style||n.css,s=Object.keys(o);e.selector(a);for(var l=0;l<s.length;l++){var u=s[l],c=o[u];e.css(u,c)}}return e};styfn$4.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};styfn$4.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,a=r.properties,o={},s=0;s<a.length;s++){var l=a[s];o[l.name]=l.strValue}t.push({selector:n?n.toString():"core",style:o})}return t};var styfn$5={};styfn$5.appendFromString=function(t){var e=this,r=this,n=""+t,a,o,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function l(){n.length>a.length?n=n.substr(a.length):n=""}function u(){o.length>s.length?o=o.substr(s.length):o=""}for(;;){var c=n.match(/^\s*$/);if(c)break;var f=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!f){warn("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=f[0];var d=f[1];if(d!=="core"){var g=new Selector(d);if(g.invalid){warn("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),l();continue}}var v=f[2],m=!1;o=v;for(var y=[];;){var b=o.match(/^\s*$/);if(b)break;var E=o.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!E){warn("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+v),m=!0;break}s=E[0];var w=E[1],_=E[2],T=e.properties[w];if(!T){warn("Skipping property: Invalid property name in: "+s),u();continue}var O=r.parse(w,_);if(!O){warn("Skipping property: Invalid property definition in: "+s),u();continue}y.push({name:w,val:_}),u()}if(m){l();break}r.selector(d);for(var D=0;D<y.length;D++){var x=y[D];r.css(x.name,x.val)}l()}return r};styfn$5.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var styfn$6={};(function(){var t=number$1,e=rgbaNoBackRefs,r=hslaNoBackRefs,n=hex3,a=hex6,o=function(j){return"^"+j+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(j){var J=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+a;return"^"+j+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+J+")\\s*\\,\\s*("+J+")\\)$"},l=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];styfn$6.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:l,singleRegexMatchValue:!0},urls:{regexes:l,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(j,J){switch(j.length){case 2:return J[0]!=="deg"&&J[0]!=="rad"&&J[1]!=="deg"&&J[1]!=="rad";case 1:return string(j[0])||J[0]==="deg"||J[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(j){var J=j.length;return J===1||J===2||J===4}}};var u={zeroNonZero:function(j,J){return(j==null||J==null)&&j!==J||j==0&&J!=0?!0:j!=0&&J==0},any:function(j,J){return j!=J},emptyNonEmpty:function(j,J){var de=emptyString(j),re=emptyString(J);return de&&!re||!de&&re}},c=styfn$6.types,f=[{name:"label",type:c.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:c.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:c.bidirectionalSize,triggersBounds:u.any}],d=[{name:"source-label",type:c.text,triggersBounds:u.any},{name:"source-text-rotation",type:c.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:c.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:c.size,triggersBounds:u.any}],g=[{name:"target-label",type:c.text,triggersBounds:u.any},{name:"target-text-rotation",type:c.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:c.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:c.size,triggersBounds:u.any}],v=[{name:"font-family",type:c.fontFamily,triggersBounds:u.any},{name:"font-style",type:c.fontStyle,triggersBounds:u.any},{name:"font-weight",type:c.fontWeight,triggersBounds:u.any},{name:"font-size",type:c.size,triggersBounds:u.any},{name:"text-transform",type:c.textTransform,triggersBounds:u.any},{name:"text-wrap",type:c.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:c.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:c.size,triggersBounds:u.any},{name:"text-outline-width",type:c.size,triggersBounds:u.any},{name:"line-height",type:c.positiveNumber,triggersBounds:u.any}],m=[{name:"text-valign",type:c.valign,triggersBounds:u.any},{name:"text-halign",type:c.halign,triggersBounds:u.any},{name:"color",type:c.color},{name:"text-outline-color",type:c.color},{name:"text-outline-opacity",type:c.zeroOneNumber},{name:"text-background-color",type:c.color},{name:"text-background-opacity",type:c.zeroOneNumber},{name:"text-background-padding",type:c.size,triggersBounds:u.any},{name:"text-border-opacity",type:c.zeroOneNumber},{name:"text-border-color",type:c.color},{name:"text-border-width",type:c.size,triggersBounds:u.any},{name:"text-border-style",type:c.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:c.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:c.justification}],y=[{name:"events",type:c.bool},{name:"text-events",type:c.bool}],b=[{name:"display",type:c.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:c.visibility,triggersZOrder:u.any},{name:"opacity",type:c.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:c.zeroOneNumber},{name:"min-zoomed-font-size",type:c.size},{name:"z-compound-depth",type:c.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:c.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:c.nonNegativeInt,triggersZOrder:u.any}],E=[{name:"overlay-padding",type:c.size,triggersBounds:u.any},{name:"overlay-color",type:c.color},{name:"overlay-opacity",type:c.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:c.overlayShape,triggersBounds:u.any}],w=[{name:"underlay-padding",type:c.size,triggersBounds:u.any},{name:"underlay-color",type:c.color},{name:"underlay-opacity",type:c.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:c.overlayShape,triggersBounds:u.any}],_=[{name:"transition-property",type:c.propList},{name:"transition-duration",type:c.time},{name:"transition-delay",type:c.time},{name:"transition-timing-function",type:c.easing}],T=function(j,J){return J.value==="label"?-j.poolIndex():J.pfValue},O=[{name:"height",type:c.nodeSize,triggersBounds:u.any,hashOverride:T},{name:"width",type:c.nodeSize,triggersBounds:u.any,hashOverride:T},{name:"shape",type:c.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:c.polygonPointList,triggersBounds:u.any},{name:"background-color",type:c.color},{name:"background-fill",type:c.fill},{name:"background-opacity",type:c.zeroOneNumber},{name:"background-blacken",type:c.nOneOneNumber},{name:"background-gradient-stop-colors",type:c.colors},{name:"background-gradient-stop-positions",type:c.percentages},{name:"background-gradient-direction",type:c.gradientDirection},{name:"padding",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:c.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:c.boundsExpansion,triggersBounds:u.any}],D=[{name:"border-color",type:c.color},{name:"border-opacity",type:c.zeroOneNumber},{name:"border-width",type:c.size,triggersBounds:u.any},{name:"border-style",type:c.borderStyle}],x=[{name:"background-image",type:c.urls},{name:"background-image-crossorigin",type:c.bgCrossOrigin},{name:"background-image-opacity",type:c.zeroOneNumbers},{name:"background-image-containment",type:c.bgContainment},{name:"background-image-smoothing",type:c.bools},{name:"background-position-x",type:c.bgPos},{name:"background-position-y",type:c.bgPos},{name:"background-width-relative-to",type:c.bgRelativeTo},{name:"background-height-relative-to",type:c.bgRelativeTo},{name:"background-repeat",type:c.bgRepeat},{name:"background-fit",type:c.bgFit},{name:"background-clip",type:c.bgClip},{name:"background-width",type:c.bgWH},{name:"background-height",type:c.bgWH},{name:"background-offset-x",type:c.bgPos},{name:"background-offset-y",type:c.bgPos}],L=[{name:"position",type:c.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:c.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:c.size,triggersBounds:u.any},{name:"min-width-bias-left",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:c.size,triggersBounds:u.any},{name:"min-height-bias-top",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:c.sizeMaybePercent,triggersBounds:u.any}],R=[{name:"line-style",type:c.lineStyle},{name:"line-color",type:c.color},{name:"line-fill",type:c.fill},{name:"line-cap",type:c.lineCap},{name:"line-opacity",type:c.zeroOneNumber},{name:"line-dash-pattern",type:c.numbers},{name:"line-dash-offset",type:c.number},{name:"line-gradient-stop-colors",type:c.colors},{name:"line-gradient-stop-positions",type:c.percentages},{name:"curve-style",type:c.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:c.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:c.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:c.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:c.size,triggersBounds:u.any},{name:"control-point-distances",type:c.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:c.numbers,triggersBounds:u.any},{name:"segment-distances",type:c.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:c.numbers,triggersBounds:u.any},{name:"taxi-turn",type:c.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:c.size,triggersBounds:u.any},{name:"taxi-direction",type:c.axisDirection,triggersBounds:u.any},{name:"edge-distances",type:c.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:c.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:c.angle,triggersBounds:u.any},{name:"loop-sweep",type:c.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:c.size,triggersBounds:u.any},{name:"target-distance-from-node",type:c.size,triggersBounds:u.any}],C=[{name:"ghost",type:c.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:c.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:c.zeroOneNumber}],A=[{name:"selection-box-color",type:c.color},{name:"selection-box-opacity",type:c.zeroOneNumber},{name:"selection-box-border-color",type:c.color},{name:"selection-box-border-width",type:c.size},{name:"active-bg-color",type:c.color},{name:"active-bg-opacity",type:c.zeroOneNumber},{name:"active-bg-size",type:c.size},{name:"outside-texture-bg-color",type:c.color},{name:"outside-texture-bg-opacity",type:c.zeroOneNumber}],S=[];styfn$6.pieBackgroundN=16,S.push({name:"pie-size",type:c.sizeMaybePercent});for(var N=1;N<=styfn$6.pieBackgroundN;N++)S.push({name:"pie-"+N+"-background-color",type:c.color}),S.push({name:"pie-"+N+"-background-size",type:c.percent}),S.push({name:"pie-"+N+"-background-opacity",type:c.zeroOneNumber});var $=[],B=styfn$6.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:c.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:c.color},{name:"arrow-fill",type:c.arrowFill}].forEach(function(F){B.forEach(function(j){var J=j+"-"+F.name,de=F.type,re=F.triggersBounds;$.push({name:J,type:de,triggersBounds:re})})},{});var P=styfn$6.properties=[].concat(y,_,b,E,w,C,m,v,f,d,g,O,D,x,S,L,R,$,A),k=styfn$6.propertyGroups={behavior:y,transition:_,visibility:b,overlay:E,underlay:w,ghost:C,commonLabel:m,labelDimensions:v,mainLabel:f,sourceLabel:d,targetLabel:g,nodeBody:O,nodeBorder:D,backgroundImage:x,pie:S,compound:L,edgeLine:R,edgeArrow:$,core:A},H=styfn$6.propertyGroupNames={},G=styfn$6.propertyGroupKeys=Object.keys(k);G.forEach(function(F){H[F]=k[F].map(function(j){return j.name}),k[F].forEach(function(j){return j.groupKey=F})});var W=styfn$6.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];styfn$6.propertyNames=P.map(function(F){return F.name});for(var U=0;U<P.length;U++){var X=P[U];P[X.name]=X}for(var ee=0;ee<W.length;ee++){var te=W[ee],V=P[te.pointsTo],Y={name:te.name,alias:!0,pointsTo:V};P.push(Y),P[te.name]=Y}})();styfn$6.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};styfn$6.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=extend({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,c){for(var f=1;f<=styfn$6.pieBackgroundN;f++){var d=c.name.replace("{{i}}",f),g=c.value;u[d]=g}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(u,c){return styfn$6.arrowPrefixes.forEach(function(f){var d=f+"-"+c.name,g=c.value;u[d]=g}),u},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var o=a.name,s=e[o],l=this.parse(o,s);r[o]=l}}return t.defaultProperties=r,t.defaultProperties};styfn$6.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var styfn$7={};styfn$7.parse=function(t,e,r,n){var a=this;if(fn(e))return a.parseImplWarn(t,e,r,n);var o=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",l=""+e,u=hashStrings(t,l,s,o),c=a.propCache=a.propCache||[],f;return(f=c[u])||(f=c[u]=a.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(f=copy(f),f&&(f.value=copy(f.value))),f};styfn$7.parseImplWarn=function(t,e,r,n){var a=this.parseImpl(t,e,r,n);return!a&&e!=null&&warn("The style property `".concat(t,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&warn("The style value of `label` is deprecated for `"+a.name+"`"),a};styfn$7.parseImpl=function(t,e,r,n){var a=this;t=camel2dash(t);var o=a.properties[t],s=e,l=a.types;if(!o||e===void 0)return null;o.alias&&(o=o.pointsTo,t=o.name);var u=string(e);u&&(e=e.trim());var c=o.type;if(!c)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(fn(e))return{name:t,value:e,strValue:"fn",mapped:l.fn,bypass:r};var f,d;if(!(!u||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(f=new RegExp(l.data.regex).exec(e))){if(r)return!1;var g=l.data;return{name:t,value:f,strValue:""+e,mapped:g,field:f[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(d=new RegExp(l.mapData.regex).exec(e))){if(r||c.multiple)return!1;var v=l.mapData;if(!(c.color||c.number))return!1;var m=this.parse(t,d[4]);if(!m||m.mapped)return!1;var y=this.parse(t,d[5]);if(!y||y.mapped)return!1;if(m.pfValue===y.pfValue||m.strValue===y.strValue)return warn("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+m.strValue+"`"),this.parse(t,m.strValue);if(c.color){var b=m.value,E=y.value,w=b[0]===E[0]&&b[1]===E[1]&&b[2]===E[2]&&(b[3]===E[3]||(b[3]==null||b[3]===1)&&(E[3]==null||E[3]===1));if(w)return!1}return{name:t,value:d,strValue:""+e,mapped:v,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:m.value,valueMax:y.value,bypass:r}}}if(c.multiple&&n!=="multiple"){var _;if(u?_=e.split(/\s+/):array(e)?_=e:_=[e],c.evenMultiple&&_.length%2!==0)return null;for(var T=[],O=[],D=[],x="",L=!1,R=0;R<_.length;R++){var C=a.parse(t,_[R],r,"multiple");L=L||string(C.value),T.push(C.value),D.push(C.pfValue!=null?C.pfValue:C.value),O.push(C.units),x+=(R>0?" ":"")+C.strValue}return c.validate&&!c.validate(T,O)?null:c.singleEnum&&L?T.length===1&&string(T[0])?{name:t,value:T[0],strValue:T[0],bypass:r}:null:{name:t,value:T,pfValue:D,strValue:x,bypass:r,units:O}}var A=function(){for(var J=0;J<c.enums.length;J++){var de=c.enums[J];if(de===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(c.number){var S,N="px";if(c.units&&(S=c.units),c.implicitUnits&&(N=c.implicitUnits),!c.unitless)if(u){var $="px|em"+(c.allowPercent?"|\\%":"");S&&($=S);var B=e.match("^("+number$1+")("+$+")?$");B&&(e=B[1],S=B[2]||N)}else(!S||c.implicitUnits)&&(S=N);if(e=parseFloat(e),isNaN(e)&&c.enums===void 0)return null;if(isNaN(e)&&c.enums!==void 0)return e=s,A();if(c.integer&&!integer(e)||c.min!==void 0&&(e<c.min||c.strictMin&&e===c.min)||c.max!==void 0&&(e>c.max||c.strictMax&&e===c.max))return null;var P={name:t,value:e,strValue:""+e+(S||""),units:S,bypass:r};return c.unitless||S!=="px"&&S!=="em"?P.pfValue=e:P.pfValue=S==="px"||!S?e:this.getEmSizeInPixels()*e,(S==="ms"||S==="s")&&(P.pfValue=S==="ms"?e:1e3*e),(S==="deg"||S==="rad")&&(P.pfValue=S==="rad"?e:deg2rad(e)),S==="%"&&(P.pfValue=e/100),P}else if(c.propList){var k=[],H=""+e;if(H!=="none"){for(var G=H.split(/\s*,\s*|\s+/),W=0;W<G.length;W++){var U=G[W].trim();a.properties[U]?k.push(U):warn("`"+U+"` is not a valid property name")}if(k.length===0)return null}return{name:t,value:k,strValue:k.length===0?"none":k.join(" "),bypass:r}}else if(c.color){var X=color2tuple(e);return X?{name:t,value:X,pfValue:X,strValue:"rgb("+X[0]+","+X[1]+","+X[2]+")",bypass:r}:null}else if(c.regex||c.regexes){if(c.enums){var ee=A();if(ee)return ee}for(var te=c.regexes?c.regexes:[c.regex],V=0;V<te.length;V++){var Y=new RegExp(te[V]),F=Y.exec(e);if(F)return{name:t,value:c.singleRegexMatchValue?F[1]:F,strValue:""+e,bypass:r}}return null}else return c.string?{name:t,value:""+e,strValue:""+e,bypass:r}:c.enums?A():null};var Style=function t(e){if(!(this instanceof t))return new t(e);if(!core(e)){error("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},styfn$8=Style.prototype;styfn$8.instanceString=function(){return"style"};styfn$8.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var o=a[0]._private;o.styleDirty=!0,o.appliedInitStyle=!1}),this};styfn$8.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};styfn$8.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};styfn$8.selector=function(t){var e=t==="core"?null:new Selector(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};styfn$8.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var a=t.properties[n],o=r[a.name];o===void 0&&(o=r[dash2camel(a.name)]),o!==void 0&&this.cssRule(a.name,o)}else e.length===2&&this.cssRule(e[0],e[1]);return this};styfn$8.style=styfn$8.css;styfn$8.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};styfn$8.append=function(t){return stylesheet(t)?t.appendToStyle(this):array(t)?this.appendFromJson(t):string(t)&&this.appendFromString(t),this};Style.fromJson=function(t,e){var r=new Style(t);return r.fromJson(e),r};Style.fromString=function(t,e){return new Style(t).fromString(e)};[styfn,styfn$1,styfn$2,styfn$3,styfn$4,styfn$5,styfn$6,styfn$7].forEach(function(t){extend(styfn$8,t)});Style.types=styfn$8.types;Style.properties=styfn$8.properties;Style.propertyGroups=styfn$8.propertyGroups;Style.propertyGroupNames=styfn$8.propertyGroupNames;Style.propertyGroupKeys=styfn$8.propertyGroupKeys;var corefn$7={style:function t(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function t(e){var r=this._private;return stylesheet(e)?r.style=e.generateStyle(this):array(e)?r.style=Style.fromJson(this,e):string(e)?r.style=Style.fromString(this,e):r.style=Style(this),r.style},updateStyle:function t(){this.mutableElements().updateStyle()}},defaultSelectionType="single",corefn$8={autolock:function t(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function t(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function t(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function t(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=defaultSelectionType),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function t(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function t(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function t(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function t(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function t(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function t(){var e=arguments,r=this._private.pan,n,a,o,s,l;switch(e.length){case 0:return r;case 1:if(string(e[0]))return n=e[0],r[n];if(plainObject(e[0])){if(!this._private.panningEnabled)return this;o=e[0],s=o.x,l=o.y,number(s)&&(r.x=s),number(l)&&(r.y=l),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&number(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function t(e,r){var n=arguments,a=this._private.pan,o,s,l,u,c;if(!this._private.panningEnabled)return this;switch(n.length){case 1:plainObject(e)&&(l=n[0],u=l.x,c=l.y,number(u)&&(a.x+=u),number(c)&&(a.y+=c),this.emit("pan viewport"));break;case 2:o=e,s=r,(o==="x"||o==="y")&&number(s)&&(a[o]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function t(e,r){var n=this.getFitViewport(e,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function t(e,r){if(number(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(string(e)){var a=e;e=this.$(a)}else if(boundingBox(e)){var o=e;n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else elementOrCollection(e)||(e=this.mutableElements());if(!(elementOrCollection(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),l=this.height(),u;if(r=number(r)?r:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((s-2*r)/n.w,(l-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var c={x:(s-u*(n.x1+n.x2))/2,y:(l-u*(n.y1+n.y2))/2};return{zoom:u,pan:c}}}}},zoomRange:function t(e,r){var n=this._private;if(r==null){var a=e;e=a.min,r=a.max}return number(e)&&number(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):number(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:number(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function t(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function t(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function t(e){var r=this._private,n=r.pan,a=r.zoom,o,s,l=!1;if(r.zoomingEnabled||(l=!0),number(e)?s=e:plainObject(e)&&(s=e.level,e.position!=null?o=modelToRenderedPosition(e.position,a,n):e.renderedPosition!=null&&(o=e.renderedPosition),o!=null&&!r.panningEnabled&&(l=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,l||!number(s)||s===a||o!=null&&(!number(o.x)||!number(o.y)))return null;if(o!=null){var u=n,c=a,f=s,d={x:-f/c*(o.x-u.x)+o.x,y:-f/c*(o.y-u.y)+o.y};return{zoomed:!0,panned:!0,zoom:f,pan:d}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function t(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function t(e){var r=this._private,n=!0,a=!0,o=[],s=!1,l=!1;if(!e)return this;if(number(e.zoom)||(n=!1),plainObject(e.pan)||(a=!1),!n&&!a)return this;if(n){var u=e.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=u,o.push("zoom"))}if(a&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var c=e.pan;number(c.x)&&(r.pan.x=c.x,l=!1),number(c.y)&&(r.pan.y=c.y,l=!1),l||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function t(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function t(e,r){if(!!this._private.panningEnabled){if(string(e)){var n=e;e=this.mutableElements().filter(n)}else elementOrCollection(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),o=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var l={x:(o-r*(a.x1+a.x2))/2,y:(s-r*(a.y1+a.y2))/2};return l}}},reset:function t(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function t(){this._private.sizeCache=null},size:function t(){var e=this._private,r=e.container;return e.sizeCache=e.sizeCache||(r?function(){var n=window$1.getComputedStyle(r),a=function(s){return parseFloat(n.getPropertyValue(s))};return{width:r.clientWidth-a("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function t(){return this.size().width},height:function t(){return this.size().height},extent:function t(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function t(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function t(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};corefn$8.centre=corefn$8.center;corefn$8.autolockNodes=corefn$8.autolock;corefn$8.autoungrabifyNodes=corefn$8.autoungrabify;var fn$6={data:define$3.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:define$3.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:define$3.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:define$3.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};fn$6.attr=fn$6.data;fn$6.removeAttr=fn$6.removeData;var Core=function t(e){var r=this;e=extend({},e);var n=e.container;n&&!htmlElement(n)&&htmlElement(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var o=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var s=window$1!==void 0&&n!==void 0&&!e.headless,l=e;l.layout=extend({name:s?"grid":"null"},l.layout),l.renderer=extend({name:s?"canvas":"null"},l.renderer);var u=function(m,y,b){return y!==void 0?y:b!==void 0?b:m},c=this._private={container:n,ready:!1,options:l,elements:new Collection(this),listeners:[],aniEles:new Collection(this),data:l.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,l.zoomingEnabled),userZoomingEnabled:u(!0,l.userZoomingEnabled),panningEnabled:u(!0,l.panningEnabled),userPanningEnabled:u(!0,l.userPanningEnabled),boxSelectionEnabled:u(!0,l.boxSelectionEnabled),autolock:u(!1,l.autolock,l.autolockNodes),autoungrabify:u(!1,l.autoungrabify,l.autoungrabifyNodes),autounselectify:u(!1,l.autounselectify),styleEnabled:l.styleEnabled===void 0?s:l.styleEnabled,zoom:number(l.zoom)?l.zoom:1,pan:{x:plainObject(l.pan)&&number(l.pan.x)?l.pan.x:0,y:plainObject(l.pan)&&number(l.pan.y)?l.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,l.multiClickDebounceTime)};this.createEmitter(),this.selectionType(l.selectionType),this.zoomRange({min:l.minZoom,max:l.maxZoom});var f=function(m,y){var b=m.some(promise);if(b)return Promise$1.all(m).then(y);y(m)};c.styleEnabled&&r.setStyle([]);var d=extend({},l,l.renderer);r.initRenderer(d);var g=function(m,y,b){r.notifications(!1);var E=r.mutableElements();E.length>0&&E.remove(),m!=null&&(plainObject(m)||array(m))&&r.add(m),r.one("layoutready",function(_){r.notifications(!0),r.emit(_),r.one("load",y),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",b),r.emit("done")});var w=extend({},r._private.options.layout);w.eles=r.elements(),r.layout(w).run()};f([l.style,l.elements],function(v){var m=v[0],y=v[1];c.styleEnabled&&r.style().append(m),g(y,function(){r.startAnimationLoop(),c.ready=!0,fn(l.ready)&&r.on("ready",l.ready);for(var b=0;b<o.length;b++){var E=o[b];r.on("ready",E)}a&&(a.readies=[]),r.emit("ready")},l.done)})},corefn$9=Core.prototype;extend(corefn$9,{instanceString:function t(){return"core"},isReady:function t(){return this._private.ready},destroyed:function t(){return this._private.destroyed},ready:function t(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function t(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function t(e){return this._private.elements.hasElementWithId(e)},getElementById:function t(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function t(){return this._private.hasCompoundNodes},headless:function t(){return this._private.renderer.isHeadless()},styleEnabled:function t(){return this._private.styleEnabled},addToPool:function t(e){return this._private.elements.merge(e),this},removeFromPool:function t(e){return this._private.elements.unmerge(e),this},container:function t(){return this._private.container||null},mount:function t(e){if(e!=null){var r=this,n=r._private,a=n.options;return!htmlElement(e)&&htmlElement(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(extend({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function t(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function t(){return copy(this._private.options)},json:function t(e){var r=this,n=r._private,a=r.mutableElements(),o=function(T){return r.getElementById(T.id())};if(plainObject(e)){if(r.startBatch(),e.elements){var s={},l=function(T,O){for(var D=[],x=[],L=0;L<T.length;L++){var R=T[L];if(!R.data.id){warn("cy.json() cannot handle elements without an ID attribute");continue}var C=""+R.data.id,A=r.getElementById(C);s[C]=!0,A.length!==0?x.push({ele:A,json:R}):(O&&(R.group=O),D.push(R))}r.add(D);for(var S=0;S<x.length;S++){var N=x[S],$=N.ele,B=N.json;$.json(B)}};if(array(e.elements))l(e.elements);else for(var u=["nodes","edges"],c=0;c<u.length;c++){var f=u[c],d=e.elements[f];array(d)&&l(d,f)}var g=r.collection();a.filter(function(_){return!s[_.id()]}).forEach(function(_){_.isParent()?g.merge(_):_.remove()}),g.forEach(function(_){return _.children().move({parent:null})}),g.forEach(function(_){return o(_).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var v=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],m=0;m<v.length;m++){var y=v[m];e[y]!=null&&r[y](e[y])}return r.endBatch(),this}else{var b=!!e,E={};b?E.elements=this.elements().map(function(_){return _.json()}):(E.elements={},a.forEach(function(_){var T=_.group();E.elements[T]||(E.elements[T]=[]),E.elements[T].push(_.json())})),this._private.styleEnabled&&(E.style=r.style().json()),E.data=copy(r.data());var w=n.options;return E.zoomingEnabled=n.zoomingEnabled,E.userZoomingEnabled=n.userZoomingEnabled,E.zoom=n.zoom,E.minZoom=n.minZoom,E.maxZoom=n.maxZoom,E.panningEnabled=n.panningEnabled,E.userPanningEnabled=n.userPanningEnabled,E.pan=copy(n.pan),E.boxSelectionEnabled=n.boxSelectionEnabled,E.renderer=copy(w.renderer),E.hideEdgesOnViewport=w.hideEdgesOnViewport,E.textureOnViewport=w.textureOnViewport,E.wheelSensitivity=w.wheelSensitivity,E.motionBlur=w.motionBlur,E.multiClickDebounceTime=w.multiClickDebounceTime,E}}});corefn$9.$id=corefn$9.getElementById;[corefn,corefn$1,elesfn$v,corefn$2,corefn$3,corefn$4,corefn$5,corefn$6,corefn$7,corefn$8,fn$6].forEach(function(t){extend(corefn$9,t)});var defaults$9={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function t(e,r){return!0},ready:void 0,stop:void 0,transform:function t(e,r){return r}},getInfo=function t(e){return e.scratch("breadthfirst")},setInfo=function t(e,r){return e.scratch("breadthfirst",r)};function BreadthFirstLayout(t){this.options=extend({},defaults$9,t)}BreadthFirstLayout.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().filter(function(I){return!I.isParent()}),o=n,s=e.directed,l=e.maximal||e.maximalAdjustments>0,u=makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),c;if(elementOrCollection(e.roots))c=e.roots;else if(array(e.roots)){for(var f=[],d=0;d<e.roots.length;d++){var g=e.roots[d],v=r.getElementById(g);f.push(v)}c=r.collection(f)}else if(string(e.roots))c=r.$(e.roots);else if(s)c=a.roots();else{var m=n.components();c=r.collection();for(var y=function(q){var ie=m[q],oe=ie.maxDegree(!1),ce=ie.filter(function(ne){return ne.degree(!1)===oe});c=c.add(ce)},b=0;b<m.length;b++)y(b)}var E=[],w={},_=function(q,ie){E[ie]==null&&(E[ie]=[]);var oe=E[ie].length;E[ie].push(q),setInfo(q,{index:oe,depth:ie})},T=function(q,ie){var oe=getInfo(q),ce=oe.depth,ne=oe.index;E[ce][ne]=null,_(q,ie)};o.bfs({roots:c,directed:e.directed,visit:function(q,ie,oe,ce,ne){var ae=q[0],pe=ae.id();_(ae,ne),w[pe]=!0}});for(var O=[],D=0;D<a.length;D++){var x=a[D];w[x.id()]||O.push(x)}var L=function(q){for(var ie=E[q],oe=0;oe<ie.length;oe++){var ce=ie[oe];if(ce==null){ie.splice(oe,1),oe--;continue}setInfo(ce,{depth:q,index:oe})}},R=function(){for(var q=0;q<E.length;q++)L(q)},C=function(q,ie){for(var oe=getInfo(q),ce=q.incomers().filter(function(M){return M.isNode()&&n.has(M)}),ne=-1,ae=q.id(),pe=0;pe<ce.length;pe++){var ue=ce[pe],se=getInfo(ue);ne=Math.max(ne,se.depth)}return oe.depth<=ne?ie[ae]?null:(T(q,ne+1),ie[ae]=!0,!0):!1};if(s&&l){var A=[],S={},N=function(q){return A.push(q)},$=function(){return A.shift()};for(a.forEach(function(I){return A.push(I)});A.length>0;){var B=$(),P=C(B,S);if(P)B.outgoers().filter(function(I){return I.isNode()&&n.has(I)}).forEach(N);else if(P===null){warn("Detected double maximal shift for node `"+B.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}R();var k=0;if(e.avoidOverlap)for(var H=0;H<a.length;H++){var G=a[H],W=G.layoutDimensions(e),U=W.w,X=W.h;k=Math.max(k,U,X)}var ee={},te=function(q){if(ee[q.id()])return ee[q.id()];for(var ie=getInfo(q).depth,oe=q.neighborhood(),ce=0,ne=0,ae=0;ae<oe.length;ae++){var pe=oe[ae];if(!(pe.isEdge()||pe.isParent()||!a.has(pe))){var ue=getInfo(pe);if(ue!=null){var se=ue.index,M=ue.depth;if(!(se==null||M==null)){var Z=E[M].length;M<ie&&(ce+=se/Z,ne++)}}}}return ne=Math.max(1,ne),ce=ce/ne,ne===0&&(ce=0),ee[q.id()]=ce,ce},V=function(q,ie){var oe=te(q),ce=te(ie),ne=oe-ce;return ne===0?ascending(q.id(),ie.id()):ne};e.depthSort!==void 0&&(V=e.depthSort);for(var Y=0;Y<E.length;Y++)E[Y].sort(V),L(Y);for(var F=[],j=0;j<O.length;j++)F.push(O[j]);E.unshift(F),R();for(var J=0,de=0;de<E.length;de++)J=Math.max(E[de].length,J);var re={x:u.x1+u.w/2,y:u.x1+u.h/2},ve=E.reduce(function(I,q){return Math.max(I,q.length)},0),z=function(q){var ie=getInfo(q),oe=ie.depth,ce=ie.index,ne=E[oe].length,ae=Math.max(u.w/((e.grid?ve:ne)+1),k),pe=Math.max(u.h/(E.length+1),k),ue=Math.min(u.w/2/E.length,u.h/2/E.length);if(ue=Math.max(ue,k),e.circle){var M=ue*oe+ue-(E.length>0&&E[0].length<=3?ue/2:0),Z=2*Math.PI/E[oe].length*ce;return oe===0&&E[0].length===1&&(M=1),{x:re.x+M*Math.cos(Z),y:re.y+M*Math.sin(Z)}}else{var se={x:re.x+(ce+1-(ne+1)/2)*ae,y:(oe+1)*pe};return se}};return n.nodes().layoutPositions(this,e,z),this};var defaults$a={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function t(e,r){return!0},ready:void 0,stop:void 0,transform:function t(e,r){return r}};function CircleLayout(t){this.options=extend({},defaults$a,t)}CircleLayout.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,o=n.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var s=makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=e.sweep===void 0?2*Math.PI-2*Math.PI/o.length:e.sweep,c=u/Math.max(1,o.length-1),f,d=0,g=0;g<o.length;g++){var v=o[g],m=v.layoutDimensions(e),y=m.w,b=m.h;d=Math.max(d,y,b)}if(number(e.radius)?f=e.radius:o.length<=1?f=0:f=Math.min(s.h,s.w)/2-d,o.length>1&&e.avoidOverlap){d*=1.75;var E=Math.cos(c)-Math.cos(0),w=Math.sin(c)-Math.sin(0),_=Math.sqrt(d*d/(E*E+w*w));f=Math.max(_,f)}var T=function(D,x){var L=e.startAngle+x*c*(a?1:-1),R=f*Math.cos(L),C=f*Math.sin(L),A={x:l.x+R,y:l.y+C};return A};return n.nodes().layoutPositions(this,e,T),this};var defaults$b={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function t(e){return e.degree()},levelWidth:function t(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function t(e,r){return!0},ready:void 0,stop:void 0,transform:function t(e,r){return r}};function ConcentricLayout(t){this.options=extend({},defaults$b,t)}ConcentricLayout.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,a=e.eles,o=a.nodes().not(":parent"),s=makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=[],c=0,f=0;f<o.length;f++){var d=o[f],g=void 0;g=e.concentric(d),u.push({value:g,node:d}),d._private.scratch.concentric=g}o.updateStyle();for(var v=0;v<o.length;v++){var m=o[v],y=m.layoutDimensions(e);c=Math.max(c,y.w,y.h)}u.sort(function(I,q){return q.value-I.value});for(var b=e.levelWidth(o),E=[[]],w=E[0],_=0;_<u.length;_++){var T=u[_];if(w.length>0){var O=Math.abs(w[0].value-T.value);O>=b&&(w=[],E.push(w))}w.push(T)}var D=c+e.minNodeSpacing;if(!e.avoidOverlap){var x=E.length>0&&E[0].length>1,L=Math.min(s.w,s.h)/2-D,R=L/(E.length+x?1:0);D=Math.min(D,R)}for(var C=0,A=0;A<E.length;A++){var S=E[A],N=e.sweep===void 0?2*Math.PI-2*Math.PI/S.length:e.sweep,$=S.dTheta=N/Math.max(1,S.length-1);if(S.length>1&&e.avoidOverlap){var B=Math.cos($)-Math.cos(0),P=Math.sin($)-Math.sin(0),k=Math.sqrt(D*D/(B*B+P*P));C=Math.max(k,C)}S.r=C,C+=D}if(e.equidistant){for(var H=0,G=0,W=0;W<E.length;W++){var U=E[W],X=U.r-G;H=Math.max(H,X)}G=0;for(var ee=0;ee<E.length;ee++){var te=E[ee];ee===0&&(G=te.r),te.r=G,G+=H}}for(var V={},Y=0;Y<E.length;Y++)for(var F=E[Y],j=F.dTheta,J=F.r,de=0;de<F.length;de++){var re=F[de],ve=e.startAngle+(r?1:-1)*j*de,z={x:l.x+J*Math.cos(ve),y:l.y+J*Math.sin(ve)};V[re.node.id()]=z}return a.nodes().layoutPositions(this,e,function(I){var q=I.id();return V[q]}),this};var DEBUG,defaults$c={ready:function t(){},stop:function t(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function t(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function t(e){return 2048},nodeOverlap:4,idealEdgeLength:function t(e){return 32},edgeElasticity:function t(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function CoseLayout(t){this.options=extend({},defaults$c,t),this.options.layout=this}CoseLayout.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?DEBUG=!0:DEBUG=!1;var n=createLayoutInfo(e,r,t);DEBUG&&printLayoutInfo(n),t.randomize&&randomizePositions(n);var a=performanceNow(),o=function(){refreshPositions(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(g){return!(r.stopped||g>=t.numIter||(step$1(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},l=function(){if(t.animate===!0||t.animate===!1)o(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var g=t.eles.nodes(),v=getScaleInBoundsFn(n,t,g);g.layoutPositions(r,t,v)}},u=0,c=!0;if(t.animate===!0){var f=function d(){for(var g=0;c&&g<t.refresh;)c=s(u),u++,g++;if(!c)separateComponents(n,t),l();else{var v=performanceNow();v-a>=t.animationThreshold&&o(),requestAnimationFrame(d)}};f()}else{for(;c;)c=s(u),u++;separateComponents(n,t),l()}return this};CoseLayout.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};CoseLayout.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var createLayoutInfo=function t(e,r,n){for(var a=n.eles.edges(),o=n.eles.nodes(),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},l=n.eles.components(),u={},c=0;c<l.length;c++)for(var f=l[c],d=0;d<f.length;d++){var g=f[d];u[g.id()]=c}for(var c=0;c<s.nodeSize;c++){var v=o[c],m=v.layoutDimensions(n),y={};y.isLocked=v.locked(),y.id=v.data("id"),y.parentId=v.data("parent"),y.cmptId=u[v.id()],y.children=[],y.positionX=v.position("x"),y.positionY=v.position("y"),y.offsetX=0,y.offsetY=0,y.height=m.w,y.width=m.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(v.style("padding")),y.padRight=parseFloat(v.style("padding")),y.padTop=parseFloat(v.style("padding")),y.padBottom=parseFloat(v.style("padding")),y.nodeRepulsion=fn(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,s.layoutNodes.push(y),s.idToIndex[y.id]=c}for(var b=[],E=0,w=-1,_=[],c=0;c<s.nodeSize;c++){var v=s.layoutNodes[c],T=v.parentId;T!=null?s.layoutNodes[s.idToIndex[T]].children.push(v.id):(b[++w]=v.id,_.push(v.id))}for(s.graphSet.push(_);E<=w;){var O=b[E++],D=s.idToIndex[O],g=s.layoutNodes[D],x=g.children;if(x.length>0){s.graphSet.push(x);for(var c=0;c<x.length;c++)b[++w]=x[c]}}for(var c=0;c<s.graphSet.length;c++)for(var L=s.graphSet[c],d=0;d<L.length;d++){var R=s.idToIndex[L[d]];s.indexToGraph[R]=c}for(var c=0;c<s.edgeSize;c++){var C=a[c],A={};A.id=C.data("id"),A.sourceId=C.data("source"),A.targetId=C.data("target");var S=fn(n.idealEdgeLength)?n.idealEdgeLength(C):n.idealEdgeLength,N=fn(n.edgeElasticity)?n.edgeElasticity(C):n.edgeElasticity,$=s.idToIndex[A.sourceId],B=s.idToIndex[A.targetId],P=s.indexToGraph[$],k=s.indexToGraph[B];if(P!=k){for(var H=findLCA(A.sourceId,A.targetId,s),G=s.graphSet[H],W=0,y=s.layoutNodes[$];G.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],W++;for(y=s.layoutNodes[B];G.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],W++;S*=W*n.nestingFactor}A.idealLength=S,A.elasticity=N,s.layoutEdges.push(A)}return s},findLCA=function t(e,r,n){var a=findLCA_aux(e,r,0,n);return 2>a.count?0:a.graph},findLCA_aux=function t(e,r,n,a){var o=a.graphSet[n];if(-1<o.indexOf(e)&&-1<o.indexOf(r))return{count:2,graph:n};for(var s=0,l=0;l<o.length;l++){var u=o[l],c=a.idToIndex[u],f=a.layoutNodes[c].children;if(f.length!==0){var d=a.indexToGraph[a.idToIndex[f[0]]],g=t(e,r,d,a);if(g.count!==0)if(g.count===1){if(s++,s===2)break}else return g}}return{count:s,graph:n}},printLayoutInfo,randomizePositions=function t(e,r){for(var n=e.clientWidth,a=e.clientHeight,o=0;o<e.nodeSize;o++){var s=e.layoutNodes[o];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*a)}},getScaleInBoundsFn=function t(e,r,n){var a=e.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var l=e.layoutNodes[e.idToIndex[s.data("id")]];o.x1=Math.min(o.x1,l.positionX),o.x2=Math.max(o.x2,l.positionX),o.y1=Math.min(o.y1,l.positionY),o.y2=Math.max(o.y2,l.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(s,l){var u=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var c=(u.positionX-o.x1)/o.w,f=(u.positionY-o.y1)/o.h;return{x:a.x1+c*a.w,y:a.y1+f*a.h}}else return{x:u.positionX,y:u.positionY}}},refreshPositions=function t(e,r,n){var a=n.layout,o=n.eles.nodes(),s=getScaleInBoundsFn(e,n,o);o.positions(s),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},step$1=function t(e,r,n){calculateNodeForces(e,r),calculateEdgeForces(e),calculateGravityForces(e,r),propagateForces(e),updatePositions(e)},calculateNodeForces=function t(e,r){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],o=a.length,s=0;s<o;s++)for(var l=e.layoutNodes[e.idToIndex[a[s]]],u=s+1;u<o;u++){var c=e.layoutNodes[e.idToIndex[a[u]]];nodeRepulsion(l,c,e,r)}},randomDistance=function t(e){return-e+2*e*Math.random()},nodeRepulsion=function t(e,r,n,a){var o=e.cmptId,s=r.cmptId;if(!(o!==s&&!n.isCompound)){var l=r.positionX-e.positionX,u=r.positionY-e.positionY,c=1;l===0&&u===0&&(l=randomDistance(c),u=randomDistance(c));var f=nodesOverlap(e,r,l,u);if(f>0)var d=a.nodeOverlap*f,g=Math.sqrt(l*l+u*u),v=d*l/g,m=d*u/g;else var y=findClippingPoint(e,l,u),b=findClippingPoint(r,-1*l,-1*u),E=b.x-y.x,w=b.y-y.y,_=E*E+w*w,g=Math.sqrt(_),d=(e.nodeRepulsion+r.nodeRepulsion)/_,v=d*E/g,m=d*w/g;e.isLocked||(e.offsetX-=v,e.offsetY-=m),r.isLocked||(r.offsetX+=v,r.offsetY+=m)}},nodesOverlap=function t(e,r,n,a){if(n>0)var o=e.maxX-r.minX;else var o=r.maxX-e.minX;if(a>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return o>=0&&s>=0?Math.sqrt(o*o+s*s):0},findClippingPoint=function t(e,r,n){var a=e.positionX,o=e.positionY,s=e.height||1,l=e.width||1,u=n/r,c=s/l,f={};return r===0&&0<n||r===0&&0>n?(f.x=a,f.y=o+s/2,f):0<r&&-1*c<=u&&u<=c?(f.x=a+l/2,f.y=o+l*n/2/r,f):0>r&&-1*c<=u&&u<=c?(f.x=a-l/2,f.y=o-l*n/2/r,f):0<n&&(u<=-1*c||u>=c)?(f.x=a+s*r/2/n,f.y=o+s/2,f):(0>n&&(u<=-1*c||u>=c)&&(f.x=a-s*r/2/n,f.y=o-s/2),f)},calculateEdgeForces=function t(e,r){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],o=e.idToIndex[a.sourceId],s=e.layoutNodes[o],l=e.idToIndex[a.targetId],u=e.layoutNodes[l],c=u.positionX-s.positionX,f=u.positionY-s.positionY;if(!(c===0&&f===0)){var d=findClippingPoint(s,c,f),g=findClippingPoint(u,-1*c,-1*f),v=g.x-d.x,m=g.y-d.y,y=Math.sqrt(v*v+m*m),b=Math.pow(a.idealLength-y,2)/a.elasticity;if(y!==0)var E=b*v/y,w=b*m/y;else var E=0,w=0;s.isLocked||(s.offsetX+=E,s.offsetY+=w),u.isLocked||(u.offsetX-=E,u.offsetY-=w)}}},calculateGravityForces=function t(e,r){if(r.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var o=e.graphSet[a],s=o.length;if(a===0)var l=e.clientHeight/2,u=e.clientWidth/2;else var c=e.layoutNodes[e.idToIndex[o[0]]],f=e.layoutNodes[e.idToIndex[c.parentId]],l=f.positionX,u=f.positionY;for(var d=0;d<s;d++){var g=e.layoutNodes[e.idToIndex[o[d]]];if(!g.isLocked){var v=l-g.positionX,m=u-g.positionY,y=Math.sqrt(v*v+m*m);if(y>n){var b=r.gravity*v/y,E=r.gravity*m/y;g.offsetX+=b,g.offsetY+=E}}}}},propagateForces=function t(e,r){var n=[],a=0,o=-1;for(n.push.apply(n,e.graphSet[0]),o+=e.graphSet[0].length;a<=o;){var s=n[a++],l=e.idToIndex[s],u=e.layoutNodes[l],c=u.children;if(0<c.length&&!u.isLocked){for(var f=u.offsetX,d=u.offsetY,g=0;g<c.length;g++){var v=e.layoutNodes[e.idToIndex[c[g]]];v.offsetX+=f,v.offsetY+=d,n[++o]=c[g]}u.offsetX=0,u.offsetY=0}}},updatePositions=function t(e,r){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var o=limitForce(a.offsetX,a.offsetY,e.temperature);a.positionX+=o.x,a.positionY+=o.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,updateAncestryBoundaries(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},limitForce=function t(e,r,n){var a=Math.sqrt(e*e+r*r);if(a>n)var o={x:n*e/a,y:n*r/a};else var o={x:e,y:r};return o},updateAncestryBoundaries=function t(e,r){var n=e.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],o=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,o=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,o=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,o=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,o=!0),o)return t(a,r)}},separateComponents=function t(e,r){for(var n=e.layoutNodes,a=[],o=0;o<n.length;o++){var s=n[o],l=s.cmptId,u=a[l]=a[l]||[];u.push(s)}for(var c=0,o=0;o<a.length;o++){var f=a[o];if(!!f){f.x1=1/0,f.x2=-1/0,f.y1=1/0,f.y2=-1/0;for(var d=0;d<f.length;d++){var g=f[d];f.x1=Math.min(f.x1,g.positionX-g.width/2),f.x2=Math.max(f.x2,g.positionX+g.width/2),f.y1=Math.min(f.y1,g.positionY-g.height/2),f.y2=Math.max(f.y2,g.positionY+g.height/2)}f.w=f.x2-f.x1,f.h=f.y2-f.y1,c+=f.w*f.h}}a.sort(function(w,_){return _.w*_.h-w.w*w.h});for(var v=0,m=0,y=0,b=0,E=Math.sqrt(c)*e.clientWidth/e.clientHeight,o=0;o<a.length;o++){var f=a[o];if(!!f){for(var d=0;d<f.length;d++){var g=f[d];g.isLocked||(g.positionX+=v-f.x1,g.positionY+=m-f.y1)}v+=f.w+r.componentSpacing,y+=f.w+r.componentSpacing,b=Math.max(b,f.h),y>E&&(m+=b+r.componentSpacing,v=0,y=0,b=0)}}},defaults$d={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function t(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function t(e,r){return!0},ready:void 0,stop:void 0,transform:function t(e,r){return r}};function GridLayout(t){this.options=extend({},defaults$d,t)}GridLayout.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var o=makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(o.h===0||o.w===0)n.nodes().layoutPositions(this,e,function(ee){return{x:o.x1,y:o.y1}});else{var s=a.size(),l=Math.sqrt(s*o.h/o.w),u=Math.round(l),c=Math.round(o.w/o.h*l),f=function(te){if(te==null)return Math.min(u,c);var V=Math.min(u,c);V==u?u=te:c=te},d=function(te){if(te==null)return Math.max(u,c);var V=Math.max(u,c);V==u?u=te:c=te},g=e.rows,v=e.cols!=null?e.cols:e.columns;if(g!=null&&v!=null)u=g,c=v;else if(g!=null&&v==null)u=g,c=Math.ceil(s/u);else if(g==null&&v!=null)c=v,u=Math.ceil(s/c);else if(c*u>s){var m=f(),y=d();(m-1)*y>=s?f(m-1):(y-1)*m>=s&&d(y-1)}else for(;c*u<s;){var b=f(),E=d();(E+1)*b>=s?d(E+1):f(b+1)}var w=o.w/c,_=o.h/u;if(e.condense&&(w=0,_=0),e.avoidOverlap)for(var T=0;T<a.length;T++){var O=a[T],D=O._private.position;(D.x==null||D.y==null)&&(D.x=0,D.y=0);var x=O.layoutDimensions(e),L=e.avoidOverlapPadding,R=x.w+L,C=x.h+L;w=Math.max(w,R),_=Math.max(_,C)}for(var A={},S=function(te,V){return!!A["c-"+te+"-"+V]},N=function(te,V){A["c-"+te+"-"+V]=!0},$=0,B=0,P=function(){B++,B>=c&&(B=0,$++)},k={},H=0;H<a.length;H++){var G=a[H],W=e.position(G);if(W&&(W.row!==void 0||W.col!==void 0)){var U={row:W.row,col:W.col};if(U.col===void 0)for(U.col=0;S(U.row,U.col);)U.col++;else if(U.row===void 0)for(U.row=0;S(U.row,U.col);)U.row++;k[G.id()]=U,N(U.row,U.col)}}var X=function(te,V){var Y,F;if(te.locked()||te.isParent())return!1;var j=k[te.id()];if(j)Y=j.col*w+w/2+o.x1,F=j.row*_+_/2+o.y1;else{for(;S($,B);)P();Y=B*w+w/2+o.x1,F=$*_+_/2+o.y1,N($,B),P()}return{x:Y,y:F}};a.layoutPositions(this,e,X)}return this};var defaults$e={ready:function t(){},stop:function t(){}};function NullLayout(t){this.options=extend({},defaults$e,t)}NullLayout.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};NullLayout.prototype.stop=function(){return this};var defaults$f={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function t(e,r){return!0},ready:void 0,stop:void 0,transform:function t(e,r){return r}};function PresetLayout(t){this.options=extend({},defaults$f,t)}PresetLayout.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=fn(t.positions);function a(o){if(t.positions==null)return copyPosition(o.position());if(n)return t.positions(o);var s=t.positions[o._private.data.id];return s==null?null:s}return r.layoutPositions(this,t,function(o,s){var l=a(o);return o.locked()||l==null?!1:l}),this};var defaults$g={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function t(e,r){return!0},ready:void 0,stop:void 0,transform:function t(e,r){return r}};function RandomLayout(t){this.options=extend({},defaults$g,t)}RandomLayout.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(s,l){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,a),this};var layout$1=[{name:"breadthfirst",impl:BreadthFirstLayout},{name:"circle",impl:CircleLayout},{name:"concentric",impl:ConcentricLayout},{name:"cose",impl:CoseLayout},{name:"grid",impl:GridLayout},{name:"null",impl:NullLayout},{name:"preset",impl:PresetLayout},{name:"random",impl:RandomLayout}];function NullRenderer(t){this.options=t,this.notifications=0}var noop$1$1=function t(){},throwImgErr=function t(){throw new Error("A headless instance can not render images")};NullRenderer.prototype={recalculateRenderedStyle:noop$1$1,notify:function t(){this.notifications++},init:noop$1$1,isHeadless:function t(){return!0},png:throwImgErr,jpg:throwImgErr};var BRp={};BRp.arrowShapeWidth=.3;BRp.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(c,f,d,g,v,m,y){var b=v.x-d/2-y,E=v.x+d/2+y,w=v.y-d/2-y,_=v.y+d/2+y,T=b<=c&&c<=E&&w<=f&&f<=_;return T},n=function(c,f,d,g,v){var m=c*Math.cos(g)-f*Math.sin(g),y=c*Math.sin(g)+f*Math.cos(g),b=m*d,E=y*d,w=b+v.x,_=E+v.y;return{x:w,y:_}},a=function(c,f,d,g){for(var v=[],m=0;m<c.length;m+=2){var y=c[m],b=c[m+1];v.push(n(y,b,f,d,g))}return v},o=function(c){for(var f=[],d=0;d<c.length;d++){var g=c[d];f.push(g.x,g.y)}return f},s=function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").pfValue*2},l=function(c,f){string(f)&&(f=t[f]),t[c]=extend({name:c,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(g,v,m,y,b,E){var w=o(a(this.points,m+2*E,y,b)),_=pointInsidePolygonPoints(g,v,w);return _},roughCollide:r,draw:function(g,v,m,y){var b=a(this.points,v,m,y);e.arrowShapeImpl("polygon")(g,b)},spacing:function(g){return 0},gap:s},f)};l("none",{collide:falsify,roughCollide:falsify,draw:noop$1,spacing:zeroify,gap:zeroify}),l("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),l("arrow","triangle"),l("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(c,f,d,g,v){var m=a(this.points,f,d,g),y=this.controlPoint,b=n(y[0],y[1],f,d,g);e.arrowShapeImpl(this.name)(c,m,b)},gap:function(c){return s(c)*.8}}),l("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(c,f,d,g,v,m,y){var b=o(a(this.points,d+2*y,g,v)),E=o(a(this.pointsTee,d+2*y,g,v)),w=pointInsidePolygonPoints(c,f,b)||pointInsidePolygonPoints(c,f,E);return w},draw:function(c,f,d,g,v){var m=a(this.points,f,d,g),y=a(this.pointsTee,f,d,g);e.arrowShapeImpl(this.name)(c,m,y)}}),l("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(c,f,d,g,v,m,y){var b=v,E=Math.pow(b.x-c,2)+Math.pow(b.y-f,2)<=Math.pow((d+2*y)*this.radius,2),w=o(a(this.points,d+2*y,g,v));return pointInsidePolygonPoints(c,f,w)||E},draw:function(c,f,d,g,v){var m=a(this.pointsTr,f,d,g);e.arrowShapeImpl(this.name)(c,m,g.x,g.y,this.radius*f)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),l("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(c,f){var d=this.baseCrossLinePts.slice(),g=f/c,v=3,m=5;return d[v]=d[v]-g,d[m]=d[m]-g,d},collide:function(c,f,d,g,v,m,y){var b=o(a(this.points,d+2*y,g,v)),E=o(a(this.crossLinePts(d,m),d+2*y,g,v)),w=pointInsidePolygonPoints(c,f,b)||pointInsidePolygonPoints(c,f,E);return w},draw:function(c,f,d,g,v){var m=a(this.points,f,d,g),y=a(this.crossLinePts(f,v),f,d,g);e.arrowShapeImpl(this.name)(c,m,y)}}),l("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(c){return s(c)*.525}}),l("circle",{radius:.15,collide:function(c,f,d,g,v,m,y){var b=v,E=Math.pow(b.x-c,2)+Math.pow(b.y-f,2)<=Math.pow((d+2*y)*this.radius,2);return E},draw:function(c,f,d,g,v){e.arrowShapeImpl(this.name)(c,g.x,g.y,this.radius*f)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),l("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(c){return 1},gap:function(c){return 1}}),l("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),l("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}}),l("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(c){return .95*c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}})};var BRp$1={};BRp$1.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],o=n[1],s=n[4],l=r.pan(),u=r.zoom(),c=((t-a)/s-l.x)/u,f=((e-o)/s-l.y)/u;return[c,f]};BRp$1.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=window$1.getComputedStyle(t),n=function(E){return parseFloat(r.getPropertyValue(E))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},o={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,l=t.clientHeight,u=a.left+a.right,c=a.top+a.bottom,f=o.left+o.right,d=e.width/(s+f),g=s-u,v=l-c,m=e.left+a.left+o.left,y=e.top+a.top+o.top;return this.containerBB=[m,y,g,v,d]};BRp$1.invalidateContainerClientCoordsCache=function(){this.containerBB=null};BRp$1.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};BRp$1.findNearestElements=function(t,e,r,n){var a=this,o=this,s=o.getCachedZSortedEles(),l=[],u=o.cy.zoom(),c=o.cy.hasCompoundNodes(),f=(n?24:8)/u,d=(n?8:2)/u,g=(n?8:2)/u,v=1/0,m,y;r&&(s=s.interactive);function b(x,L){if(x.isNode()){if(y)return;y=x,l.push(x)}if(x.isEdge()&&(L==null||L<v))if(m){if(m.pstyle("z-compound-depth").value===x.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===x.pstyle("z-compound-depth").value){for(var R=0;R<l.length;R++)if(l[R].isEdge()){l[R]=x,m=x,v=L!=null?L:v;break}}}else l.push(x),m=x,v=L!=null?L:v}function E(x){var L=x.outerWidth()+2*d,R=x.outerHeight()+2*d,C=L/2,A=R/2,S=x.position();if(S.x-C<=t&&t<=S.x+C&&S.y-A<=e&&e<=S.y+A){var N=o.nodeShapes[a.getNodeShape(x)];if(N.checkPoint(t,e,0,L,R,S.x,S.y))return b(x,0),!0}}function w(x){var L=x._private,R=L.rscratch,C=x.pstyle("width").pfValue,A=x.pstyle("arrow-scale").value,S=C/2+f,N=S*S,$=S*2,H=L.source,G=L.target,B;if(R.edgeType==="segments"||R.edgeType==="straight"||R.edgeType==="haystack"){for(var P=R.allpts,k=0;k+3<P.length;k+=2)if(inLineVicinity(t,e,P[k],P[k+1],P[k+2],P[k+3],$)&&N>(B=sqdistToFiniteLine(t,e,P[k],P[k+1],P[k+2],P[k+3])))return b(x,B),!0}else if(R.edgeType==="bezier"||R.edgeType==="multibezier"||R.edgeType==="self"||R.edgeType==="compound"){for(var P=R.allpts,k=0;k+5<R.allpts.length;k+=4)if(inBezierVicinity(t,e,P[k],P[k+1],P[k+2],P[k+3],P[k+4],P[k+5],$)&&N>(B=sqdistToQuadraticBezier(t,e,P[k],P[k+1],P[k+2],P[k+3],P[k+4],P[k+5])))return b(x,B),!0}for(var H=H||L.source,G=G||L.target,W=a.getArrowWidth(C,A),U=[{name:"source",x:R.arrowStartX,y:R.arrowStartY,angle:R.srcArrowAngle},{name:"target",x:R.arrowEndX,y:R.arrowEndY,angle:R.tgtArrowAngle},{name:"mid-source",x:R.midX,y:R.midY,angle:R.midsrcArrowAngle},{name:"mid-target",x:R.midX,y:R.midY,angle:R.midtgtArrowAngle}],k=0;k<U.length;k++){var X=U[k],ee=o.arrowShapes[x.pstyle(X.name+"-arrow-shape").value],te=x.pstyle("width").pfValue;if(ee.roughCollide(t,e,W,X.angle,{x:X.x,y:X.y},te,f)&&ee.collide(t,e,W,X.angle,{x:X.x,y:X.y},te,f))return b(x),!0}c&&l.length>0&&(E(H),E(G))}function _(x,L,R){return getPrefixedProperty(x,L,R)}function T(x,L){var R=x._private,C=g,A;L?A=L+"-":A="",x.boundingBox();var S=R.labelBounds[L||"main"],N=x.pstyle(A+"label").value,$=x.pstyle("text-events").strValue==="yes";if(!(!$||!N)){var B=_(R.rscratch,"labelX",L),P=_(R.rscratch,"labelY",L),k=_(R.rscratch,"labelAngle",L),H=x.pstyle(A+"text-margin-x").pfValue,G=x.pstyle(A+"text-margin-y").pfValue,W=S.x1-C-H,U=S.x2+C-H,X=S.y1-C-G,ee=S.y2+C-G;if(k){var te=Math.cos(k),V=Math.sin(k),Y=function(z,I){return z=z-B,I=I-P,{x:z*te-I*V+B,y:z*V+I*te+P}},F=Y(W,X),j=Y(W,ee),J=Y(U,X),de=Y(U,ee),re=[F.x+H,F.y+G,J.x+H,J.y+G,de.x+H,de.y+G,j.x+H,j.y+G];if(pointInsidePolygonPoints(t,e,re))return b(x),!0}else if(inBoundingBox(S,t,e))return b(x),!0}}for(var O=s.length-1;O>=0;O--){var D=s[O];D.isNode()?E(D)||T(D):w(D)||T(D)||T(D,"source")||T(D,"target")}return l};BRp$1.getAllInBox=function(t,e,r,n){var a=this.getCachedZSortedEles().interactive,o=[],s=Math.min(t,r),l=Math.max(t,r),u=Math.min(e,n),c=Math.max(e,n);t=s,r=l,e=u,n=c;for(var f=makeBoundingBox({x1:t,y1:e,x2:r,y2:n}),d=0;d<a.length;d++){var g=a[d];if(g.isNode()){var v=g,m=v.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});boundingBoxesIntersect(f,m)&&!boundingBoxInBoundingBox(m,f)&&o.push(v)}else{var y=g,b=y._private,E=b.rscratch;if(E.startX!=null&&E.startY!=null&&!inBoundingBox(f,E.startX,E.startY)||E.endX!=null&&E.endY!=null&&!inBoundingBox(f,E.endX,E.endY))continue;if(E.edgeType==="bezier"||E.edgeType==="multibezier"||E.edgeType==="self"||E.edgeType==="compound"||E.edgeType==="segments"||E.edgeType==="haystack"){for(var w=b.rstyle.bezierPts||b.rstyle.linePts||b.rstyle.haystackPts,_=!0,T=0;T<w.length;T++)if(!pointInBoundingBox(f,w[T])){_=!1;break}_&&o.push(y)}else(E.edgeType==="haystack"||E.edgeType==="straight")&&o.push(y)}}return o};var BRp$2={};BRp$2.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",o=e.edgeType==="segments",s=e.edgeType==="compound",l=e.edgeType==="self",u,c,f,d,g,v,E,w;if(r?(f=e.haystackPts[0],d=e.haystackPts[1],g=e.haystackPts[2],v=e.haystackPts[3]):(f=e.arrowStartX,d=e.arrowStartY,g=e.arrowEndX,v=e.arrowEndY),E=e.midX,w=e.midY,o)u=f-e.segpts[0],c=d-e.segpts[1];else if(a||s||l||n){var m=e.allpts,y=qbezierAt(m[0],m[2],m[4],.1),b=qbezierAt(m[1],m[3],m[5],.1);u=f-y,c=d-b}else u=f-E,c=d-w;e.srcArrowAngle=getAngleFromDisp(u,c);var E=e.midX,w=e.midY;if(r&&(E=(f+g)/2,w=(d+v)/2),u=g-f,c=v-d,o){var m=e.allpts;if(m.length/2%2===0){var _=m.length/2,T=_-2;u=m[_]-m[T],c=m[_+1]-m[T+1]}else{var _=m.length/2-1,T=_-2,O=_+2;u=m[_]-m[T],c=m[_+1]-m[T+1]}}else if(a||s||l){var m=e.allpts,D=e.ctrlpts,x,L,R,C;if(D.length/2%2===0){var A=m.length/2-1,S=A+2,N=S+2;x=qbezierAt(m[A],m[S],m[N],0),L=qbezierAt(m[A+1],m[S+1],m[N+1],0),R=qbezierAt(m[A],m[S],m[N],1e-4),C=qbezierAt(m[A+1],m[S+1],m[N+1],1e-4)}else{var S=m.length/2-1,A=S-2,N=S+2;x=qbezierAt(m[A],m[S],m[N],.4999),L=qbezierAt(m[A+1],m[S+1],m[N+1],.4999),R=qbezierAt(m[A],m[S],m[N],.5),C=qbezierAt(m[A+1],m[S+1],m[N+1],.5)}u=R-x,c=C-L}if(e.midtgtArrowAngle=getAngleFromDisp(u,c),e.midDispX=u,e.midDispY=c,u*=-1,c*=-1,o){var m=e.allpts;if(m.length/2%2!==0){var _=m.length/2-1,O=_+2;u=-(m[O]-m[_]),c=-(m[O+1]-m[_+1])}}if(e.midsrcArrowAngle=getAngleFromDisp(u,c),o)u=g-e.segpts[e.segpts.length-2],c=v-e.segpts[e.segpts.length-1];else if(a||s||l||n){var m=e.allpts,$=m.length,y=qbezierAt(m[$-6],m[$-4],m[$-2],.9),b=qbezierAt(m[$-5],m[$-3],m[$-1],.9);u=g-y,c=v-b}else u=g-E,c=v-w;e.tgtArrowAngle=getAngleFromDisp(u,c)};BRp$2.getArrowWidth=BRp$2.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var BRp$3={};BRp$3.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,a=n.rscratch;if(!a.haystack){var o=Math.random()*2*Math.PI;a.source={x:Math.cos(o),y:Math.sin(o)},o=Math.random()*2*Math.PI,a.target={x:Math.cos(o),y:Math.sin(o)}}var s=n.source,l=n.target,u=s.position(),c=l.position(),f=s.width(),d=l.width(),g=s.height(),v=l.height(),m=r.pstyle("haystack-radius").value,y=m/2;a.haystackPts=a.allpts=[a.source.x*f*y+u.x,a.source.y*g*y+u.y,a.target.x*d*y+c.x,a.target.y*v*y+c.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};BRp$3.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=e.posPts,a=e.intersectionPts,o=e.vectorNormInverse,s=t.pstyle("edge-distances").value,l=t.pstyle("segment-weights"),u=t.pstyle("segment-distances"),c=Math.min(l.pfValue.length,u.pfValue.length);r.edgeType="segments",r.segpts=[];for(var f=0;f<c;f++){var d=l.pfValue[f],g=u.pfValue[f],v=1-d,m=d,y=s==="node-position"?n:a,b={x:y.x1*v+y.x2*m,y:y.y1*v+y.y2*m};r.segpts.push(b.x+o.x*g,b.y+o.y*g)}};BRp$3.findLoopPoints=function(t,e,r,n){var a=t._private.rscratch,o=e.dirCounts,s=e.srcPos,l=t.pstyle("control-point-distances"),u=l?l.pfValue[0]:void 0,c=t.pstyle("loop-direction").pfValue,f=t.pstyle("loop-sweep").pfValue,d=t.pstyle("control-point-step-size").pfValue;a.edgeType="self";var g=r,v=d;n&&(g=0,v=u);var m=c-Math.PI/2,y=m-f/2,b=m+f/2,E=String(c+"_"+f);g=o[E]===void 0?o[E]=0:++o[E],a.ctrlpts=[s.x+Math.cos(y)*1.4*v*(g/3+1),s.y+Math.sin(y)*1.4*v*(g/3+1),s.x+Math.cos(b)*1.4*v*(g/3+1),s.y+Math.sin(b)*1.4*v*(g/3+1)]};BRp$3.findCompoundLoopPoints=function(t,e,r,n){var a=t._private.rscratch;a.edgeType="compound";var o=e.srcPos,s=e.tgtPos,l=e.srcW,u=e.srcH,c=e.tgtW,f=e.tgtH,d=t.pstyle("control-point-step-size").pfValue,g=t.pstyle("control-point-distances"),v=g?g.pfValue[0]:void 0,m=r,y=d;n&&(m=0,y=v);var b=50,E={x:o.x-l/2,y:o.y-u/2},w={x:s.x-c/2,y:s.y-f/2},_={x:Math.min(E.x,w.x),y:Math.min(E.y,w.y)},T=.5,O=Math.max(T,Math.log(l*.01)),D=Math.max(T,Math.log(c*.01));a.ctrlpts=[_.x,_.y-(1+Math.pow(b,1.12)/100)*y*(m/3+1)*O,_.x-(1+Math.pow(b,1.12)/100)*y*(m/3+1)*D,_.y]};BRp$3.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};BRp$3.findBezierPoints=function(t,e,r,n,a){var o=t._private.rscratch,s=e.vectorNormInverse,l=e.posPts,u=e.intersectionPts,c=t.pstyle("edge-distances").value,f=t.pstyle("control-point-step-size").pfValue,d=t.pstyle("control-point-distances"),g=t.pstyle("control-point-weights"),v=d&&g?Math.min(d.value.length,g.value.length):1,m=d?d.pfValue[0]:void 0,y=g.value[0],b=n;o.edgeType=b?"multibezier":"bezier",o.ctrlpts=[];for(var E=0;E<v;E++){var w=(.5-e.eles.length/2+r)*f*(a?-1:1),_=void 0,T=signum(w);b&&(m=d?d.pfValue[E]:f,y=g.value[E]),n?_=m:_=m!==void 0?T*m:void 0;var O=_!==void 0?_:w,D=1-y,x=y,L=c==="node-position"?l:u,R={x:L.x1*D+L.x2*x,y:L.y1*D+L.y2*x};o.ctrlpts.push(R.x+s.x*O,R.y+s.y*O)}};BRp$3.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",o="leftward",s="rightward",l="downward",u="upward",c="auto",f=e.posPts,d=e.srcW,g=e.srcH,v=e.tgtW,m=e.tgtH,y=t.pstyle("edge-distances").value,b=y!=="node-position",E=t.pstyle("taxi-direction").value,w=E,_=t.pstyle("taxi-turn"),T=_.units==="%",O=_.pfValue,D=O<0,x=t.pstyle("taxi-turn-min-distance").pfValue,L=b?(d+v)/2:0,R=b?(g+m)/2:0,C=f.x2-f.x1,A=f.y2-f.y1,S=function(ye,Ee){return ye>0?Math.max(ye-Ee,0):Math.min(ye+Ee,0)},N=S(C,L),$=S(A,R),B=!1;w===c?E=Math.abs(N)>Math.abs($)?a:n:w===u||w===l?(E=n,B=!0):(w===o||w===s)&&(E=a,B=!0);var P=E===n,k=P?$:N,H=P?A:C,G=signum(H),W=!1;!(B&&(T||D))&&(w===l&&H<0||w===u&&H>0||w===o&&H>0||w===s&&H<0)&&(G*=-1,k=G*Math.abs(k),W=!0);var U;if(T){var X=O<0?1+O:O;U=X*k}else{var ee=O<0?k:0;U=ee+O*G}var te=function(ye){return Math.abs(ye)<x||Math.abs(ye)>=Math.abs(k)},V=te(U),Y=te(Math.abs(k)-Math.abs(U)),F=V||Y;if(F&&!W)if(P){var j=Math.abs(H)<=g/2,J=Math.abs(C)<=v/2;if(j){var de=(f.x1+f.x2)/2,re=f.y1,ve=f.y2;r.segpts=[de,re,de,ve]}else if(J){var z=(f.y1+f.y2)/2,I=f.x1,q=f.x2;r.segpts=[I,z,q,z]}else r.segpts=[f.x1,f.y2]}else{var ie=Math.abs(H)<=d/2,oe=Math.abs(A)<=m/2;if(ie){var ce=(f.y1+f.y2)/2,ne=f.x1,ae=f.x2;r.segpts=[ne,ce,ae,ce]}else if(oe){var pe=(f.x1+f.x2)/2,ue=f.y1,se=f.y2;r.segpts=[pe,ue,pe,se]}else r.segpts=[f.x2,f.y1]}else if(P){var M=f.y1+U+(b?g/2*G:0),Z=f.x1,fe=f.x2;r.segpts=[Z,M,fe,M]}else{var he=f.x1+U+(b?d/2*G:0),Q=f.y1,ge=f.y2;r.segpts=[he,Q,he,ge]}};BRp$3.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,o=e.srcW,s=e.srcH,l=e.tgtW,u=e.tgtH,c=e.srcShape,f=e.tgtShape,d=!number(r.startX)||!number(r.startY),g=!number(r.arrowStartX)||!number(r.arrowStartY),v=!number(r.endX)||!number(r.endY),m=!number(r.arrowEndX)||!number(r.arrowEndY),y=3,b=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,E=y*b,w=dist$1({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),_=w<E,T=dist$1({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),O=T<E,D=!1;if(d||g||_){D=!0;var x={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},L=Math.sqrt(x.x*x.x+x.y*x.y),R={x:x.x/L,y:x.y/L},C=Math.max(o,s),A={x:r.ctrlpts[0]+R.x*2*C,y:r.ctrlpts[1]+R.y*2*C},S=c.intersectLine(n.x,n.y,o,s,A.x,A.y,0);_?(r.ctrlpts[0]=r.ctrlpts[0]+R.x*(E-w),r.ctrlpts[1]=r.ctrlpts[1]+R.y*(E-w)):(r.ctrlpts[0]=S[0]+R.x*E,r.ctrlpts[1]=S[1]+R.y*E)}if(v||m||O){D=!0;var N={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},$=Math.sqrt(N.x*N.x+N.y*N.y),B={x:N.x/$,y:N.y/$},P=Math.max(o,s),k={x:r.ctrlpts[0]+B.x*2*P,y:r.ctrlpts[1]+B.y*2*P},H=f.intersectLine(a.x,a.y,l,u,k.x,k.y,0);O?(r.ctrlpts[0]=r.ctrlpts[0]+B.x*(E-T),r.ctrlpts[1]=r.ctrlpts[1]+B.y*(E-T)):(r.ctrlpts[0]=H[0]+B.x*E,r.ctrlpts[1]=H[1]+B.y*E)}D&&this.findEndpoints(t)}};BRp$3.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=qbezierAt(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=qbezierAt(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments")if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4===0){var o=e.segpts.length/2,s=o-2;e.midX=(e.segpts[s]+e.segpts[o])/2,e.midY=(e.segpts[s+1]+e.segpts[o+1])/2}else{var l=e.segpts.length/2-1;e.midX=e.segpts[l],e.midY=e.segpts[l+1]}};BRp$3.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||number(e.startX)&&number(e.startY)&&number(e.endX)&&number(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,warn("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};BRp$3.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),o={map:new Map$1,get:function(x){var L=this.map.get(x[0]);return L!=null?L.get(x[1]):null},set:function(x,L){var R=this.map.get(x[0]);R==null&&(R=new Map$1,this.map.set(x[0],R)),R.set(x[1],L)}},s=[],l=[],u=0;u<t.length;u++){var c=t[u],f=c._private,d=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(d==="haystack"){l.push(c);continue}var g=d==="unbundled-bezier"||d==="segments"||d==="straight"||d==="straight-triangle"||d==="taxi",v=d==="unbundled-bezier"||d==="bezier",m=f.source,y=f.target,b=m.poolIndex(),E=y.poolIndex(),w=[b,E].sort(),_=o.get(w);_==null&&(_={eles:[]},o.set(w,_),s.push(w)),_.eles.push(c),g&&(_.hasUnbundled=!0),v&&(_.hasBezier=!0)}}for(var T=function(x){var L=s[x],R=o.get(L),C=void 0;if(!R.hasUnbundled){var A=R.eles[0].parallelEdges().filter(function(se){return se.isBundledBezier()});clearArray(R.eles),A.forEach(function(se){return R.eles.push(se)}),R.eles.sort(function(se,M){return se.poolIndex()-M.poolIndex()})}var S=R.eles[0],N=S.source(),$=S.target();if(N.poolIndex()>$.poolIndex()){var B=N;N=$,$=B}var P=R.srcPos=N.position(),k=R.tgtPos=$.position(),H=R.srcW=N.outerWidth(),G=R.srcH=N.outerHeight(),W=R.tgtW=$.outerWidth(),U=R.tgtH=$.outerHeight(),X=R.srcShape=r.nodeShapes[e.getNodeShape(N)],ee=R.tgtShape=r.nodeShapes[e.getNodeShape($)];R.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var te=0;te<R.eles.length;te++){var V=R.eles[te],Y=V[0]._private.rscratch,F=V.pstyle("curve-style").value,j=F==="unbundled-bezier"||F==="segments"||F==="taxi",J=!N.same(V.source());if(!R.calculatedIntersection&&N!==$&&(R.hasBezier||R.hasUnbundled)){R.calculatedIntersection=!0;var de=X.intersectLine(P.x,P.y,H,G,k.x,k.y,0),re=R.srcIntn=de,ve=ee.intersectLine(k.x,k.y,W,U,P.x,P.y,0),z=R.tgtIntn=ve,I=R.intersectionPts={x1:de[0],x2:ve[0],y1:de[1],y2:ve[1]},q=R.posPts={x1:P.x,x2:k.x,y1:P.y,y2:k.y},ie=ve[1]-de[1],oe=ve[0]-de[0],ce=Math.sqrt(oe*oe+ie*ie),ne=R.vector={x:oe,y:ie},ae=R.vectorNorm={x:ne.x/ce,y:ne.y/ce},pe={x:-ae.y,y:ae.x};R.nodesOverlap=!number(ce)||ee.checkPoint(de[0],de[1],0,W,U,k.x,k.y)||X.checkPoint(ve[0],ve[1],0,H,G,P.x,P.y),R.vectorNormInverse=pe,C={nodesOverlap:R.nodesOverlap,dirCounts:R.dirCounts,calculatedIntersection:!0,hasBezier:R.hasBezier,hasUnbundled:R.hasUnbundled,eles:R.eles,srcPos:k,tgtPos:P,srcW:W,srcH:U,tgtW:H,tgtH:G,srcIntn:z,tgtIntn:re,srcShape:ee,tgtShape:X,posPts:{x1:q.x2,y1:q.y2,x2:q.x1,y2:q.y1},intersectionPts:{x1:I.x2,y1:I.y2,x2:I.x1,y2:I.y1},vector:{x:-ne.x,y:-ne.y},vectorNorm:{x:-ae.x,y:-ae.y},vectorNormInverse:{x:-pe.x,y:-pe.y}}}var ue=J?C:R;Y.nodesOverlap=ue.nodesOverlap,Y.srcIntn=ue.srcIntn,Y.tgtIntn=ue.tgtIntn,a&&(N.isParent()||N.isChild()||$.isParent()||$.isChild())&&(N.parents().anySame($)||$.parents().anySame(N)||N.same($)&&N.isParent())?e.findCompoundLoopPoints(V,ue,te,j):N===$?e.findLoopPoints(V,ue,te,j):F==="segments"?e.findSegmentsPoints(V,ue):F==="taxi"?e.findTaxiPoints(V,ue):F==="straight"||!j&&R.eles.length%2===1&&te===Math.floor(R.eles.length/2)?e.findStraightEdgePoints(V):e.findBezierPoints(V,ue,te,j,J),e.findEndpoints(V),e.tryToCorrectInvalidPoints(V,ue),e.checkForInvalidEdgeWarning(V),e.storeAllpts(V),e.storeEdgeProjections(V),e.calculateArrowAngles(V),e.recalculateEdgeLabelProjections(V),e.calculateLabelAngles(V)}},O=0;O<s.length;O++)T(O);this.findHaystackPoints(l)}};function getPts(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e.push({x:n,y:a})}return e}}BRp$3.getSegmentPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="segments")return this.recalculateRenderedStyle(t),getPts(e.segpts)};BRp$3.getControlPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(t),getPts(e.ctrlpts)};BRp$3.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var BRp$4={};BRp$4.manualEndptToPx=function(t,e){var r=this,n=t.position(),a=t.outerWidth(),o=t.outerHeight();if(e.value.length===2){var s=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(s[0]=s[0]*a),e.units[1]==="%"&&(s[1]=s[1]*o),s[0]+=n.x,s[1]+=n.y,s}else{var l=e.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(a,o),c=[n.x+Math.cos(l)*u,n.y+Math.sin(l)*u];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,a,o,c[0],c[1],0)}};BRp$4.findEndpoints=function(t){var e=this,r,n=t.source()[0],a=t.target()[0],o=n.position(),s=a.position(),l=t.pstyle("target-arrow-shape").value,u=t.pstyle("source-arrow-shape").value,c=t.pstyle("target-distance-from-node").pfValue,f=t.pstyle("source-distance-from-node").pfValue,d=t.pstyle("curve-style").value,g=t._private.rscratch,v=g.edgeType,m=d==="taxi",y=v==="self"||v==="compound",b=v==="bezier"||v==="multibezier"||y,E=v!=="bezier",w=v==="straight"||v==="segments",_=v==="segments",T=b||E||w,O=y||m,D=t.pstyle("source-endpoint"),x=O?"outside-to-node":D.value,L=t.pstyle("target-endpoint"),R=O?"outside-to-node":L.value;g.srcManEndpt=D,g.tgtManEndpt=L;var C,A,S,N;if(b){var $=[g.ctrlpts[0],g.ctrlpts[1]],B=E?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:$;C=B,A=$}else if(w){var P=_?g.segpts.slice(0,2):[s.x,s.y],k=_?g.segpts.slice(g.segpts.length-2):[o.x,o.y];C=k,A=P}if(R==="inside-to-node")r=[s.x,s.y];else if(L.units)r=this.manualEndptToPx(a,L);else if(R==="outside-to-line")r=g.tgtIntn;else if(R==="outside-to-node"||R==="outside-to-node-or-label"?S=C:(R==="outside-to-line"||R==="outside-to-line-or-label")&&(S=[o.x,o.y]),r=e.nodeShapes[this.getNodeShape(a)].intersectLine(s.x,s.y,a.outerWidth(),a.outerHeight(),S[0],S[1],0),R==="outside-to-node-or-label"||R==="outside-to-line-or-label"){var H=a._private.rscratch,G=H.labelWidth,W=H.labelHeight,U=H.labelX,X=H.labelY,ee=G/2,te=W/2,V=a.pstyle("text-valign").value;V==="top"?X-=te:V==="bottom"&&(X+=te);var Y=a.pstyle("text-halign").value;Y==="left"?U-=ee:Y==="right"&&(U+=ee);var F=polygonIntersectLine(S[0],S[1],[U-ee,X-te,U+ee,X-te,U+ee,X+te,U-ee,X+te],s.x,s.y);if(F.length>0){var j=o,J=sqdist(j,array2point(r)),de=sqdist(j,array2point(F)),re=J;if(de<J&&(r=F,re=de),F.length>2){var ve=sqdist(j,{x:F[2],y:F[3]});ve<re&&(r=[F[2],F[3]])}}}var z=shortenIntersection(r,C,e.arrowShapes[l].spacing(t)+c),I=shortenIntersection(r,C,e.arrowShapes[l].gap(t)+c);if(g.endX=I[0],g.endY=I[1],g.arrowEndX=z[0],g.arrowEndY=z[1],x==="inside-to-node")r=[o.x,o.y];else if(D.units)r=this.manualEndptToPx(n,D);else if(x==="outside-to-line")r=g.srcIntn;else if(x==="outside-to-node"||x==="outside-to-node-or-label"?N=A:(x==="outside-to-line"||x==="outside-to-line-or-label")&&(N=[s.x,s.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(o.x,o.y,n.outerWidth(),n.outerHeight(),N[0],N[1],0),x==="outside-to-node-or-label"||x==="outside-to-line-or-label"){var q=n._private.rscratch,ie=q.labelWidth,oe=q.labelHeight,ce=q.labelX,ne=q.labelY,ae=ie/2,pe=oe/2,ue=n.pstyle("text-valign").value;ue==="top"?ne-=pe:ue==="bottom"&&(ne+=pe);var se=n.pstyle("text-halign").value;se==="left"?ce-=ae:se==="right"&&(ce+=ae);var M=polygonIntersectLine(N[0],N[1],[ce-ae,ne-pe,ce+ae,ne-pe,ce+ae,ne+pe,ce-ae,ne+pe],o.x,o.y);if(M.length>0){var Z=s,fe=sqdist(Z,array2point(r)),he=sqdist(Z,array2point(M)),Q=fe;if(he<fe&&(r=[M[0],M[1]],Q=he),M.length>2){var ge=sqdist(Z,{x:M[2],y:M[3]});ge<Q&&(r=[M[2],M[3]])}}}var le=shortenIntersection(r,A,e.arrowShapes[u].spacing(t)+f),ye=shortenIntersection(r,A,e.arrowShapes[u].gap(t)+f);g.startX=ye[0],g.startY=ye[1],g.arrowStartX=le[0],g.arrowStartY=le[1],T&&(!number(g.startX)||!number(g.startY)||!number(g.endX)||!number(g.endY)?g.badLine=!0:g.badLine=!1)};BRp$4.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};BRp$4.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var BRp$5={};function pushBezierPts(t,e,r){for(var n=function(c,f,d,g){return qbezierAt(c,f,d,g)},a=e._private,o=a.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var l=t.bezierProjPcts[s];o.push({x:n(r[0],r[2],r[4],l),y:n(r[1],r[3],r[5],l)})}}BRp$5.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)pushBezierPts(this,t,r.allpts.slice(a,a+6))}else if(n==="segments")for(var o=e.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)o.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};BRp$5.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var BRp$6={};BRp$6.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!emptyString(e)){var r,n,a=t._private,o=t.width(),s=t.height(),l=t.padding(),u=t.position(),c=t.pstyle("text-halign").strValue,f=t.pstyle("text-valign").strValue,d=a.rscratch,g=a.rstyle;switch(c){case"left":r=u.x-o/2-l;break;case"right":r=u.x+o/2+l;break;default:r=u.x}switch(f){case"top":n=u.y-s/2-l;break;case"bottom":n=u.y+s/2+l;break;default:n=u.y}d.labelX=r,d.labelY=n,g.labelX=r,g.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var lineAngleFromDelta=function t(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},lineAngle=function t(e,r){var n=r.x-e.x,a=r.y-e.y;return lineAngleFromDelta(n,a)},bezierAngle=function t(e,r,n,a){var o=bound(0,a-.001,1),s=bound(0,a+.001,1),l=qbezierPtAt(e,r,n,o),u=qbezierPtAt(e,r,n,s);return lineAngle(l,u)};BRp$6.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,a=this,o={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(!!(o.mid||o.source||o.target)){e={x:n.midX,y:n.midY};var s=function(d,g,v){setPrefixedProperty(r.rscratch,d,g,v),setPrefixedProperty(r.rstyle,d,g,v)};s("labelX",null,e.x),s("labelY",null,e.y);var l=lineAngleFromDelta(n.midDispX,n.midDispY);s("labelAutoAngle",null,l);var u=function f(){if(f.cache)return f.cache;for(var d=[],g=0;g+5<n.allpts.length;g+=4){var v={x:n.allpts[g],y:n.allpts[g+1]},m={x:n.allpts[g+2],y:n.allpts[g+3]},y={x:n.allpts[g+4],y:n.allpts[g+5]};d.push({p0:v,p1:m,p2:y,startDist:0,length:0,segments:[]})}var b=r.rstyle.bezierPts,E=a.bezierProjPcts.length;function w(x,L,R,C,A){var S=dist$1(L,R),N=x.segments[x.segments.length-1],$={p0:L,p1:R,t0:C,t1:A,startDist:N?N.startDist+N.length:0,length:S};x.segments.push($),x.length+=S}for(var _=0;_<d.length;_++){var T=d[_],O=d[_-1];O&&(T.startDist=O.startDist+O.length),w(T,T.p0,b[_*E],0,a.bezierProjPcts[0]);for(var D=0;D<E-1;D++)w(T,b[_*E+D],b[_*E+D+1],a.bezierProjPcts[D],a.bezierProjPcts[D+1]);w(T,b[_*E+E-1],T.p2,a.bezierProjPcts[E-1],1)}return f.cache=d},c=function(d){var g,v=d==="source";if(!!o[d]){var m=t.pstyle(d+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var y=u(),b,E=0,w=0,_=0;_<y.length;_++){for(var T=y[v?_:y.length-1-_],O=0;O<T.segments.length;O++){var D=T.segments[v?O:T.segments.length-1-O],x=_===y.length-1&&O===T.segments.length-1;if(E=w,w+=D.length,w>=m||x){b={cp:T,segment:D};break}}if(b)break}var L=b.cp,R=b.segment,C=(m-E)/R.length,A=R.t1-R.t0,S=v?R.t0+A*C:R.t1-A*C;S=bound(0,S,1),e=qbezierPtAt(L.p0,L.p1,L.p2,S),g=bezierAngle(L.p0,L.p1,L.p2,S);break}case"straight":case"segments":case"haystack":{for(var N=0,$,B,P,k,H=n.allpts.length,G=0;G+3<H&&(v?(P={x:n.allpts[G],y:n.allpts[G+1]},k={x:n.allpts[G+2],y:n.allpts[G+3]}):(P={x:n.allpts[H-2-G],y:n.allpts[H-1-G]},k={x:n.allpts[H-4-G],y:n.allpts[H-3-G]}),$=dist$1(P,k),B=N,N+=$,!(N>=m));G+=2);var W=m-B,U=W/$;U=bound(0,U,1),e=lineAt(P,k,U),g=lineAngle(P,k);break}}s("labelX",d,e.x),s("labelY",d,e.y),s("labelAutoAngle",d,g)}};c("source"),c("target"),this.applyLabelDimensions(t)}};BRp$6.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};BRp$6.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),a=this.calculateLabelDimensions(t,n),o=t.pstyle("line-height").pfValue,s=t.pstyle("text-wrap").strValue,l=getPrefixedProperty(r.rscratch,"labelWrapCachedLines",e)||[],u=s!=="wrap"?1:Math.max(l.length,1),c=a.height/u,f=c*o,d=a.width,g=a.height+(u-1)*(o-1)*c;setPrefixedProperty(r.rstyle,"labelWidth",e,d),setPrefixedProperty(r.rscratch,"labelWidth",e,d),setPrefixedProperty(r.rstyle,"labelHeight",e,g),setPrefixedProperty(r.rscratch,"labelHeight",e,g),setPrefixedProperty(r.rscratch,"labelLineHeight",e,f)};BRp$6.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",a=t.pstyle(n+"label").strValue,o=t.pstyle("text-transform").value,s=function(W,U){return U?(setPrefixedProperty(r.rscratch,W,e,U),U):getPrefixedProperty(r.rscratch,W,e)};if(!a)return"";o=="none"||(o=="uppercase"?a=a.toUpperCase():o=="lowercase"&&(a=a.toLowerCase()));var l=t.pstyle("text-wrap").value;if(l==="wrap"){var u=s("labelKey");if(u!=null&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var c="\u200B",f=a.split(`
`),d=t.pstyle("text-max-width").pfValue,g=t.pstyle("text-overflow-wrap").value,v=g==="anywhere",m=[],y=/[\s\u200b]+/,b=v?"":" ",E=0;E<f.length;E++){var w=f[E],_=this.calculateLabelDimensions(t,w),T=_.width;if(v){var O=w.split("").join(c);w=O}if(T>d){for(var D=w.split(y),x="",L=0;L<D.length;L++){var R=D[L],C=x.length===0?R:x+b+R,A=this.calculateLabelDimensions(t,C),S=A.width;S<=d?x+=R+b:(x&&m.push(x),x=R+b)}x.match(/^[\s\u200b]+$/)||m.push(x)}else m.push(w)}s("labelWrapCachedLines",m),a=s("labelWrapCachedText",m.join(`
`)),s("labelWrapKey",u)}else if(l==="ellipsis"){var N=t.pstyle("text-max-width").pfValue,$="",B="\u2026",P=!1;if(this.calculateLabelDimensions(t,a).width<N)return a;for(var k=0;k<a.length;k++){var H=this.calculateLabelDimensions(t,$+a[k]+B).width;if(H>N)break;$+=a[k],k===a.length-1&&(P=!0)}return P||($+=B),$}return a};BRp$6.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};BRp$6.calculateLabelDimensions=function(t,e){var r=this,n=hashString(e,t._private.labelDimsKey),a=r.labelDimCache||(r.labelDimCache=[]),o=a[n];if(o!=null)return o;var s=0,l=t.pstyle("font-style").strValue,u=t.pstyle("font-size").pfValue,c=t.pstyle("font-family").strValue,f=t.pstyle("font-weight").strValue,d=this.labelCalcCanvas,g=this.labelCalcCanvasContext;if(!d){d=this.labelCalcCanvas=document.createElement("canvas"),g=this.labelCalcCanvasContext=d.getContext("2d");var v=d.style;v.position="absolute",v.left="-9999px",v.top="-9999px",v.zIndex="-1",v.visibility="hidden",v.pointerEvents="none"}g.font="".concat(l," ").concat(f," ").concat(u,"px ").concat(c);for(var m=0,y=0,b=e.split(`
`),E=0;E<b.length;E++){var w=b[E],_=g.measureText(w),T=Math.ceil(_.width),O=u;m=Math.max(T,m),y+=O}return m+=s,y+=s,a[n]={width:m,height:y}};BRp$6.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,a=t.isEdge(),o=e?e+"-":"",s=t.pstyle(o+"text-rotation"),l=s.strValue;return l==="none"?0:a&&l==="autorotate"?n.labelAutoAngle:l==="autorotate"?0:s.pfValue};BRp$6.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(t),r&&(a.sourceLabelAngle=e.calculateLabelAngle(t,"source"),a.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var BRp$7={},TOO_SMALL_CUT_RECT=28,warnedCutRect=!1;BRp$7.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<TOO_SMALL_CUT_RECT||t.height()<TOO_SMALL_CUT_RECT))return warnedCutRect||(warn("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),warnedCutRect=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var BRp$8={};BRp$8.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),l)for(var u=0;u<s.length;u++){var c=s[u],f=c._private,d=f.rstyle;d.clean=!1,d.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var l=s.target;n(l)}).on("style.* background.*",function(s){var l=s.target;n(l,!1)});var a=function(s){if(s){var l=r.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var c=e[u],f=c._private.rstyle;c.isNode()&&!f.cleanConnected&&(n(c.connectedEdges()),f.cleanConnected=!0)}if(l)for(var d=0;d<l.length;d++){var g=l[d];g(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};BRp$8.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};BRp$8.recalculateRenderedStyle=function(t,e){var r=function(T){return T._private.rstyle.cleanConnected},n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var o=0;o<t.length;o++){var s=t[o],l=s._private,u=l.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(u.clean=!1),!(e&&u.clean||s.removed())&&s.pstyle("display").value!=="none"&&(l.group==="nodes"?a.push(s):n.push(s),u.clean=!0)}for(var c=0;c<a.length;c++){var f=a[c],d=f._private,g=d.rstyle,v=f.position();this.recalculateNodeLabelProjection(f),g.nodeX=v.x,g.nodeY=v.y,g.nodeW=f.pstyle("width").pfValue,g.nodeH=f.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var m=0;m<n.length;m++){var y=n[m],b=y._private,E=b.rstyle,w=b.rscratch;E.srcX=w.arrowStartX,E.srcY=w.arrowStartY,E.tgtX=w.arrowEndX,E.tgtY=w.arrowEndY,E.midX=w.midX,E.midY=w.midY,E.labelAngle=w.labelAngle,E.sourceLabelAngle=w.sourceLabelAngle,E.targetLabelAngle=w.targetLabelAngle}}};var BRp$9={};BRp$9.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(!!t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};BRp$9.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};BRp$9.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(zIndexSort),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var BRp$a={};[BRp$1,BRp$2,BRp$3,BRp$4,BRp$5,BRp$6,BRp$7,BRp$8,BRp$9].forEach(function(t){extend(BRp$a,t)});var BRp$b={};BRp$b.getCachedImage=function(t,e,r){var n=this,a=n.imageCache=n.imageCache||{},o=a[t];if(o)return o.image.complete||o.image.addEventListener("load",r),o.image;o=a[t]=a[t]||{};var s=o.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var l="data:",u=t.substring(0,l.length).toLowerCase()===l;return u||(s.crossOrigin=e),s.src=t,s};var BRp$c={};BRp$c.registerBinding=function(t,e,r,n){var a=Array.prototype.slice.apply(arguments,[1]),o=this.binder(t);return o.on.apply(o,a)};BRp$c.binder=function(t){var e=this,r=t===window||t===document||t===document.body||domElement(t);if(e.supportsPassiveEvents==null){var n=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return n=!0,!0}});window.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=n}var o=function(l,u,c){var f=Array.prototype.slice.call(arguments);return r&&e.supportsPassiveEvents&&(f[2]={capture:c!=null?c:!1,passive:!1,once:!1}),e.bindings.push({target:t,args:f}),(t.addEventListener||t.on).apply(t,f),this};return{on:o,addEventListener:o,addListener:o,bind:o}};BRp$c.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};BRp$c.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};BRp$c.load=function(){var t=this,e=function(M){return M.selected()},r=function(M,Z,fe,he){M==null&&(M=t.cy);for(var Q=0;Q<Z.length;Q++){var ge=Z[Q];M.emit({originalEvent:fe,type:ge,position:he})}},n=function(M){return M.shiftKey||M.metaKey||M.ctrlKey},a=function(M,Z){var fe=!0;if(t.cy.hasCompoundNodes()&&M&&M.pannable())for(var he=0;Z&&he<Z.length;he++){var M=Z[he];if(M.isNode()&&M.isParent()&&!M.pannable()){fe=!1;break}}else fe=!0;return fe},o=function(M){M[0]._private.grabbed=!0},s=function(M){M[0]._private.grabbed=!1},l=function(M){M[0]._private.rscratch.inDragLayer=!0},u=function(M){M[0]._private.rscratch.inDragLayer=!1},c=function(M){M[0]._private.rscratch.isGrabTarget=!0},f=function(M){M[0]._private.rscratch.isGrabTarget=!1},d=function(M,Z){var fe=Z.addToList,he=fe.has(M);!he&&M.grabbable()&&!M.locked()&&(fe.merge(M),o(M))},g=function(M,Z){if(!!M.cy().hasCompoundNodes()&&!(Z.inDragLayer==null&&Z.addToList==null)){var fe=M.descendants();Z.inDragLayer&&(fe.forEach(l),fe.connectedEdges().forEach(l)),Z.addToList&&d(fe,Z)}},v=function(M,Z){Z=Z||{};var fe=M.cy().hasCompoundNodes();Z.inDragLayer&&(M.forEach(l),M.neighborhood().stdFilter(function(he){return!fe||he.isEdge()}).forEach(l)),Z.addToList&&M.forEach(function(he){d(he,Z)}),g(M,Z),b(M,{inDragLayer:Z.inDragLayer}),t.updateCachedGrabbedEles()},m=v,y=function(M){!M||(t.getCachedZSortedEles().forEach(function(Z){s(Z),u(Z),f(Z)}),t.updateCachedGrabbedEles())},b=function(M,Z){if(!(Z.inDragLayer==null&&Z.addToList==null)&&!!M.cy().hasCompoundNodes()){var fe=M.ancestors().orphans();if(!fe.same(M)){var he=fe.descendants().spawnSelf().merge(fe).unmerge(M).unmerge(M.descendants()),Q=he.connectedEdges();Z.inDragLayer&&(Q.forEach(l),he.forEach(l)),Z.addToList&&he.forEach(function(ge){d(ge,Z)})}}},E=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},w=typeof MutationObserver!="undefined",_=typeof ResizeObserver!="undefined";w?(t.removeObserver=new MutationObserver(function(se){for(var M=0;M<se.length;M++){var Z=se[M],fe=Z.removedNodes;if(fe)for(var he=0;he<fe.length;he++){var Q=fe[he];if(Q===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(se){t.destroy()});var T=util(function(){t.cy.resize()},100);w&&(t.styleObserver=new MutationObserver(T),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",T),_&&(t.resizeObserver=new ResizeObserver(T),t.resizeObserver.observe(t.container));var O=function(M,Z){for(;M!=null;)Z(M),M=M.parentNode},D=function(){t.invalidateContainerClientCoordsCache()};O(t.container,function(se){t.registerBinding(se,"transitionend",D),t.registerBinding(se,"animationend",D),t.registerBinding(se,"scroll",D)}),t.registerBinding(t.container,"contextmenu",function(se){se.preventDefault()});var x=function(){return t.selection[4]!==0},L=function(M){for(var Z=t.findContainerClientCoords(),fe=Z[0],he=Z[1],Q=Z[2],ge=Z[3],le=M.touches?M.touches:[M],ye=!1,Ee=0;Ee<le.length;Ee++){var be=le[Ee];if(fe<=be.clientX&&be.clientX<=fe+Q&&he<=be.clientY&&be.clientY<=he+ge){ye=!0;break}}if(!ye)return!1;for(var _e=t.container,Te=M.target,me=Te.parentNode,we=!1;me;){if(me===_e){we=!0;break}me=me.parentNode}return!!we};t.registerBinding(t.container,"mousedown",function(M){if(!!L(M)){M.preventDefault(),E(),t.hoverData.capture=!0,t.hoverData.which=M.which;var Z=t.cy,fe=[M.clientX,M.clientY],he=t.projectIntoViewport(fe[0],fe[1]),Q=t.selection,ge=t.findNearestElements(he[0],he[1],!0,!1),le=ge[0],ye=t.dragData.possibleDragElements;t.hoverData.mdownPos=he,t.hoverData.mdownGPos=fe;var Ee=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var $e=t.hoverData.down;$e?$e.emit({originalEvent:M,type:"taphold",position:{x:he[0],y:he[1]}}):Z.emit({originalEvent:M,type:"taphold",position:{x:he[0],y:he[1]}})}},t.tapholdDuration)};if(M.which==3){t.hoverData.cxtStarted=!0;var be={originalEvent:M,type:"cxttapstart",position:{x:he[0],y:he[1]}};le?(le.activate(),le.emit(be),t.hoverData.down=le):Z.emit(be),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(M.which==1){le&&le.activate();{if(le!=null&&t.nodeIsGrabbable(le)){var _e=function($e){return{originalEvent:M,type:$e,position:{x:he[0],y:he[1]}}},Te=function($e){$e.emit(_e("grab"))};if(c(le),!le.selected())ye=t.dragData.possibleDragElements=Z.collection(),m(le,{addToList:ye}),le.emit(_e("grabon")).emit(_e("grab"));else{ye=t.dragData.possibleDragElements=Z.collection();var me=Z.$(function(we){return we.isNode()&&we.selected()&&t.nodeIsGrabbable(we)});v(me,{addToList:ye}),le.emit(_e("grabon")),me.forEach(Te)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=le,t.hoverData.downs=ge,t.hoverData.downTime=new Date().getTime()}r(le,["mousedown","tapstart","vmousedown"],M,{x:he[0],y:he[1]}),le==null?(Q[4]=1,t.data.bgActivePosistion={x:he[0],y:he[1]},t.redrawHint("select",!0),t.redraw()):le.pannable()&&(Q[4]=1),Ee()}Q[0]=Q[2]=he[0],Q[1]=Q[3]=he[1]}},!1),t.registerBinding(window,"mousemove",function(M){var Z=t.hoverData.capture;if(!(!Z&&!L(M))){var fe=!1,he=t.cy,Q=he.zoom(),ge=[M.clientX,M.clientY],le=t.projectIntoViewport(ge[0],ge[1]),ye=t.hoverData.mdownPos,Ee=t.hoverData.mdownGPos,be=t.selection,_e=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(_e=t.findNearestElement(le[0],le[1],!0,!1));var Te=t.hoverData.last,me=t.hoverData.down,we=[le[0]-be[2],le[1]-be[3]],$e=t.dragData.possibleDragElements,Oe;if(Ee){var Le=ge[0]-Ee[0],Ne=Le*Le,Ce=ge[1]-Ee[1],Se=Ce*Ce,De=Ne+Se;t.hoverData.isOverThresholdDrag=Oe=De>=t.desktopTapThreshold2}var Ae=n(M);Oe&&(t.hoverData.tapholdCancelled=!0);var xe=function(){var Ue=t.hoverData.dragDelta=t.hoverData.dragDelta||[];Ue.length===0?(Ue.push(we[0]),Ue.push(we[1])):(Ue[0]+=we[0],Ue[1]+=we[1])};fe=!0,r(_e,["mousemove","vmousemove","tapdrag"],M,{x:le[0],y:le[1]});var Be=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||he.emit({originalEvent:M,type:"boxstart",position:{x:le[0],y:le[1]}}),be[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(Oe){var Me={originalEvent:M,type:"cxtdrag",position:{x:le[0],y:le[1]}};me?me.emit(Me):he.emit(Me),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||_e!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:M,type:"cxtdragout",position:{x:le[0],y:le[1]}}),t.hoverData.cxtOver=_e,_e&&_e.emit({originalEvent:M,type:"cxtdragover",position:{x:le[0],y:le[1]}}))}}else if(t.hoverData.dragging){if(fe=!0,he.panningEnabled()&&he.userPanningEnabled()){var Fe;if(t.hoverData.justStartedPan){var ze=t.hoverData.mdownPos;Fe={x:(le[0]-ze[0])*Q,y:(le[1]-ze[1])*Q},t.hoverData.justStartedPan=!1}else Fe={x:we[0]*Q,y:we[1]*Q};he.panBy(Fe),he.emit("dragpan"),t.hoverData.dragged=!0}le=t.projectIntoViewport(M.clientX,M.clientY)}else if(be[4]==1&&(me==null||me.pannable())){if(Oe){if(!t.hoverData.dragging&&he.boxSelectionEnabled()&&(Ae||!he.panningEnabled()||!he.userPanningEnabled()))Be();else if(!t.hoverData.selecting&&he.panningEnabled()&&he.userPanningEnabled()){var Ge=a(me,t.hoverData.downs);Ge&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,be[4]=0,t.data.bgActivePosistion=array2point(ye),t.redrawHint("select",!0),t.redraw())}me&&me.pannable()&&me.active()&&me.unactivate()}}else{if(me&&me.pannable()&&me.active()&&me.unactivate(),(!me||!me.grabbed())&&_e!=Te&&(Te&&r(Te,["mouseout","tapdragout"],M,{x:le[0],y:le[1]}),_e&&r(_e,["mouseover","tapdragover"],M,{x:le[0],y:le[1]}),t.hoverData.last=_e),me)if(Oe){if(he.boxSelectionEnabled()&&Ae)me&&me.grabbed()&&(y($e),me.emit("freeon"),$e.emit("free"),t.dragData.didDrag&&(me.emit("dragfreeon"),$e.emit("dragfree"))),Be();else if(me&&me.grabbed()&&t.nodeIsDraggable(me)){var Pe=!t.dragData.didDrag;Pe&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||v($e,{inDragLayer:!0});var Re={x:0,y:0};if(number(we[0])&&number(we[1])&&(Re.x+=we[0],Re.y+=we[1],Pe)){var Ve=t.hoverData.dragDelta;Ve&&number(Ve[0])&&number(Ve[1])&&(Re.x+=Ve[0],Re.y+=Ve[1])}t.hoverData.draggingEles=!0,$e.silentShift(Re).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else xe();fe=!0}if(be[2]=le[0],be[3]=le[1],fe)return M.stopPropagation&&M.stopPropagation(),M.preventDefault&&M.preventDefault(),!1}},!1);var R,C,A;t.registerBinding(window,"mouseup",function(M){var Z=t.hoverData.capture;if(!!Z){t.hoverData.capture=!1;var fe=t.cy,he=t.projectIntoViewport(M.clientX,M.clientY),Q=t.selection,ge=t.findNearestElement(he[0],he[1],!0,!1),le=t.dragData.possibleDragElements,ye=t.hoverData.down,Ee=n(M);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,ye&&ye.unactivate(),t.hoverData.which===3){var be={originalEvent:M,type:"cxttapend",position:{x:he[0],y:he[1]}};if(ye?ye.emit(be):fe.emit(be),!t.hoverData.cxtDragged){var _e={originalEvent:M,type:"cxttap",position:{x:he[0],y:he[1]}};ye?ye.emit(_e):fe.emit(_e)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(r(ge,["mouseup","tapend","vmouseup"],M,{x:he[0],y:he[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(r(ye,["click","tap","vclick"],M,{x:he[0],y:he[1]}),C=!1,M.timeStamp-A<=fe.multiClickDebounceTime()?(R&&clearTimeout(R),C=!0,A=null,r(ye,["dblclick","dbltap","vdblclick"],M,{x:he[0],y:he[1]})):(R=setTimeout(function(){C||r(ye,["oneclick","onetap","voneclick"],M,{x:he[0],y:he[1]})},fe.multiClickDebounceTime()),A=M.timeStamp)),ye==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!n(M)&&(fe.$(e).unselect(["tapunselect"]),le.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=le=fe.collection()),ge==ye&&!t.dragData.didDrag&&!t.hoverData.selecting&&ge!=null&&ge._private.selectable&&(t.hoverData.dragging||(fe.selectionType()==="additive"||Ee?ge.selected()?ge.unselect(["tapunselect"]):ge.select(["tapselect"]):Ee||(fe.$(e).unmerge(ge).unselect(["tapunselect"]),ge.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Te=fe.collection(t.getAllInBox(Q[0],Q[1],Q[2],Q[3]));t.redrawHint("select",!0),Te.length>0&&t.redrawHint("eles",!0),fe.emit({type:"boxend",originalEvent:M,position:{x:he[0],y:he[1]}});var me=function(Oe){return Oe.selectable()&&!Oe.selected()};fe.selectionType()==="additive"||Ee||fe.$(e).unmerge(Te).unselect(),Te.emit("box").stdFilter(me).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!Q[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var we=ye&&ye.grabbed();y(le),we&&(ye.emit("freeon"),le.emit("free"),t.dragData.didDrag&&(ye.emit("dragfreeon"),le.emit("dragfree")))}}Q[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}},!1);var S=function(M){if(!t.scrollingPage){var Z=t.cy,fe=Z.zoom(),he=Z.pan(),Q=t.projectIntoViewport(M.clientX,M.clientY),ge=[Q[0]*fe+he.x,Q[1]*fe+he.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||x()){M.preventDefault();return}if(Z.panningEnabled()&&Z.userPanningEnabled()&&Z.zoomingEnabled()&&Z.userZoomingEnabled()){M.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var le;M.deltaY!=null?le=M.deltaY/-250:M.wheelDeltaY!=null?le=M.wheelDeltaY/1e3:le=M.wheelDelta/1e3,le=le*t.wheelSensitivity;var ye=M.deltaMode===1;ye&&(le*=33);var Ee=Z.zoom()*Math.pow(10,le);M.type==="gesturechange"&&(Ee=t.gestureStartZoom*M.scale),Z.zoom({level:Ee,renderedPosition:{x:ge[0],y:ge[1]}}),Z.emit(M.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",S,!0),t.registerBinding(window,"scroll",function(M){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(M){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||M.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(se){t.hasTouchStarted||S(se)},!0),t.registerBinding(t.container,"mouseout",function(M){var Z=t.projectIntoViewport(M.clientX,M.clientY);t.cy.emit({originalEvent:M,type:"mouseout",position:{x:Z[0],y:Z[1]}})},!1),t.registerBinding(t.container,"mouseover",function(M){var Z=t.projectIntoViewport(M.clientX,M.clientY);t.cy.emit({originalEvent:M,type:"mouseover",position:{x:Z[0],y:Z[1]}})},!1);var N,$,B,P,k,H,G,W,U,X,ee,te,V,Y=function(M,Z,fe,he){return Math.sqrt((fe-M)*(fe-M)+(he-Z)*(he-Z))},F=function(M,Z,fe,he){return(fe-M)*(fe-M)+(he-Z)*(he-Z)},j;t.registerBinding(t.container,"touchstart",j=function(M){if(t.hasTouchStarted=!0,!!L(M)){E(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var Z=t.cy,fe=t.touchData.now,he=t.touchData.earlier;if(M.touches[0]){var Q=t.projectIntoViewport(M.touches[0].clientX,M.touches[0].clientY);fe[0]=Q[0],fe[1]=Q[1]}if(M.touches[1]){var Q=t.projectIntoViewport(M.touches[1].clientX,M.touches[1].clientY);fe[2]=Q[0],fe[3]=Q[1]}if(M.touches[2]){var Q=t.projectIntoViewport(M.touches[2].clientX,M.touches[2].clientY);fe[4]=Q[0],fe[5]=Q[1]}if(M.touches[1]){t.touchData.singleTouchMoved=!0,y(t.dragData.touchDragEles);var ge=t.findContainerClientCoords();U=ge[0],X=ge[1],ee=ge[2],te=ge[3],N=M.touches[0].clientX-U,$=M.touches[0].clientY-X,B=M.touches[1].clientX-U,P=M.touches[1].clientY-X,V=0<=N&&N<=ee&&0<=B&&B<=ee&&0<=$&&$<=te&&0<=P&&P<=te;var le=Z.pan(),ye=Z.zoom();k=Y(N,$,B,P),H=F(N,$,B,P),G=[(N+B)/2,($+P)/2],W=[(G[0]-le.x)/ye,(G[1]-le.y)/ye];var Ee=200,be=Ee*Ee;if(H<be&&!M.touches[2]){var _e=t.findNearestElement(fe[0],fe[1],!0,!0),Te=t.findNearestElement(fe[2],fe[3],!0,!0);_e&&_e.isNode()?(_e.activate().emit({originalEvent:M,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),t.touchData.start=_e):Te&&Te.isNode()?(Te.activate().emit({originalEvent:M,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),t.touchData.start=Te):Z.emit({originalEvent:M,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(M.touches[2])Z.boxSelectionEnabled()&&M.preventDefault();else if(!M.touches[1]){if(M.touches[0]){var me=t.findNearestElements(fe[0],fe[1],!0,!0),we=me[0];if(we!=null&&(we.activate(),t.touchData.start=we,t.touchData.starts=me,t.nodeIsGrabbable(we))){var $e=t.dragData.touchDragEles=Z.collection(),Oe=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),we.selected()?(Oe=Z.$(function(De){return De.selected()&&t.nodeIsGrabbable(De)}),v(Oe,{addToList:$e})):m(we,{addToList:$e}),c(we);var Le=function(Ae){return{originalEvent:M,type:Ae,position:{x:fe[0],y:fe[1]}}};we.emit(Le("grabon")),Oe?Oe.forEach(function(De){De.emit(Le("grab"))}):we.emit(Le("grab"))}r(we,["touchstart","tapstart","vmousedown"],M,{x:fe[0],y:fe[1]}),we==null&&(t.data.bgActivePosistion={x:Q[0],y:Q[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&r(t.touchData.start,["taphold"],M,{x:fe[0],y:fe[1]})},t.tapholdDuration)}}if(M.touches.length>=1){for(var Ne=t.touchData.startPosition=[],Ce=0;Ce<fe.length;Ce++)Ne[Ce]=he[Ce]=fe[Ce];var Se=M.touches[0];t.touchData.startGPosition=[Se.clientX,Se.clientY]}}},!1);var J;t.registerBinding(window,"touchmove",J=function(M){var Z=t.touchData.capture;if(!(!Z&&!L(M))){var fe=t.selection,he=t.cy,Q=t.touchData.now,ge=t.touchData.earlier,le=he.zoom();if(M.touches[0]){var ye=t.projectIntoViewport(M.touches[0].clientX,M.touches[0].clientY);Q[0]=ye[0],Q[1]=ye[1]}if(M.touches[1]){var ye=t.projectIntoViewport(M.touches[1].clientX,M.touches[1].clientY);Q[2]=ye[0],Q[3]=ye[1]}if(M.touches[2]){var ye=t.projectIntoViewport(M.touches[2].clientX,M.touches[2].clientY);Q[4]=ye[0],Q[5]=ye[1]}var Ee=t.touchData.startGPosition,be;if(Z&&M.touches[0]&&Ee){for(var _e=[],Te=0;Te<Q.length;Te++)_e[Te]=Q[Te]-ge[Te];var me=M.touches[0].clientX-Ee[0],we=me*me,$e=M.touches[0].clientY-Ee[1],Oe=$e*$e,Le=we+Oe;be=Le>=t.touchTapThreshold2}if(Z&&t.touchData.cxt){M.preventDefault();var Ne=M.touches[0].clientX-U,Ce=M.touches[0].clientY-X,Se=M.touches[1].clientX-U,De=M.touches[1].clientY-X,Ae=F(Ne,Ce,Se,De),xe=Ae/H,Be=150,Me=Be*Be,Fe=1.5,ze=Fe*Fe;if(xe>=ze||Ae>=Me){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ge={originalEvent:M,type:"cxttapend",position:{x:Q[0],y:Q[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(Ge),t.touchData.start=null):he.emit(Ge)}}if(Z&&t.touchData.cxt){var Ge={originalEvent:M,type:"cxtdrag",position:{x:Q[0],y:Q[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Ge):he.emit(Ge),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Pe=t.findNearestElement(Q[0],Q[1],!0,!0);(!t.touchData.cxtOver||Pe!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:M,type:"cxtdragout",position:{x:Q[0],y:Q[1]}}),t.touchData.cxtOver=Pe,Pe&&Pe.emit({originalEvent:M,type:"cxtdragover",position:{x:Q[0],y:Q[1]}}))}else if(Z&&M.touches[2]&&he.boxSelectionEnabled())M.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||he.emit({originalEvent:M,type:"boxstart",position:{x:Q[0],y:Q[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,fe[4]=1,!fe||fe.length===0||fe[0]===void 0?(fe[0]=(Q[0]+Q[2]+Q[4])/3,fe[1]=(Q[1]+Q[3]+Q[5])/3,fe[2]=(Q[0]+Q[2]+Q[4])/3+1,fe[3]=(Q[1]+Q[3]+Q[5])/3+1):(fe[2]=(Q[0]+Q[2]+Q[4])/3,fe[3]=(Q[1]+Q[3]+Q[5])/3),t.redrawHint("select",!0),t.redraw();else if(Z&&M.touches[1]&&!t.touchData.didSelect&&he.zoomingEnabled()&&he.panningEnabled()&&he.userZoomingEnabled()&&he.userPanningEnabled()){M.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Re=t.dragData.touchDragEles;if(Re){t.redrawHint("drag",!0);for(var Ve=0;Ve<Re.length;Ve++){var Ye=Re[Ve]._private;Ye.grabbed=!1,Ye.rscratch.inDragLayer=!1}}var Ue=t.touchData.start,Ne=M.touches[0].clientX-U,Ce=M.touches[0].clientY-X,Se=M.touches[1].clientX-U,De=M.touches[1].clientY-X,Ke=Y(Ne,Ce,Se,De),Ze=Ke/k;if(V){var Je=Ne-N,je=Ce-$,it=Se-B,et=De-P,tt=(Je+it)/2,ct=(je+et)/2,Qe=he.zoom(),ot=Qe*Ze,rt=he.pan(),ft=W[0]*Qe+rt.x,st=W[1]*Qe+rt.y,dt={x:-ot/Qe*(ft-rt.x-tt)+ft,y:-ot/Qe*(st-rt.y-ct)+st};if(Ue&&Ue.active()){var Re=t.dragData.touchDragEles;y(Re),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Ue.unactivate().emit("freeon"),Re.emit("free"),t.dragData.didDrag&&(Ue.emit("dragfreeon"),Re.emit("dragfree"))}he.viewport({zoom:ot,pan:dt,cancelOnFailedZoom:!0}),he.emit("pinchzoom"),k=Ke,N=Ne,$=Ce,B=Se,P=De,t.pinching=!0}if(M.touches[0]){var ye=t.projectIntoViewport(M.touches[0].clientX,M.touches[0].clientY);Q[0]=ye[0],Q[1]=ye[1]}if(M.touches[1]){var ye=t.projectIntoViewport(M.touches[1].clientX,M.touches[1].clientY);Q[2]=ye[0],Q[3]=ye[1]}if(M.touches[2]){var ye=t.projectIntoViewport(M.touches[2].clientX,M.touches[2].clientY);Q[4]=ye[0],Q[5]=ye[1]}}else if(M.touches[0]&&!t.touchData.didSelect){var We=t.touchData.start,at=t.touchData.last,Pe;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Pe=t.findNearestElement(Q[0],Q[1],!0,!0)),Z&&We!=null&&M.preventDefault(),Z&&We!=null&&t.nodeIsDraggable(We))if(be){var Re=t.dragData.touchDragEles,lt=!t.dragData.didDrag;lt&&v(Re,{inDragLayer:!0}),t.dragData.didDrag=!0;var He={x:0,y:0};if(number(_e[0])&&number(_e[1])&&(He.x+=_e[0],He.y+=_e[1],lt)){t.redrawHint("eles",!0);var ke=t.touchData.dragDelta;ke&&number(ke[0])&&number(ke[1])&&(He.x+=ke[0],He.y+=ke[1])}t.hoverData.draggingEles=!0,Re.silentShift(He).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==ge[0]&&t.touchData.startPosition[1]==ge[1]&&t.redrawHint("eles",!0),t.redraw()}else{var ke=t.touchData.dragDelta=t.touchData.dragDelta||[];ke.length===0?(ke.push(_e[0]),ke.push(_e[1])):(ke[0]+=_e[0],ke[1]+=_e[1])}if(r(We||Pe,["touchmove","tapdrag","vmousemove"],M,{x:Q[0],y:Q[1]}),(!We||!We.grabbed())&&Pe!=at&&(at&&at.emit({originalEvent:M,type:"tapdragout",position:{x:Q[0],y:Q[1]}}),Pe&&Pe.emit({originalEvent:M,type:"tapdragover",position:{x:Q[0],y:Q[1]}})),t.touchData.last=Pe,Z)for(var Ve=0;Ve<Q.length;Ve++)Q[Ve]&&t.touchData.startPosition[Ve]&&be&&(t.touchData.singleTouchMoved=!0);if(Z&&(We==null||We.pannable())&&he.panningEnabled()&&he.userPanningEnabled()){var Ie=a(We,t.touchData.starts);Ie&&(M.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=array2point(t.touchData.startPosition)),t.swipePanning?(he.panBy({x:_e[0]*le,y:_e[1]*le}),he.emit("dragpan")):be&&(t.swipePanning=!0,he.panBy({x:me*le,y:$e*le}),he.emit("dragpan"),We&&(We.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var ye=t.projectIntoViewport(M.touches[0].clientX,M.touches[0].clientY);Q[0]=ye[0],Q[1]=ye[1]}}for(var Te=0;Te<Q.length;Te++)ge[Te]=Q[Te];Z&&M.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var de;t.registerBinding(window,"touchcancel",de=function(M){var Z=t.touchData.start;t.touchData.capture=!1,Z&&Z.unactivate()});var re,ve,z,I;if(t.registerBinding(window,"touchend",re=function(M){var Z=t.touchData.start,fe=t.touchData.capture;if(fe)M.touches.length===0&&(t.touchData.capture=!1),M.preventDefault();else return;var he=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var Q=t.cy,ge=Q.zoom(),le=t.touchData.now,ye=t.touchData.earlier;if(M.touches[0]){var Ee=t.projectIntoViewport(M.touches[0].clientX,M.touches[0].clientY);le[0]=Ee[0],le[1]=Ee[1]}if(M.touches[1]){var Ee=t.projectIntoViewport(M.touches[1].clientX,M.touches[1].clientY);le[2]=Ee[0],le[3]=Ee[1]}if(M.touches[2]){var Ee=t.projectIntoViewport(M.touches[2].clientX,M.touches[2].clientY);le[4]=Ee[0],le[5]=Ee[1]}Z&&Z.unactivate();var be;if(t.touchData.cxt){if(be={originalEvent:M,type:"cxttapend",position:{x:le[0],y:le[1]}},Z?Z.emit(be):Q.emit(be),!t.touchData.cxtDragged){var _e={originalEvent:M,type:"cxttap",position:{x:le[0],y:le[1]}};Z?Z.emit(_e):Q.emit(_e)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!M.touches[2]&&Q.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Te=Q.collection(t.getAllInBox(he[0],he[1],he[2],he[3]));he[0]=void 0,he[1]=void 0,he[2]=void 0,he[3]=void 0,he[4]=0,t.redrawHint("select",!0),Q.emit({type:"boxend",originalEvent:M,position:{x:le[0],y:le[1]}});var me=function(Me){return Me.selectable()&&!Me.selected()};Te.emit("box").stdFilter(me).select().emit("boxselect"),Te.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(Z!=null&&Z.unactivate(),M.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!M.touches[1]){if(!M.touches[0]){if(!M.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var we=t.dragData.touchDragEles;if(Z!=null){var $e=Z._private.grabbed;y(we),t.redrawHint("drag",!0),t.redrawHint("eles",!0),$e&&(Z.emit("freeon"),we.emit("free"),t.dragData.didDrag&&(Z.emit("dragfreeon"),we.emit("dragfree"))),r(Z,["touchend","tapend","vmouseup","tapdragout"],M,{x:le[0],y:le[1]}),Z.unactivate(),t.touchData.start=null}else{var Oe=t.findNearestElement(le[0],le[1],!0,!0);r(Oe,["touchend","tapend","vmouseup","tapdragout"],M,{x:le[0],y:le[1]})}var Le=t.touchData.startPosition[0]-le[0],Ne=Le*Le,Ce=t.touchData.startPosition[1]-le[1],Se=Ce*Ce,De=Ne+Se,Ae=De*ge*ge;t.touchData.singleTouchMoved||(Z||Q.$(":selected").unselect(["tapunselect"]),r(Z,["tap","vclick"],M,{x:le[0],y:le[1]}),ve=!1,M.timeStamp-I<=Q.multiClickDebounceTime()?(z&&clearTimeout(z),ve=!0,I=null,r(Z,["dbltap","vdblclick"],M,{x:le[0],y:le[1]})):(z=setTimeout(function(){ve||r(Z,["onetap","voneclick"],M,{x:le[0],y:le[1]})},Q.multiClickDebounceTime()),I=M.timeStamp)),Z!=null&&!t.dragData.didDrag&&Z._private.selectable&&Ae<t.touchTapThreshold2&&!t.pinching&&(Q.selectionType()==="single"?(Q.$(e).unmerge(Z).unselect(["tapunselect"]),Z.select(["tapselect"])):Z.selected()?Z.unselect(["tapunselect"]):Z.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var xe=0;xe<le.length;xe++)ye[xe]=le[xe];t.dragData.didDrag=!1,M.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null,t.touchData.didSelect=!1),M.touches.length<2&&(M.touches.length===1&&(t.touchData.startGPosition=[M.touches[0].clientX,M.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent=="undefined"){var q=[],ie=function(M){return{clientX:M.clientX,clientY:M.clientY,force:1,identifier:M.pointerId,pageX:M.pageX,pageY:M.pageY,radiusX:M.width/2,radiusY:M.height/2,screenX:M.screenX,screenY:M.screenY,target:M.target}},oe=function(M){return{event:M,touch:ie(M)}},ce=function(M){q.push(oe(M))},ne=function(M){for(var Z=0;Z<q.length;Z++){var fe=q[Z];if(fe.event.pointerId===M.pointerId){q.splice(Z,1);return}}},ae=function(M){var Z=q.filter(function(fe){return fe.event.pointerId===M.pointerId})[0];Z.event=M,Z.touch=ie(M)},pe=function(M){M.touches=q.map(function(Z){return Z.touch})},ue=function(M){return M.pointerType==="mouse"||M.pointerType===4};t.registerBinding(t.container,"pointerdown",function(se){ue(se)||(se.preventDefault(),ce(se),pe(se),j(se))}),t.registerBinding(t.container,"pointerup",function(se){ue(se)||(ne(se),pe(se),re(se))}),t.registerBinding(t.container,"pointercancel",function(se){ue(se)||(ne(se),pe(se),de(se))}),t.registerBinding(t.container,"pointermove",function(se){ue(se)||(se.preventDefault(),ae(se),pe(se),J(se))})}};var BRp$d={};BRp$d.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,a,o,s,l){this.renderer.nodeShapeImpl("polygon",n,a,o,s,l,this.points)},intersectLine:function(n,a,o,s,l,u,c){return polygonIntersectLine(l,u,this.points,n,a,o/2,s/2,c)},checkPoint:function(n,a,o,s,l,u,c){return pointInsidePolygon(n,a,this.points,u,c,s,l,[0,-1],o)}}};BRp$d.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,a,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,o)},intersectLine:function(e,r,n,a,o,s,l){return intersectLineEllipse(o,s,e,r,n/2+l,a/2+l)},checkPoint:function(e,r,n,a,o,s,l){return checkInEllipse(e,r,a,o,s,l,n)}}};BRp$d.generateRoundPolygon=function(t,e){for(var r=new Array(e.length*2),n=0;n<e.length/2;n++){var a=n*2,o=void 0;n<e.length/2-1?o=(n+1)*2:o=0,r[n*4]=e[a],r[n*4+1]=e[a+1];var s=e[o]-e[a],l=e[o+1]-e[a+1],u=Math.sqrt(s*s+l*l);r[n*4+2]=s/u,r[n*4+3]=l/u}return this.nodeShapes[t]={renderer:this,name:t,points:r,draw:function(f,d,g,v,m){this.renderer.nodeShapeImpl("round-polygon",f,d,g,v,m,this.points)},intersectLine:function(f,d,g,v,m,y,b){return roundPolygonIntersectLine(m,y,this.points,f,d,g,v)},checkPoint:function(f,d,g,v,m,y,b){return pointInsideRoundPolygon(f,d,this.points,y,b,v,m)}}};BRp$d.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:generateUnitNgonPointsFitToSquare(4,0),draw:function(e,r,n,a,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,o)},intersectLine:function(e,r,n,a,o,s,l){return roundRectangleIntersectLine(o,s,e,r,n,a,l)},checkPoint:function(e,r,n,a,o,s,l){var u=getRoundRectangleRadius(a,o),c=u*2;return!!(pointInsidePolygon(e,r,this.points,s,l,a,o-c,[0,-1],n)||pointInsidePolygon(e,r,this.points,s,l,a-c,o,[0,-1],n)||checkInEllipse(e,r,c,c,s-a/2+u,l-o/2+u,n)||checkInEllipse(e,r,c,c,s+a/2-u,l-o/2+u,n)||checkInEllipse(e,r,c,c,s+a/2-u,l+o/2-u,n)||checkInEllipse(e,r,c,c,s-a/2+u,l+o/2-u,n))}}};BRp$d.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:getCutRectangleCornerLength(),points:generateUnitNgonPointsFitToSquare(4,0),draw:function(e,r,n,a,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,o)},generateCutTrianglePts:function(e,r,n,a){var o=this.cornerLength,s=r/2,l=e/2,u=n-l,c=n+l,f=a-s,d=a+s;return{topLeft:[u,f+o,u+o,f,u+o,f+o],topRight:[c-o,f,c,f+o,c-o,f+o],bottomRight:[c,d-o,c-o,d,c-o,d-o],bottomLeft:[u+o,d,u,d-o,u+o,d-o]}},intersectLine:function(e,r,n,a,o,s,l){var u=this.generateCutTrianglePts(n+2*l,a+2*l,e,r),c=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return polygonIntersectLine(o,s,c,e,r)},checkPoint:function(e,r,n,a,o,s,l){if(pointInsidePolygon(e,r,this.points,s,l,a,o-2*this.cornerLength,[0,-1],n)||pointInsidePolygon(e,r,this.points,s,l,a-2*this.cornerLength,o,[0,-1],n))return!0;var u=this.generateCutTrianglePts(a,o,s,l);return pointInsidePolygonPoints(e,r,u.topLeft)||pointInsidePolygonPoints(e,r,u.topRight)||pointInsidePolygonPoints(e,r,u.bottomRight)||pointInsidePolygonPoints(e,r,u.bottomLeft)}}};BRp$d.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:generateUnitNgonPointsFitToSquare(4,0),draw:function(e,r,n,a,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,o)},intersectLine:function(e,r,n,a,o,s,l){var u=.15,c=.5,f=.85,d=this.generateBarrelBezierPts(n+2*l,a+2*l,e,r),g=function(y){var b=qbezierPtAt({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},u),E=qbezierPtAt({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},c),w=qbezierPtAt({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},f);return[y[0],y[1],b.x,b.y,E.x,E.y,w.x,w.y,y[4],y[5]]},v=[].concat(g(d.topLeft),g(d.topRight),g(d.bottomRight),g(d.bottomLeft));return polygonIntersectLine(o,s,v,e,r)},generateBarrelBezierPts:function(e,r,n,a){var o=r/2,s=e/2,l=n-s,u=n+s,c=a-o,f=a+o,d=getBarrelCurveConstants(e,r),g=d.heightOffset,v=d.widthOffset,m=d.ctrlPtOffsetPct*e,y={topLeft:[l,c+g,l+m,c,l+v,c],topRight:[u-v,c,u-m,c,u,c+g],bottomRight:[u,f-g,u-m,f,u-v,f],bottomLeft:[l+v,f,l+m,f,l,f-g]};return y.topLeft.isTop=!0,y.topRight.isTop=!0,y.bottomLeft.isBottom=!0,y.bottomRight.isBottom=!0,y},checkPoint:function(e,r,n,a,o,s,l){var u=getBarrelCurveConstants(a,o),c=u.heightOffset,f=u.widthOffset;if(pointInsidePolygon(e,r,this.points,s,l,a,o-2*c,[0,-1],n)||pointInsidePolygon(e,r,this.points,s,l,a-2*f,o,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(a,o,s,l),g=function(x,L,R){var C=R[4],A=R[2],S=R[0],N=R[5],$=R[1],B=Math.min(C,S),P=Math.max(C,S),k=Math.min(N,$),H=Math.max(N,$);if(B<=x&&x<=P&&k<=L&&L<=H){var G=bezierPtsToQuadCoeff(C,A,S),W=solveQuadratic(G[0],G[1],G[2],x),U=W.filter(function(X){return 0<=X&&X<=1});if(U.length>0)return U[0]}return null},v=Object.keys(d),m=0;m<v.length;m++){var y=v[m],b=d[y],E=g(e,r,b);if(E!=null){var w=b[5],_=b[3],T=b[1],O=qbezierAt(w,_,T,E);if(b.isTop&&O<=r||b.isBottom&&r<=O)return!0}}return!1}}};BRp$d.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:generateUnitNgonPointsFitToSquare(4,0),draw:function(e,r,n,a,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,o)},intersectLine:function(e,r,n,a,o,s,l){var u=e-(n/2+l),c=r-(a/2+l),f=c,d=e+(n/2+l),g=finiteLinesIntersect(o,s,e,r,u,c,d,f,!1);return g.length>0?g:roundRectangleIntersectLine(o,s,e,r,n,a,l)},checkPoint:function(e,r,n,a,o,s,l){var u=getRoundRectangleRadius(a,o),c=2*u;if(pointInsidePolygon(e,r,this.points,s,l,a,o-c,[0,-1],n)||pointInsidePolygon(e,r,this.points,s,l,a-c,o,[0,-1],n))return!0;var f=a/2+2*n,d=o/2+2*n,g=[s-f,l-d,s-f,l,s+f,l,s+f,l-d];return!!(pointInsidePolygonPoints(e,r,g)||checkInEllipse(e,r,c,c,s+a/2-u,l+o/2-u,n)||checkInEllipse(e,r,c,c,s-a/2+u,l+o/2-u,n))}}};BRp$d.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",generateUnitNgonPointsFitToSquare(3,0)),this.generateRoundPolygon("round-triangle",generateUnitNgonPointsFitToSquare(3,0)),this.generatePolygon("rectangle",generateUnitNgonPointsFitToSquare(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",generateUnitNgonPointsFitToSquare(5,0)),this.generateRoundPolygon("round-pentagon",generateUnitNgonPointsFitToSquare(5,0)),this.generatePolygon("hexagon",generateUnitNgonPointsFitToSquare(6,0)),this.generateRoundPolygon("round-hexagon",generateUnitNgonPointsFitToSquare(6,0)),this.generatePolygon("heptagon",generateUnitNgonPointsFitToSquare(7,0)),this.generateRoundPolygon("round-heptagon",generateUnitNgonPointsFitToSquare(7,0)),this.generatePolygon("octagon",generateUnitNgonPointsFitToSquare(8,0)),this.generateRoundPolygon("round-octagon",generateUnitNgonPointsFitToSquare(8,0));var n=new Array(20);{var a=generateUnitNgonPoints(5,0),o=generateUnitNgonPoints(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var l=0;l<o.length/2;l++)o[l*2]*=s,o[l*2+1]*=s;for(var l=0;l<20/4;l++)n[l*4]=a[l*2],n[l*4+1]=a[l*2+1],n[l*4+2]=o[l*2],n[l*4+3]=o[l*2+1]}n=fitPolygonToSquare(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}t.makePolygon=function(c){var f=c.join("$"),d="polygon-"+f,g;return(g=this[d])?g:e.generatePolygon(d,c)}};var BRp$e={};BRp$e.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};BRp$e.redraw=function(t){t=t||staticEmptyObject();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};BRp$e.beforeRender=function(t,e){if(!this.destroyed){e==null&&error("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,a){return a.priority-n.priority})}};var beforeRenderCallbacks=function t(e,r,n){for(var a=e.beforeRenderCallbacks,o=0;o<a.length;o++)a[o].fn(r,n)};BRp$e.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(a){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){beforeRenderCallbacks(t,!0,a);var o=performanceNow();t.render(t.renderOptions);var s=t.lastDrawTime=performanceNow();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-o),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var l=s-o;t.redrawTotalTime+=l,t.lastRedrawTime=l,t.averageRedrawTime=t.averageRedrawTime/2+l/2,t.requestedFrame=!1}else beforeRenderCallbacks(t,!1,a);t.skipFrame=!1,requestAnimationFrame(n)}};requestAnimationFrame(r)}};var BaseRenderer=function t(e){this.init(e)},BR=BaseRenderer,BRp$f=BR.prototype;BRp$f.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];BRp$f.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container();if(window$1){var n=window$1.document,a=n.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",l=n.getElementById(o)!=null;if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!l){var u=n.createElement("style");u.id=o,u.innerHTML="."+s+" { position: relative; }",a.insertBefore(u,a.children[0])}var c=window$1.getComputedStyle(r),f=c.getPropertyValue("position");f==="static"&&warn("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=number(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};BRp$f.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};BRp$f.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};BRp$f.isHeadless=function(){return!1};[BRp,BRp$a,BRp$b,BRp$c,BRp$d,BRp$e].forEach(function(t){extend(BRp$f,t)});var fullFpsTime=1e3/60,defs={setupDequeueing:function t(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var o=util(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),s=function(c,f){var d=performanceNow(),g=a.averageRedrawTime,v=a.lastRedrawTime,m=[],y=a.cy.extent(),b=a.getPixelRatio();for(c||a.flushRenderedStyleQueue();;){var E=performanceNow(),w=E-d,_=E-f;if(v<fullFpsTime){var T=fullFpsTime-(c?g:0);if(_>=e.deqFastCost*T)break}else if(c){if(w>=e.deqCost*v||w>=e.deqAvgCost*g)break}else if(_>=e.deqNoDrawCost*fullFpsTime)break;var O=e.deq(n,b,y);if(O.length>0)for(var D=0;D<O.length;D++)m.push(O[D]);else break}m.length>0&&(e.onDeqd(n,m),!c&&e.shouldRedraw(n,m,b,y)&&o())},l=e.priority||noop$1;a.beforeRender(s,l(n))}}}},ElementTextureCacheLookup=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:falsify;_classCallCheck(this,t),this.idsByKey=new Map$1,this.keyForId=new Map$1,this.cachesByLvl=new Map$1,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return _createClass(t,[{key:"getIdsFor",value:function(r){r==null&&error("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new Set$1,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),o=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(o,n),this.keyForId.set(n,o)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),o=this.getKey(r);return a!==o}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,o=n.get(r);return o||(o=new Map$1,n.set(r,o),a.push(r)),o}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),o=this.getCache(a,n);return o!=null&&this.updateKeyMappingFor(r),o}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),o=this.getCache(a,n);return o}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var o=this.getKey(r);this.setCache(o,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var o=this.doesEleInvalidateKey(r);return o&&this.invalidateKey(a),o||this.getNumberOfIdsForKey(a)===0}}]),t}(),minTxrH=25,txrStepH=50,minLvl=-4,maxLvl=3,maxZoom=7.99,eleTxrSpacing=8,defTxrWidth=1024,maxTxrW=1024,maxTxrH=1024,minUtility=.2,maxFullness=.8,maxFullnessChecks=10,deqCost=.15,deqAvgCost=.1,deqNoDrawCost=.9,deqFastCost=.9,deqRedrawThreshold=100,maxDeqSize=1,getTxrReasons={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},initDefaults=defaults({getKey:null,doesEleInvalidateKey:falsify,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:trueify,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),ElementTextureCache=function t(e,r){var n=this;n.renderer=e,n.onDequeues=[];var a=initDefaults(r);extend(n,a),n.lookup=new ElementTextureCacheLookup(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},ETCp=ElementTextureCache.prototype;ETCp.reasons=getTxrReasons;ETCp.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};ETCp.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};ETCp.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Heap(function(r,n){return n.reqs-r.reqs});return e};ETCp.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};ETCp.getElement=function(t,e,r,n,a){var o=this,s=this.renderer,l=s.cy.zoom(),u=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!o.allowEdgeTxrCaching&&t.isEdge()||!o.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(log2(l*r))),n<minLvl)n=minLvl;else if(l>=maxZoom||n>maxLvl)return null;var c=Math.pow(2,n),f=e.h*c,d=e.w*c,g=s.eleTextBiggerThanMin(t,c);if(!this.isVisible(t,g))return null;var v=u.get(t,n);if(v&&v.invalidated&&(v.invalidated=!1,v.texture.invalidatedWidth-=v.width),v)return v;var m;if(f<=minTxrH?m=minTxrH:f<=txrStepH?m=txrStepH:m=Math.ceil(f/txrStepH)*txrStepH,f>maxTxrH||d>maxTxrW)return null;var y=o.getTextureQueue(m),b=y[y.length-2],E=function(){return o.recycleTexture(m,d)||o.addTexture(m,d)};b||(b=y[y.length-1]),b||(b=E()),b.width-b.usedWidth<d&&(b=E());for(var w=function(P){return P&&P.scaledLabelShown===g},_=a&&a===getTxrReasons.dequeue,T=a&&a===getTxrReasons.highQuality,O=a&&a===getTxrReasons.downscale,D,x=n+1;x<=maxLvl;x++){var L=u.get(t,x);if(L){D=L;break}}var R=D&&D.level===n+1?D:null,C=function(){b.context.drawImage(R.texture.canvas,R.x,0,R.width,R.height,b.usedWidth,0,d,f)};if(b.context.setTransform(1,0,0,1,0,0),b.context.clearRect(b.usedWidth,0,d,m),w(R))C();else if(w(D))if(T){for(var A=D.level;A>n;A--)R=o.getElement(t,e,r,A,getTxrReasons.downscale);C()}else return o.queueElement(t,D.level-1),D;else{var S;if(!_&&!T&&!O)for(var N=n-1;N>=minLvl;N--){var $=u.get(t,N);if($){S=$;break}}if(w(S))return o.queueElement(t,n),S;b.context.translate(b.usedWidth,0),b.context.scale(c,c),this.drawElement(b.context,t,e,g,!1),b.context.scale(1/c,1/c),b.context.translate(-b.usedWidth,0)}return v={x:b.usedWidth,texture:b,level:n,scale:c,width:d,height:f,scaledLabelShown:g},b.usedWidth+=Math.ceil(d+eleTxrSpacing),b.eleCaches.push(v),u.set(t,n,v),o.checkTextureFullness(b),v};ETCp.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};ETCp.invalidateElement=function(t){var e=this,r=e.lookup,n=[],a=r.isInvalid(t);if(!!a){for(var o=minLvl;o<=maxLvl;o++){var s=r.getForCachedKey(t,o);s&&n.push(s)}var l=r.invalidate(t);if(l)for(var u=0;u<n.length;u++){var c=n[u],f=c.texture;f.invalidatedWidth+=c.width,c.invalidated=!0,e.checkTextureUtility(f)}e.removeFromQueue(t)}};ETCp.checkTextureUtility=function(t){t.invalidatedWidth>=minUtility*t.width&&this.retireTexture(t)};ETCp.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>maxFullness&&t.fullnessChecks>=maxFullnessChecks?removeFromArray(r,t):t.fullnessChecks++};ETCp.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),a=this.lookup;removeFromArray(n,t),t.retired=!0;for(var o=t.eleCaches,s=0;s<o.length;s++){var l=o[s];a.deleteCache(l.key,l.level)}clearArray(o);var u=e.getRetiredTextureQueue(r);u.push(t)};ETCp.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),a={};return n.push(a),a.eleCaches=[],a.height=t,a.width=Math.max(defTxrWidth,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};ETCp.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),a=r.getRetiredTextureQueue(t),o=0;o<a.length;o++){var s=a[o];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,clearArray(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),removeFromArray(a,s),n.push(s),s}};ETCp.queueElement=function(t,e){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),o=this.getKey(t),s=a[o];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var l={eles:t.spawn().merge(t),level:e,reqs:1,key:o};n.push(l),a[o]=l}};ETCp.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],o=e.lookup,s=0;s<maxDeqSize&&r.size()>0;s++){var l=r.pop(),u=l.key,c=l.eles[0],f=o.hasCache(c,l.level);if(n[u]=null,f)continue;a.push(l);var d=e.getBoundingBox(c);e.getElement(c,d,t,l.level,getTxrReasons.dequeue)}return a};ETCp.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(t),o=n[a];o!=null&&(o.eles.length===1?(o.reqs=MAX_INT,r.updateItem(o),r.pop(),n[a]=null):o.eles.unmerge(t))};ETCp.onDequeue=function(t){this.onDequeues.push(t)};ETCp.offDequeue=function(t){removeFromArray(this.onDequeues,t)};ETCp.setupDequeueing=defs.setupDequeueing({deqRedrawThreshold,deqCost,deqAvgCost,deqNoDrawCost,deqFastCost,deq:function t(e,r,n){return e.dequeue(r,n)},onDeqd:function t(e,r){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(r)}},shouldRedraw:function t(e,r,n,a){for(var o=0;o<r.length;o++)for(var s=r[o].eles,l=0;l<s.length;l++){var u=s[l].boundingBox();if(boundingBoxesIntersect(u,a))return!0}return!1},priority:function t(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var defNumLayers=1,minLvl$1=-4,maxLvl$1=2,maxZoom$1=3.99,deqRedrawThreshold$1=50,refineEleDebounceTime=50,deqCost$1=.15,deqAvgCost$1=.1,deqNoDrawCost$1=.9,deqFastCost$1=.9,maxDeqSize$1=1,invalidThreshold=250,maxLayerArea=4e3*4e3,useHighQualityEleTxrReqs=!0,LayeredTextureCache=function t(e){var r=this,n=r.renderer=e,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=performanceNow()-2*invalidThreshold,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=util(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},refineEleDebounceTime),n.beforeRender(function(s,l){l-r.lastInvalidationTime<=invalidThreshold?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var o=function(l,u){return u.reqs-l.reqs};r.layersQueue=new Heap(o),r.setupDequeueing()},LTCp=LayeredTextureCache.prototype,layerIdPool=0,MAX_INT$1=Math.pow(2,53)-1;LTCp.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),a=Math.ceil(t.h*r),o=this.renderer.makeOffscreenCanvas(n,a),s={id:layerIdPool=++layerIdPool%MAX_INT$1,bb:t,level:e,width:n,height:a,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},l=s.context,u=-s.bb.x1,c=-s.bb.y1;return l.scale(r,r),l.translate(u,c),s};LTCp.getLayers=function(t,e,r){var n=this,a=n.renderer,o=a.cy,s=o.zoom(),l=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(log2(s*e)),r<minLvl$1)r=minLvl$1;else if(s>=maxZoom$1||r>maxLvl$1)return null}n.validateLayersElesOrdering(r,t);var u=n.layersByLevel,c=Math.pow(2,r),f=u[r]=u[r]||[],d,g=n.levelIsComplete(r,t),v,m=function(){var C=function(B){if(n.validateLayersElesOrdering(B,t),n.levelIsComplete(B,t))return v=u[B],!0},A=function(B){if(!v)for(var P=r+B;minLvl$1<=P&&P<=maxLvl$1&&!C(P);P+=B);};A(1),A(-1);for(var S=f.length-1;S>=0;S--){var N=f[S];N.invalid&&removeFromArray(f,N)}};if(!g)m();else return f;var y=function(){if(!d){d=makeBoundingBox();for(var C=0;C<t.length;C++)updateBoundingBox(d,t[C].boundingBox())}return d},b=function(C){C=C||{};var A=C.after;y();var S=d.w*c*(d.h*c);if(S>maxLayerArea)return null;var N=n.makeLayer(d,r);if(A!=null){var $=f.indexOf(A)+1;f.splice($,0,N)}else(C.insert===void 0||C.insert)&&f.unshift(N);return N};if(n.skipping&&!l)return null;for(var E=null,w=t.length/defNumLayers,_=!l,T=0;T<t.length;T++){var O=t[T],D=O._private.rscratch,x=D.imgLayerCaches=D.imgLayerCaches||{},L=x[r];if(L){E=L;continue}if((!E||E.eles.length>=w||!boundingBoxInBoundingBox(E.bb,O.boundingBox()))&&(E=b({insert:!0,after:E}),!E))return null;v||_?n.queueLayer(E,O):n.drawEleInLayer(E,O,r,e),E.eles.push(O),x[r]=E}return v||(_?null:f)};LTCp.getEleLevelForLayerLevel=function(t,e){return t};LTCp.drawEleInLayer=function(t,e,r,n){var a=this,o=this.renderer,s=t.context,l=e.boundingBox();l.w===0||l.h===0||!e.visible()||(r=a.getEleLevelForLayerLevel(r,n),o.setImgSmoothing(s,!1),o.drawCachedElement(s,e,null,null,r,useHighQualityEleTxrReqs),o.setImgSmoothing(s,!0))};LTCp.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var a=0,o=0;o<n.length;o++){var s=n[o];if(s.reqs>0||s.invalid)return!1;a+=s.eles.length}return a===e.length};LTCp.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(!!r)for(var n=0;n<r.length;n++){for(var a=r[n],o=-1,s=0;s<e.length;s++)if(a.eles[0]===e[s]){o=s;break}if(o<0){this.invalidateLayer(a);continue}for(var l=o,s=0;s<a.eles.length;s++)if(a.eles[s]!==e[l+s]){this.invalidateLayer(a);break}}};LTCp.updateElementsInLayers=function(t,e){for(var r=this,n=element(t[0]),a=0;a<t.length;a++)for(var o=n?null:t[a],s=n?t[a]:t[a].ele,l=s._private.rscratch,u=l.imgLayerCaches=l.imgLayerCaches||{},c=minLvl$1;c<=maxLvl$1;c++){var f=u[c];!f||o&&r.getEleLevelForLayerLevel(f.level)!==o.level||e(f,s,o)}};LTCp.haveLayers=function(){for(var t=this,e=!1,r=minLvl$1;r<=maxLvl$1;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};LTCp.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=performanceNow(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,a,o){e.invalidateLayer(n)}))};LTCp.invalidateLayer=function(t){if(this.lastInvalidationTime=performanceNow(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];removeFromArray(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var a=0;a<r.length;a++){var o=r[a]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}};LTCp.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,a,o){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var l=0;l<s.eles.length;l++)e.queueLayer(s,s.eles[l])})};LTCp.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};LTCp.queueLayer=function(t,e){var r=this,n=r.layersQueue,a=t.elesQueue,o=a.hasId=a.hasId||{};if(!t.replacement){if(e){if(o[e.id()])return;a.push(e),o[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};LTCp.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],a=0;a<maxDeqSize$1&&r.size()!==0;){var o=r.peek();if(o.replacement){r.pop();continue}if(o.replaces&&o!==o.replaces.replacement){r.pop();continue}if(o.invalid){r.pop();continue}var s=o.elesQueue.shift();s&&(e.drawEleInLayer(o,s,o.level,t),a++),n.length===0&&n.push(!0),o.elesQueue.length===0&&(r.pop(),o.reqs=0,o.replaces&&e.applyLayerReplacement(o),e.requestRedraw())}return n};LTCp.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=t;for(var o=0;o<t.eles.length;o++){var s=t.eles[o]._private,l=s.imgLayerCaches=s.imgLayerCaches||{};l&&(l[t.level]=t)}e.requestRedraw()}};LTCp.requestRedraw=util(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);LTCp.setupDequeueing=defs.setupDequeueing({deqRedrawThreshold:deqRedrawThreshold$1,deqCost:deqCost$1,deqAvgCost:deqAvgCost$1,deqNoDrawCost:deqNoDrawCost$1,deqFastCost:deqFastCost$1,deq:function t(e,r){return e.dequeue(r)},onDeqd:noop$1,shouldRedraw:trueify,priority:function t(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var CRp={},impl;function polygon(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function triangleBackcurve(t,e,r){for(var n,a=0;a<e.length;a++){var o=e[a];a===0&&(n=o),t.lineTo(o.x,o.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function triangleTee(t,e,r){t.beginPath&&t.beginPath();for(var n=e,a=0;a<n.length;a++){var o=n[a];t.lineTo(o.x,o.y)}var s=r,l=r[0];t.moveTo(l.x,l.y);for(var a=1;a<s.length;a++){var o=s[a];t.lineTo(o.x,o.y)}t.closePath&&t.closePath()}function circleTriangle(t,e,r,n,a){t.beginPath&&t.beginPath(),t.arc(r,n,a,0,Math.PI*2,!1);var o=e,s=o[0];t.moveTo(s.x,s.y);for(var l=0;l<o.length;l++){var u=o[l];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function circle(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}CRp.arrowShapeImpl=function(t){return(impl||(impl={polygon,"triangle-backcurve":triangleBackcurve,"triangle-tee":triangleTee,"circle-triangle":circleTriangle,"triangle-cross":triangleTee,circle}))[t]};var CRp$1={};CRp$1.drawElement=function(t,e,r,n,a,o){var s=this;e.isNode()?s.drawNode(t,e,r,n,a,o):s.drawEdge(t,e,r,n,a,o)};CRp$1.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};CRp$1.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};CRp$1.drawCachedElementPortion=function(t,e,r,n,a,o,s,l){var u=this,c=r.getBoundingBox(e);if(!(c.w===0||c.h===0)){var f=r.getElement(e,c,n,a,o);if(f!=null){var d=l(u,e);if(d===0)return;var g=s(u,e),v=c.x1,m=c.y1,y=c.w,b=c.h,E,w,_,T,O;if(g!==0){var D=r.getRotationPoint(e);_=D.x,T=D.y,t.translate(_,T),t.rotate(g),O=u.getImgSmoothing(t),O||u.setImgSmoothing(t,!0);var x=r.getRotationOffset(e);E=x.x,w=x.y}else E=v,w=m;var L;d!==1&&(L=t.globalAlpha,t.globalAlpha=L*d),t.drawImage(f.texture.canvas,f.x,0,f.width,f.height,E,w,y,b),d!==1&&(t.globalAlpha=L),g!==0&&(t.rotate(-g),t.translate(-_,-T),O||u.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var getZeroRotation=function t(){return 0},getLabelRotation=function t(e,r){return e.getTextAngle(r,null)},getSourceLabelRotation=function t(e,r){return e.getTextAngle(r,"source")},getTargetLabelRotation=function t(e,r){return e.getTextAngle(r,"target")},getOpacity=function t(e,r){return r.effectiveOpacity()},getTextOpacity=function t(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};CRp$1.drawCachedElement=function(t,e,r,n,a,o){var s=this,l=s.data,u=l.eleTxrCache,c=l.lblTxrCache,f=l.slbTxrCache,d=l.tlbTxrCache,g=e.boundingBox(),v=o===!0?u.reasons.highQuality:null;if(!(g.w===0||g.h===0||!e.visible())&&(!n||boundingBoxesIntersect(g,n))){var m=e.isEdge(),y=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,u,r,a,v,getZeroRotation,getOpacity),(!m||!y)&&s.drawCachedElementPortion(t,e,c,r,a,v,getLabelRotation,getTextOpacity),m&&!y&&(s.drawCachedElementPortion(t,e,f,r,a,v,getSourceLabelRotation,getTextOpacity),s.drawCachedElementPortion(t,e,d,r,a,v,getTargetLabelRotation,getTextOpacity)),s.drawElementOverlay(t,e)}};CRp$1.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var a=e[n];r.drawElement(t,a)}};CRp$1.drawCachedElements=function(t,e,r,n){for(var a=this,o=0;o<e.length;o++){var s=e[o];a.drawCachedElement(t,s,r,n)}};CRp$1.drawCachedNodes=function(t,e,r,n){for(var a=this,o=0;o<e.length;o++){var s=e[o];!s.isNode()||a.drawCachedElement(t,s,r,n)}};CRp$1.drawLayeredElements=function(t,e,r,n){var a=this,o=a.data.lyrTxrCache.getLayers(e,r);if(o)for(var s=0;s<o.length;s++){var l=o[s],u=l.bb;u.w===0||u.h===0||t.drawImage(l.canvas,u.x1,u.y1,u.w,u.h)}else a.drawCachedElements(t,e,r,n)};var CRp$2={};CRp$2.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,l=e._private.rscratch;if(!(o&&!e.visible())&&!(l.badLine||l.allpts==null||isNaN(l.allpts[0]))){var u;r&&(u=r,t.translate(-u.x1,-u.y1));var c=o?e.pstyle("opacity").value:1,f=o?e.pstyle("line-opacity").value:1,d=e.pstyle("curve-style").value,g=e.pstyle("line-style").value,v=e.pstyle("width").pfValue,m=e.pstyle("line-cap").value,y=c*f,b=c*f,E=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;d==="straight-triangle"?(s.eleStrokeStyle(t,e,S),s.drawEdgeTrianglePath(e,t,l.allpts)):(t.lineWidth=v,t.lineCap=m,s.eleStrokeStyle(t,e,S),s.drawEdgePath(e,t,l.allpts,g),t.lineCap="butt")},w=function(){!a||s.drawEdgeOverlay(t,e)},_=function(){!a||s.drawEdgeUnderlay(t,e)},T=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;s.drawArrowheads(t,e,S)},O=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var D=e.pstyle("ghost").value==="yes";if(D){var x=e.pstyle("ghost-offset-x").pfValue,L=e.pstyle("ghost-offset-y").pfValue,R=e.pstyle("ghost-opacity").value,C=y*R;t.translate(x,L),E(C),T(C),t.translate(-x,-L)}_(),E(),T(),w(),O(),r&&t.translate(u.x1,u.y1)}};var drawEdgeOverlayUnderlay=function t(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(!!n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var o=this,s=o.usePaths(),l=n._private.rscratch,u=n.pstyle("".concat(e,"-padding")).pfValue,c=2*u,f=n.pstyle("".concat(e,"-color")).value;r.lineWidth=c,l.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",o.colorStrokeStyle(r,f[0],f[1],f[2],a),o.drawEdgePath(n,r,l.allpts,"solid")}}}};CRp$2.drawEdgeOverlay=drawEdgeOverlayUnderlay("overlay");CRp$2.drawEdgeUnderlay=drawEdgeOverlayUnderlay("underlay");CRp$2.drawEdgePath=function(t,e,r,n){var a=t._private.rscratch,o=e,s,l=!1,u=this.usePaths(),c=t.pstyle("line-dash-pattern").pfValue,f=t.pstyle("line-dash-offset").pfValue;if(u){var d=r.join("$"),g=a.pathCacheKey&&a.pathCacheKey===d;g?(s=e=a.pathCache,l=!0):(s=e=new Path2D,a.pathCacheKey=d,a.pathCache=s)}if(o.setLineDash)switch(n){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(c),o.lineDashOffset=f;break;case"solid":o.setLineDash([]);break}if(!l&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var v=2;v+3<r.length;v+=4)e.quadraticCurveTo(r[v],r[v+1],r[v+2],r[v+3]);break;case"straight":case"segments":case"haystack":for(var m=2;m+1<r.length;m+=2)e.lineTo(r[m],r[m+1]);break}e=o,u?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};CRp$2.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var o=[r[a+2]-r[a],r[a+3]-r[a+1]],s=Math.sqrt(o[0]*o[0]+o[1]*o[1]),l=[o[1]/s,-o[0]/s],u=[l[0]*n/2,l[1]*n/2];e.beginPath(),e.moveTo(r[a]-u[0],r[a+1]-u[1]),e.lineTo(r[a]+u[0],r[a+1]+u[1]),e.lineTo(r[a+2],r[a+3]),e.closePath(),e.fill()}};CRp$2.drawArrowheads=function(t,e,r){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};CRp$2.drawArrowhead=function(t,e,r,n,a,o,s){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(o)||o==null)){var l=this,u=e.pstyle(r+"-arrow-shape").value;if(u!=="none"){var c=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",f=e.pstyle(r+"-arrow-fill").value,d=e.pstyle("width").pfValue,g=e.pstyle("opacity").value;s===void 0&&(s=g);var v=t.globalCompositeOperation;(s!==1||f==="hollow")&&(t.globalCompositeOperation="destination-out",l.colorFillStyle(t,255,255,255,1),l.colorStrokeStyle(t,255,255,255,1),l.drawArrowShape(e,t,c,d,u,n,a,o),t.globalCompositeOperation=v);var m=e.pstyle(r+"-arrow-color").value;l.colorFillStyle(t,m[0],m[1],m[2],s),l.colorStrokeStyle(t,m[0],m[1],m[2],s),l.drawArrowShape(e,t,f,d,u,n,a,o)}}};CRp$2.drawArrowShape=function(t,e,r,n,a,o,s,l){var u=this,c=this.usePaths()&&a!=="triangle-cross",f=!1,d,g=e,v={x:o,y:s},m=t.pstyle("arrow-scale").value,y=this.getArrowWidth(n,m),b=u.arrowShapes[a];if(c){var E=u.arrowPathCache=u.arrowPathCache||[],w=hashString(a),_=E[w];_!=null?(d=e=_,f=!0):(d=e=new Path2D,E[w]=d)}f||(e.beginPath&&e.beginPath(),c?b.draw(e,1,0,{x:0,y:0},1):b.draw(e,y,l,v,n),e.closePath&&e.closePath()),e=g,c&&(e.translate(o,s),e.rotate(l),e.scale(y,y)),(r==="filled"||r==="both")&&(c?e.fill(d):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=(b.matchEdgeWidth?n:1)/(c?y:1),e.lineJoin="miter",c?e.stroke(d):e.stroke()),c&&(e.scale(1/y,1/y),e.rotate(-l),e.translate(-o,-s))};var CRp$3={};CRp$3.safeDrawImage=function(t,e,r,n,a,o,s,l,u,c){a<=0||o<=0||u<=0||c<=0||t.drawImage(e,r,n,a,o,s,l,u,c)};CRp$3.drawInscribedImage=function(t,e,r,n,a){var o=this,s=r.position(),l=s.x,u=s.y,c=r.cy().style(),f=c.getIndexedStyle.bind(c),d=f(r,"background-fit","value",n),g=f(r,"background-repeat","value",n),v=r.width(),m=r.height(),y=r.padding()*2,b=v+(f(r,"background-width-relative-to","value",n)==="inner"?0:y),E=m+(f(r,"background-height-relative-to","value",n)==="inner"?0:y),w=r._private.rscratch,_=f(r,"background-clip","value",n),T=_==="node",O=f(r,"background-image-opacity","value",n)*a,D=f(r,"background-image-smoothing","value",n),x=e.width||e.cachedW,L=e.height||e.cachedH;(x==null||L==null)&&(document.body.appendChild(e),x=e.cachedW=e.width||e.offsetWidth,L=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var R=x,C=L;if(f(r,"background-width","value",n)!=="auto"&&(f(r,"background-width","units",n)==="%"?R=f(r,"background-width","pfValue",n)*b:R=f(r,"background-width","pfValue",n)),f(r,"background-height","value",n)!=="auto"&&(f(r,"background-height","units",n)==="%"?C=f(r,"background-height","pfValue",n)*E:C=f(r,"background-height","pfValue",n)),!(R===0||C===0)){if(d==="contain"){var A=Math.min(b/R,E/C);R*=A,C*=A}else if(d==="cover"){var A=Math.max(b/R,E/C);R*=A,C*=A}var S=l-b/2,N=f(r,"background-position-x","units",n),$=f(r,"background-position-x","pfValue",n);N==="%"?S+=(b-R)*$:S+=$;var B=f(r,"background-offset-x","units",n),P=f(r,"background-offset-x","pfValue",n);B==="%"?S+=(b-R)*P:S+=P;var k=u-E/2,H=f(r,"background-position-y","units",n),G=f(r,"background-position-y","pfValue",n);H==="%"?k+=(E-C)*G:k+=G;var W=f(r,"background-offset-y","units",n),U=f(r,"background-offset-y","pfValue",n);W==="%"?k+=(E-C)*U:k+=U,w.pathCache&&(S-=l,k-=u,l=0,u=0);var X=t.globalAlpha;t.globalAlpha=O;var ee=o.getImgSmoothing(t),te=!1;if(D==="no"&&ee?(o.setImgSmoothing(t,!1),te=!0):D==="yes"&&!ee&&(o.setImgSmoothing(t,!0),te=!0),g==="no-repeat")T&&(t.save(),w.pathCache?t.clip(w.pathCache):(o.nodeShapes[o.getNodeShape(r)].draw(t,l,u,b,E),t.clip())),o.safeDrawImage(t,e,0,0,x,L,S,k,R,C),T&&t.restore();else{var V=t.createPattern(e,g);t.fillStyle=V,o.nodeShapes[o.getNodeShape(r)].draw(t,l,u,b,E),t.translate(S,k),t.fill(),t.translate(-S,-k)}t.globalAlpha=X,te&&o.setImgSmoothing(t,ee)}};var CRp$4={};CRp$4.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(log2(r*n));e=Math.pow(2,a)}var o=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(o<s)};CRp$4.drawElementText=function(t,e,r,n,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(o&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var l=e.pstyle("label");if(!l||!l.value)return;var u=s.getLabelJustification(e);t.textAlign=u,t.textBaseline="bottom"}else{var c=e.element()._private.rscratch.badLine,f=e.pstyle("label"),d=e.pstyle("source-label"),g=e.pstyle("target-label");if(c||(!f||!f.value)&&(!d||!d.value)&&(!g||!g.value))return;t.textAlign="center",t.textBaseline="bottom"}var v=!r,m;r&&(m=r,t.translate(-m.x1,-m.y1)),a==null?(s.drawText(t,e,null,v,o),e.isEdge()&&(s.drawText(t,e,"source",v,o),s.drawText(t,e,"target",v,o))):s.drawText(t,e,a,v,o),r&&t.translate(m.x1,m.y1)};CRp$4.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};CRp$4.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,l=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*l,c=e.pstyle("color").value,f=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+a+" "+o,t.lineJoin="round",this.colorFillStyle(t,c[0],c[1],c[2],l),this.colorStrokeStyle(t,f[0],f[1],f[2],u)};function roundRect(t,e,r,n,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5;t.beginPath(),t.moveTo(e+o,r),t.lineTo(e+n-o,r),t.quadraticCurveTo(e+n,r,e+n,r+o),t.lineTo(e+n,r+a-o),t.quadraticCurveTo(e+n,r+a,e+n-o,r+a),t.lineTo(e+o,r+a),t.quadraticCurveTo(e,r+a,e,r+a-o),t.lineTo(e,r+o),t.quadraticCurveTo(e,r,e+o,r),t.closePath(),t.fill()}CRp$4.getTextAngle=function(t,e){var r,n=t._private,a=n.rscratch,o=e?e+"-":"",s=t.pstyle(o+"text-rotation"),l=getPrefixedProperty(a,"labelAngle",e);return s.strValue==="autorotate"?r=t.isEdge()?l:0:s.strValue==="none"?r=0:r=s.pfValue,r};CRp$4.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=e._private,s=o.rscratch,l=a?e.effectiveOpacity():1;if(!(a&&(l===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=getPrefixedProperty(s,"labelX",r),c=getPrefixedProperty(s,"labelY",r),f,d,g=this.getLabelText(e,r);if(g!=null&&g!==""&&!isNaN(u)&&!isNaN(c)){this.setupTextStyle(t,e,a);var v=r?r+"-":"",m=getPrefixedProperty(s,"labelWidth",r),y=getPrefixedProperty(s,"labelHeight",r),b=e.pstyle(v+"text-margin-x").pfValue,E=e.pstyle(v+"text-margin-y").pfValue,w=e.isEdge(),_=e.pstyle("text-halign").value,T=e.pstyle("text-valign").value;w&&(_="center",T="center"),u+=b,c+=E;var O;switch(n?O=this.getTextAngle(e,r):O=0,O!==0&&(f=u,d=c,t.translate(f,d),t.rotate(O),u=0,c=0),T){case"top":break;case"center":c+=y/2;break;case"bottom":c+=y;break}var D=e.pstyle("text-background-opacity").value,x=e.pstyle("text-border-opacity").value,L=e.pstyle("text-border-width").pfValue,R=e.pstyle("text-background-padding").pfValue;if(D>0||L>0&&x>0){var C=u-R;switch(_){case"left":C-=m;break;case"center":C-=m/2;break}var A=c-y-R,S=m+2*R,N=y+2*R;if(D>0){var $=t.fillStyle,B=e.pstyle("text-background-color").value;t.fillStyle="rgba("+B[0]+","+B[1]+","+B[2]+","+D*l+")";var P=e.pstyle("text-background-shape").strValue;P.indexOf("round")===0?roundRect(t,C,A,S,N,2):t.fillRect(C,A,S,N),t.fillStyle=$}if(L>0&&x>0){var k=t.strokeStyle,H=t.lineWidth,G=e.pstyle("text-border-color").value,W=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+G[0]+","+G[1]+","+G[2]+","+x*l+")",t.lineWidth=L,t.setLineDash)switch(W){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=L/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(t.strokeRect(C,A,S,N),W==="double"){var U=L/2;t.strokeRect(C+U,A+U,S-U*2,N-U*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=H,t.strokeStyle=k}}var X=2*e.pstyle("text-outline-width").pfValue;if(X>0&&(t.lineWidth=X),e.pstyle("text-wrap").value==="wrap"){var ee=getPrefixedProperty(s,"labelWrapCachedLines",r),te=getPrefixedProperty(s,"labelLineHeight",r),V=m/2,Y=this.getLabelJustification(e);switch(Y==="auto"||(_==="left"?Y==="left"?u+=-m:Y==="center"&&(u+=-V):_==="center"?Y==="left"?u+=-V:Y==="right"&&(u+=V):_==="right"&&(Y==="center"?u+=V:Y==="right"&&(u+=m))),T){case"top":c-=(ee.length-1)*te;break;case"center":case"bottom":c-=(ee.length-1)*te;break}for(var F=0;F<ee.length;F++)X>0&&t.strokeText(ee[F],u,c),t.fillText(ee[F],u,c),c+=te}else X>0&&t.strokeText(g,u,c),t.fillText(g,u,c);O!==0&&(t.rotate(-O),t.translate(-f,-d))}}};var CRp$5={};CRp$5.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,l,u,c=e._private,f=c.rscratch,d=e.position();if(!(!number(d.x)||!number(d.y))&&!(o&&!e.visible())){var g=o?e.effectiveOpacity():1,v=s.usePaths(),m,y=!1,b=e.padding();l=e.width()+2*b,u=e.height()+2*b;var E;r&&(E=r,t.translate(-E.x1,-E.y1));for(var w=e.pstyle("background-image"),_=w.value,T=new Array(_.length),O=new Array(_.length),D=0,x=0;x<_.length;x++){var L=_[x],R=T[x]=L!=null&&L!=="none";if(R){var C=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",x);D++,O[x]=s.getCachedImage(L,C,function(){c.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var A=e.pstyle("background-blacken").value,S=e.pstyle("border-width").pfValue,N=e.pstyle("background-opacity").value*g,$=e.pstyle("border-color").value,B=e.pstyle("border-style").value,P=e.pstyle("border-opacity").value*g;t.lineJoin="miter";var k=function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N;s.eleFillStyle(t,e,ce)},H=function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:P;s.colorStrokeStyle(t,$[0],$[1],$[2],ce)},G=e.pstyle("shape").strValue,W=e.pstyle("shape-polygon-points").pfValue;if(v){t.translate(d.x,d.y);var U=s.nodePathCache=s.nodePathCache||[],X=hashStrings(G==="polygon"?G+","+W.join(","):G,""+u,""+l),ee=U[X];ee!=null?(m=ee,y=!0,f.pathCache=m):(m=new Path2D,U[X]=f.pathCache=m)}var te=function(){if(!y){var ce=d;v&&(ce={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(m||t,ce.x,ce.y,l,u)}v?t.fill(m):t.fill()},V=function(){for(var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ae=c.backgrounding,pe=0,ue=0;ue<O.length;ue++){var se=e.cy().style().getIndexedStyle(e,"background-image-containment","value",ue);if(ne&&se==="over"||!ne&&se==="inside"){pe++;continue}T[ue]&&O[ue].complete&&!O[ue].error&&(pe++,s.drawInscribedImage(t,O[ue],e,ue,ce))}c.backgrounding=pe!==D,ae!==c.backgrounding&&e.updateStyle(!1)},Y=function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;s.hasPie(e)&&(s.drawPie(t,e,ne),ce&&(v||s.nodeShapes[s.getNodeShape(e)].draw(t,d.x,d.y,l,u)))},F=function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,ne=(A>0?A:-A)*ce,ae=A>0?0:255;A!==0&&(s.colorFillStyle(t,ae,ae,ae,ne),v?t.fill(m):t.fill())},j=function(){if(S>0){if(t.lineWidth=S,t.lineCap="butt",t.setLineDash)switch(B){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}if(v?t.stroke(m):t.stroke(),B==="double"){t.lineWidth=S/3;var ce=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",v?t.stroke(m):t.stroke(),t.globalCompositeOperation=ce}t.setLineDash&&t.setLineDash([])}},J=function(){a&&s.drawNodeOverlay(t,e,d,l,u)},de=function(){a&&s.drawNodeUnderlay(t,e,d,l,u)},re=function(){s.drawElementText(t,e,null,n)},ve=e.pstyle("ghost").value==="yes";if(ve){var z=e.pstyle("ghost-offset-x").pfValue,I=e.pstyle("ghost-offset-y").pfValue,q=e.pstyle("ghost-opacity").value,ie=q*g;t.translate(z,I),k(q*N),te(),V(ie,!0),H(q*P),j(),Y(A!==0||S!==0),V(ie,!1),F(ie),t.translate(-z,-I)}v&&t.translate(-d.x,-d.y),de(),v&&t.translate(d.x,d.y),k(),te(),V(g,!0),H(),j(),Y(A!==0||S!==0),V(g,!1),F(),v&&t.translate(-d.x,-d.y),re(),J(),r&&t.translate(E.x1,E.y1)}};var drawNodeOverlayUnderlay=function t(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,a,o,s){var l=this;if(!!n.visible()){var u=n.pstyle("".concat(e,"-padding")).pfValue,c=n.pstyle("".concat(e,"-opacity")).value,f=n.pstyle("".concat(e,"-color")).value,d=n.pstyle("".concat(e,"-shape")).value;if(c>0){if(a=a||n.position(),o==null||s==null){var g=n.padding();o=n.width()+2*g,s=n.height()+2*g}l.colorFillStyle(r,f[0],f[1],f[2],c),l.nodeShapes[d].draw(r,a.x,a.y,o+u*2,s+u*2),r.fill()}}}};CRp$5.drawNodeOverlay=drawNodeOverlayUnderlay("overlay");CRp$5.drawNodeUnderlay=drawNodeOverlayUnderlay("underlay");CRp$5.hasPie=function(t){return t=t[0],t._private.hasPie};CRp$5.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),o=e.pstyle("pie-size"),s=n.x,l=n.y,u=e.width(),c=e.height(),f=Math.min(u,c)/2,d=0,g=this.usePaths();g&&(s=0,l=0),o.units==="%"?f=f*o.pfValue:o.pfValue!==void 0&&(f=o.pfValue/2);for(var v=1;v<=a.pieBackgroundN;v++){var m=e.pstyle("pie-"+v+"-background-size").value,y=e.pstyle("pie-"+v+"-background-color").value,b=e.pstyle("pie-"+v+"-background-opacity").value*r,E=m/100;E+d>1&&(E=1-d);var w=1.5*Math.PI+2*Math.PI*d,_=2*Math.PI*E,T=w+_;m===0||d>=1||d+E>1||(t.beginPath(),t.moveTo(s,l),t.arc(s,l,f,w,T),t.closePath(),this.colorFillStyle(t,y[0],y[1],y[2],b),t.fill(),d+=E)}};var CRp$6={},motionBlurDelay=100;CRp$6.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e};CRp$6.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};CRp$6.createGradientStyleFor=function(t,e,r,n,a){var o,s=this.usePaths(),l=r.pstyle(e+"-gradient-stop-colors").value,u=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var c=r.sourceEndpoint(),f=r.targetEndpoint(),d=r.midpoint(),g=dist$1(c,d),v=dist$1(f,d);o=t.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(g,v))}else{var m=s?{x:0,y:0}:r.position(),y=r.paddedWidth(),b=r.paddedHeight();o=t.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(y,b))}else if(r.isEdge()){var E=r.sourceEndpoint(),w=r.targetEndpoint();o=t.createLinearGradient(E.x,E.y,w.x,w.y)}else{var _=s?{x:0,y:0}:r.position(),T=r.paddedWidth(),O=r.paddedHeight(),D=T/2,x=O/2,L=r.pstyle("background-gradient-direction").value;switch(L){case"to-bottom":o=t.createLinearGradient(_.x,_.y-x,_.x,_.y+x);break;case"to-top":o=t.createLinearGradient(_.x,_.y+x,_.x,_.y-x);break;case"to-left":o=t.createLinearGradient(_.x+D,_.y,_.x-D,_.y);break;case"to-right":o=t.createLinearGradient(_.x-D,_.y,_.x+D,_.y);break;case"to-bottom-right":case"to-right-bottom":o=t.createLinearGradient(_.x-D,_.y-x,_.x+D,_.y+x);break;case"to-top-right":case"to-right-top":o=t.createLinearGradient(_.x-D,_.y+x,_.x+D,_.y-x);break;case"to-bottom-left":case"to-left-bottom":o=t.createLinearGradient(_.x+D,_.y-x,_.x-D,_.y+x);break;case"to-top-left":case"to-left-top":o=t.createLinearGradient(_.x+D,_.y+x,_.x-D,_.y-x);break}}if(!o)return null;for(var R=u.length===l.length,C=l.length,A=0;A<C;A++)o.addColorStop(R?u[A]:A/(C-1),"rgba("+l[A][0]+","+l[A][1]+","+l[A][2]+","+a+")");return o};CRp$6.gradientFillStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"background",e,r,n);if(!a)return null;t.fillStyle=a};CRp$6.colorFillStyle=function(t,e,r,n,a){t.fillStyle="rgba("+e+","+r+","+n+","+a+")"};CRp$6.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var a=e.pstyle("background-color").value;this.colorFillStyle(t,a[0],a[1],a[2],r)}};CRp$6.gradientStrokeStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"line",e,r,n);if(!a)return null;t.strokeStyle=a};CRp$6.colorStrokeStyle=function(t,e,r,n,a){t.strokeStyle="rgba("+e+","+r+","+n+","+a+")"};CRp$6.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(t,a[0],a[1],a[2],r)}};CRp$6.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),a=n[2],o=n[3],s=e.getPixelRatio(),l=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=l);var u=a*s,c=o*s,f;if(!(u===e.canvasWidth&&c===e.canvasHeight)){e.fontCaches=null;var d=r.canvasContainer;d.style.width=a+"px",d.style.height=o+"px";for(var g=0;g<e.CANVAS_LAYERS;g++)f=r.canvases[g],f.width=u,f.height=c,f.style.width=a+"px",f.style.height=o+"px";for(var g=0;g<e.BUFFER_COUNT;g++)f=r.bufferCanvases[g],f.width=u,f.height=c,f.style.width=a+"px",f.style.height=o+"px";e.textureMult=1,s<=1&&(f=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,f.width=u*e.textureMult,f.height=c*e.textureMult),e.canvasWidth=u,e.canvasHeight=c}};CRp$6.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};CRp$6.render=function(t){t=t||staticEmptyObject();var e=t.forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,a=t.forcedZoom,o=t.forcedPan,s=this,l=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,u=s.cy,c=s.data,f=c.canvasNeedsRedraw,d=s.textureOnViewport&&!e&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),g=t.motionBlur!==void 0?t.motionBlur:s.motionBlur,v=s.motionBlurPxRatio,m=u.hasCompoundNodes(),y=s.hoverData.draggingEles,b=!!(s.hoverData.selecting||s.touchData.selecting);g=g&&!e&&s.motionBlurEnabled&&!b;var E=g;e||(s.prevPxRatio!==l&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=l),!e&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),g&&(s.mbFrames==null&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(E=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!d&&(f[s.NODE]=!0,f[s.SELECT_BOX]=!0);var w=u.style(),_=u.zoom(),T=a!==void 0?a:_,O=u.pan(),D={x:O.x,y:O.y},x={zoom:_,pan:{x:O.x,y:O.y}},L=s.prevViewport,R=L===void 0||x.zoom!==L.zoom||x.pan.x!==L.pan.x||x.pan.y!==L.pan.y;!R&&!(y&&!m)&&(s.motionBlurPxRatio=1),o&&(D=o),T*=l,D.x*=l,D.y*=l;var C=s.getCachedZSortedEles();function A(I,q,ie,oe,ce){var ne=I.globalCompositeOperation;I.globalCompositeOperation="destination-out",s.colorFillStyle(I,255,255,255,s.motionBlurTransparency),I.fillRect(q,ie,oe,ce),I.globalCompositeOperation=ne}function S(I,q){var ie,oe,ce,ne;!s.clearingMotionBlur&&(I===c.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]||I===c.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG])?(ie={x:O.x*v,y:O.y*v},oe=_*v,ce=s.canvasWidth*v,ne=s.canvasHeight*v):(ie=D,oe=T,ce=s.canvasWidth,ne=s.canvasHeight),I.setTransform(1,0,0,1,0,0),q==="motionBlur"?A(I,0,0,ce,ne):!e&&(q===void 0||q)&&I.clearRect(0,0,ce,ne),r||(I.translate(ie.x,ie.y),I.scale(oe,oe)),o&&I.translate(o.x,o.y),a&&I.scale(a,a)}if(d||(s.textureDrawLastFrame=!1),d){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=u.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var N=s.data.bufferContexts[s.TEXTURE_BUFFER];N.setTransform(1,0,0,1,0,0),N.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:N,drawOnlyNodeLayer:!0,forcedPxRatio:l*s.textureMult});var x=s.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:s.canvasWidth,height:s.canvasHeight};x.mpan={x:(0-x.pan.x)/x.zoom,y:(0-x.pan.y)/x.zoom}}f[s.DRAG]=!1,f[s.NODE]=!1;var $=c.contexts[s.NODE],B=s.textureCache.texture,x=s.textureCache.viewport;$.setTransform(1,0,0,1,0,0),g?A($,0,0,x.width,x.height):$.clearRect(0,0,x.width,x.height);var P=w.core("outside-texture-bg-color").value,k=w.core("outside-texture-bg-opacity").value;s.colorFillStyle($,P[0],P[1],P[2],k),$.fillRect(0,0,x.width,x.height);var _=u.zoom();S($,!1),$.clearRect(x.mpan.x,x.mpan.y,x.width/x.zoom/l,x.height/x.zoom/l),$.drawImage(B,x.mpan.x,x.mpan.y,x.width/x.zoom/l,x.height/x.zoom/l)}else s.textureOnViewport&&!e&&(s.textureCache=null);var H=u.extent(),G=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles||s.cy.animated(),W=s.hideEdgesOnViewport&&G,U=[];if(U[s.NODE]=!f[s.NODE]&&g&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,U[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),U[s.DRAG]=!f[s.DRAG]&&g&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,U[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),f[s.NODE]||r||n||U[s.NODE]){var X=g&&!U[s.NODE]&&v!==1,$=e||(X?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:c.contexts[s.NODE]),ee=g&&!X?"motionBlur":void 0;S($,ee),W?s.drawCachedNodes($,C.nondrag,l,H):s.drawLayeredElements($,C.nondrag,l,H),s.debug&&s.drawDebugPoints($,C.nondrag),!r&&!g&&(f[s.NODE]=!1)}if(!n&&(f[s.DRAG]||r||U[s.DRAG])){var X=g&&!U[s.DRAG]&&v!==1,$=e||(X?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:c.contexts[s.DRAG]);S($,g&&!X?"motionBlur":void 0),W?s.drawCachedNodes($,C.drag,l,H):s.drawCachedElements($,C.drag,l,H),s.debug&&s.drawDebugPoints($,C.drag),!r&&!g&&(f[s.DRAG]=!1)}if(s.showFps||!n&&f[s.SELECT_BOX]&&!r){var $=e||c.contexts[s.SELECT_BOX];if(S($),s.selection[4]==1&&(s.hoverData.selecting||s.touchData.selecting)){var _=s.cy.zoom(),te=w.core("selection-box-border-width").value/_;$.lineWidth=te,$.fillStyle="rgba("+w.core("selection-box-color").value[0]+","+w.core("selection-box-color").value[1]+","+w.core("selection-box-color").value[2]+","+w.core("selection-box-opacity").value+")",$.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),te>0&&($.strokeStyle="rgba("+w.core("selection-box-border-color").value[0]+","+w.core("selection-box-border-color").value[1]+","+w.core("selection-box-border-color").value[2]+","+w.core("selection-box-opacity").value+")",$.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(c.bgActivePosistion&&!s.hoverData.selecting){var _=s.cy.zoom(),V=c.bgActivePosistion;$.fillStyle="rgba("+w.core("active-bg-color").value[0]+","+w.core("active-bg-color").value[1]+","+w.core("active-bg-color").value[2]+","+w.core("active-bg-opacity").value+")",$.beginPath(),$.arc(V.x,V.y,w.core("active-bg-size").pfValue/_,0,2*Math.PI),$.fill()}var Y=s.lastRedrawTime;if(s.showFps&&Y){Y=Math.round(Y);var F=Math.round(1e3/Y);$.setTransform(1,0,0,1,0,0),$.fillStyle="rgba(255, 0, 0, 0.75)",$.strokeStyle="rgba(255, 0, 0, 0.75)",$.lineWidth=1,$.fillText("1 frame = "+Y+" ms = "+F+" fps",0,20);var j=60;$.strokeRect(0,30,250,20),$.fillRect(0,30,250*Math.min(F/j,1),20)}r||(f[s.SELECT_BOX]=!1)}if(g&&v!==1){var J=c.contexts[s.NODE],de=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],re=c.contexts[s.DRAG],ve=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],z=function(q,ie,oe){q.setTransform(1,0,0,1,0,0),oe||!E?q.clearRect(0,0,s.canvasWidth,s.canvasHeight):A(q,0,0,s.canvasWidth,s.canvasHeight);var ce=v;q.drawImage(ie,0,0,s.canvasWidth*ce,s.canvasHeight*ce,0,0,s.canvasWidth,s.canvasHeight)};(f[s.NODE]||U[s.NODE])&&(z(J,de,U[s.NODE]),f[s.NODE]=!1),(f[s.DRAG]||U[s.DRAG])&&(z(re,ve,U[s.DRAG]),f[s.DRAG]=!1)}s.prevViewport=x,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),g&&(s.motionBlurTimeout=setTimeout(function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!d,s.mbFrames=0,f[s.NODE]=!0,f[s.DRAG]=!0,s.redraw()},motionBlurDelay)),e||u.emit("render")};var CRp$7={};CRp$7.drawPolygonPath=function(t,e,r,n,a,o){var s=n/2,l=a/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*o[0],r+l*o[1]);for(var u=1;u<o.length/2;u++)t.lineTo(e+s*o[u*2],r+l*o[u*2+1]);t.closePath()};CRp$7.drawRoundPolygonPath=function(t,e,r,n,a,o){var s=n/2,l=a/2,u=getRoundPolygonRadius(n,a);t.beginPath&&t.beginPath();for(var c=0;c<o.length/4;c++){var f=void 0,d=void 0;c===0?f=o.length-2:f=c*4-2,d=c*4+2;var g=e+s*o[c*4],v=r+l*o[c*4+1],m=-o[f]*o[d]-o[f+1]*o[d+1],y=u/Math.tan(Math.acos(m)/2),b=g-y*o[f],E=v-y*o[f+1],w=g+y*o[d],_=v+y*o[d+1];c===0?t.moveTo(b,E):t.lineTo(b,E),t.arcTo(g,v,w,_,u)}t.closePath()};CRp$7.drawRoundRectanglePath=function(t,e,r,n,a){var o=n/2,s=a/2,l=getRoundRectangleRadius(n,a);t.beginPath&&t.beginPath(),t.moveTo(e,r-s),t.arcTo(e+o,r-s,e+o,r,l),t.arcTo(e+o,r+s,e,r+s,l),t.arcTo(e-o,r+s,e-o,r,l),t.arcTo(e-o,r-s,e,r-s,l),t.lineTo(e,r-s),t.closePath()};CRp$7.drawBottomRoundRectanglePath=function(t,e,r,n,a){var o=n/2,s=a/2,l=getRoundRectangleRadius(n,a);t.beginPath&&t.beginPath(),t.moveTo(e,r-s),t.lineTo(e+o,r-s),t.lineTo(e+o,r),t.arcTo(e+o,r+s,e,r+s,l),t.arcTo(e-o,r+s,e-o,r,l),t.lineTo(e-o,r-s),t.lineTo(e,r-s),t.closePath()};CRp$7.drawCutRectanglePath=function(t,e,r,n,a){var o=n/2,s=a/2,l=getCutRectangleCornerLength();t.beginPath&&t.beginPath(),t.moveTo(e-o+l,r-s),t.lineTo(e+o-l,r-s),t.lineTo(e+o,r-s+l),t.lineTo(e+o,r+s-l),t.lineTo(e+o-l,r+s),t.lineTo(e-o+l,r+s),t.lineTo(e-o,r+s-l),t.lineTo(e-o,r-s+l),t.closePath()};CRp$7.drawBarrelPath=function(t,e,r,n,a){var o=n/2,s=a/2,l=e-o,u=e+o,c=r-s,f=r+s,d=getBarrelCurveConstants(n,a),g=d.widthOffset,v=d.heightOffset,m=d.ctrlPtOffsetPct*g;t.beginPath&&t.beginPath(),t.moveTo(l,c+v),t.lineTo(l,f-v),t.quadraticCurveTo(l+m,f,l+g,f),t.lineTo(u-g,f),t.quadraticCurveTo(u-m,f,u,f-v),t.lineTo(u,c+v),t.quadraticCurveTo(u-m,c,u-g,c),t.lineTo(l+g,c),t.quadraticCurveTo(l+m,c,l,c+v),t.closePath()};var sin0=Math.sin(0),cos0=Math.cos(0),sin={},cos={},ellipseStepSize=Math.PI/40;for(var i=0*Math.PI;i<2*Math.PI;i+=ellipseStepSize)sin[i]=Math.sin(i),cos[i]=Math.cos(i);CRp$7.drawEllipsePath=function(t,e,r,n,a){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,a/2,0,0,2*Math.PI);else for(var o,s,l=n/2,u=a/2,c=0*Math.PI;c<2*Math.PI;c+=ellipseStepSize)o=e-l*sin[c]*sin0+l*cos[c]*cos0,s=r+u*cos[c]*sin0+u*sin[c]*cos0,c===0?t.moveTo(o,s):t.lineTo(o,s);t.closePath()};var CRp$8={};CRp$8.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};CRp$8.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),o=t.full?Math.ceil(n.w):a[2],s=t.full?Math.ceil(n.h):a[3],l=number(t.maxWidth)||number(t.maxHeight),u=this.getPixelRatio(),c=1;if(t.scale!==void 0)o*=t.scale,s*=t.scale,c=t.scale;else if(l){var f=1/0,d=1/0;number(t.maxWidth)&&(f=c*t.maxWidth/o),number(t.maxHeight)&&(d=c*t.maxHeight/s),c=Math.min(f,d),o*=c,s*=c}l||(o*=u,s*=u,c*=u);var g=document.createElement("canvas");g.width=o,g.height=s,g.style.width=o+"px",g.style.height=s+"px";var v=g.getContext("2d");if(o>0&&s>0){v.clearRect(0,0,o,s),v.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(t.full)v.translate(-n.x1*c,-n.y1*c),v.scale(c,c),this.drawElements(v,m),v.scale(1/c,1/c),v.translate(n.x1*c,n.y1*c);else{var y=e.pan(),b={x:y.x*c,y:y.y*c};c*=e.zoom(),v.translate(b.x,b.y),v.scale(c,c),this.drawElements(v,m),v.scale(1/c,1/c),v.translate(-b.x,-b.y)}t.bg&&(v.globalCompositeOperation="destination-over",v.fillStyle=t.bg,v.rect(0,0,o,s),v.fill())}return g};function b64ToBlob(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n),o=0;o<r.length;o++)a[o]=r.charCodeAt(o);return new Blob([n],{type:e})}function b64UriToB64(t){var e=t.indexOf(",");return t.substr(e+1)}function output(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Promise$1(function(a,o){try{e.toBlob(function(s){s!=null?a(s):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){o(s)}});case"blob":return b64ToBlob(b64UriToB64(n()),r);case"base64":return b64UriToB64(n());case"base64uri":default:return n()}}CRp$8.png=function(t){return output(t,this.bufferCanvasImage(t),"image/png")};CRp$8.jpg=function(t){return output(t,this.bufferCanvasImage(t),"image/jpeg")};var CRp$9={};CRp$9.nodeShapeImpl=function(t,e,r,n,a,o,s){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,a,o);case"polygon":return this.drawPolygonPath(e,r,n,a,o,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,a,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,a,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,a,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,a,o);case"barrel":return this.drawBarrelPath(e,r,n,a,o)}};var CR=CanvasRenderer,CRp$a=CanvasRenderer.prototype;CRp$a.CANVAS_LAYERS=3;CRp$a.SELECT_BOX=0;CRp$a.DRAG=1;CRp$a.NODE=2;CRp$a.BUFFER_COUNT=3;CRp$a.TEXTURE_BUFFER=0;CRp$a.MOTIONBLUR_BUFFER_NODE=1;CRp$a.MOTIONBLUR_BUFFER_DRAG=2;function CanvasRenderer(t){var e=this;e.data={canvases:new Array(CRp$a.CANVAS_LAYERS),contexts:new Array(CRp$a.CANVAS_LAYERS),canvasNeedsRedraw:new Array(CRp$a.CANVAS_LAYERS),bufferCanvases:new Array(CRp$a.BUFFER_COUNT),bufferContexts:new Array(CRp$a.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color",n="rgba(0,0,0,0)";e.data.canvasContainer=document.createElement("div");var a=e.data.canvasContainer.style;e.data.canvasContainer.style[r]=n,a.position="relative",a.zIndex="0",a.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[r]=n;var s={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};ms()&&(s["-ms-touch-action"]="none",s["touch-action"]="none");for(var l=0;l<CRp$a.CANVAS_LAYERS;l++){var u=e.data.canvases[l]=document.createElement("canvas");e.data.contexts[l]=u.getContext("2d"),Object.keys(s).forEach(function(Y){u.style[Y]=s[Y]}),u.style.position="absolute",u.setAttribute("data-id","layer"+l),u.style.zIndex=String(CRp$a.CANVAS_LAYERS-l),e.data.canvasContainer.appendChild(u),e.data.canvasNeedsRedraw[l]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[CRp$a.NODE].setAttribute("data-id","layer"+CRp$a.NODE+"-node"),e.data.canvases[CRp$a.SELECT_BOX].setAttribute("data-id","layer"+CRp$a.SELECT_BOX+"-selectbox"),e.data.canvases[CRp$a.DRAG].setAttribute("data-id","layer"+CRp$a.DRAG+"-drag");for(var l=0;l<CRp$a.BUFFER_COUNT;l++)e.data.bufferCanvases[l]=document.createElement("canvas"),e.data.bufferContexts[l]=e.data.bufferCanvases[l].getContext("2d"),e.data.bufferCanvases[l].style.position="absolute",e.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),e.data.bufferCanvases[l].style.zIndex=String(-l-1),e.data.bufferCanvases[l].style.visibility="hidden";e.pathsEnabled=!0;var c=makeBoundingBox(),f=function(F){return{x:(F.x1+F.x2)/2,y:(F.y1+F.y2)/2}},d=function(F){return{x:-F.w/2,y:-F.h/2}},g=function(F){var j=F[0]._private,J=j.oldBackgroundTimestamp===j.backgroundTimestamp;return!J},v=function(F){return F[0]._private.nodeKey},m=function(F){return F[0]._private.labelStyleKey},y=function(F){return F[0]._private.sourceLabelStyleKey},b=function(F){return F[0]._private.targetLabelStyleKey},E=function(F,j,J,de,re){return e.drawElement(F,j,J,!1,!1,re)},w=function(F,j,J,de,re){return e.drawElementText(F,j,J,de,"main",re)},_=function(F,j,J,de,re){return e.drawElementText(F,j,J,de,"source",re)},T=function(F,j,J,de,re){return e.drawElementText(F,j,J,de,"target",re)},O=function(F){return F.boundingBox(),F[0]._private.bodyBounds},D=function(F){return F.boundingBox(),F[0]._private.labelBounds.main||c},x=function(F){return F.boundingBox(),F[0]._private.labelBounds.source||c},L=function(F){return F.boundingBox(),F[0]._private.labelBounds.target||c},R=function(F,j){return j},C=function(F){return f(O(F))},A=function(F,j,J){var de=F?F+"-":"";return{x:j.x+J.pstyle(de+"text-margin-x").pfValue,y:j.y+J.pstyle(de+"text-margin-y").pfValue}},S=function(F,j,J){var de=F[0]._private.rscratch;return{x:de[j],y:de[J]}},N=function(F){return A("",S(F,"labelX","labelY"),F)},$=function(F){return A("source",S(F,"sourceLabelX","sourceLabelY"),F)},B=function(F){return A("target",S(F,"targetLabelX","targetLabelY"),F)},P=function(F){return d(O(F))},k=function(F){return d(x(F))},H=function(F){return d(L(F))},G=function(F){var j=D(F),J=d(D(F));if(F.isNode()){switch(F.pstyle("text-halign").value){case"left":J.x=-j.w;break;case"right":J.x=0;break}switch(F.pstyle("text-valign").value){case"top":J.y=-j.h;break;case"bottom":J.y=0;break}}return J},W=e.data.eleTxrCache=new ElementTextureCache(e,{getKey:v,doesEleInvalidateKey:g,drawElement:E,getBoundingBox:O,getRotationPoint:C,getRotationOffset:P,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),U=e.data.lblTxrCache=new ElementTextureCache(e,{getKey:m,drawElement:w,getBoundingBox:D,getRotationPoint:N,getRotationOffset:G,isVisible:R}),X=e.data.slbTxrCache=new ElementTextureCache(e,{getKey:y,drawElement:_,getBoundingBox:x,getRotationPoint:$,getRotationOffset:k,isVisible:R}),ee=e.data.tlbTxrCache=new ElementTextureCache(e,{getKey:b,drawElement:T,getBoundingBox:L,getRotationPoint:B,getRotationOffset:H,isVisible:R}),te=e.data.lyrTxrCache=new LayeredTextureCache(e);e.onUpdateEleCalcs(function(F,j){W.invalidateElements(j),U.invalidateElements(j),X.invalidateElements(j),ee.invalidateElements(j),te.invalidateElements(j);for(var J=0;J<j.length;J++){var de=j[J]._private;de.oldBackgroundTimestamp=de.backgroundTimestamp}});var V=function(F){for(var j=0;j<F.length;j++)te.enqueueElementRefinement(F[j].ele)};W.onDequeue(V),U.onDequeue(V),X.onDequeue(V),ee.onDequeue(V)}CRp$a.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[CRp$a.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[CRp$a.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[CRp$a.SELECT_BOX]=e;break}};var pathsImpld=typeof Path2D!="undefined";CRp$a.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};CRp$a.usePaths=function(){return pathsImpld&&this.pathsEnabled};CRp$a.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};CRp$a.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};CRp$a.makeOffscreenCanvas=function(t,e){var r;return(typeof OffscreenCanvas=="undefined"?"undefined":_typeof(OffscreenCanvas))!=="undefined"?r=new OffscreenCanvas(t,e):(r=document.createElement("canvas"),r.width=t,r.height=e),r};[CRp,CRp$1,CRp$2,CRp$3,CRp$4,CRp$5,CRp$6,CRp$7,CRp$8,CRp$9].forEach(function(t){extend(CRp$a,t)});var renderer=[{name:"null",impl:NullRenderer},{name:"base",impl:BR},{name:"canvas",impl:CR}],incExts=[{type:"layout",extensions:layout$1},{type:"renderer",extensions:renderer}],extensions={},modules={};function setExtension(t,e,r){var n=r,a=function(L){warn("Can not register `"+e+"` for `"+t+"` since `"+L+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Core.prototype[e])return a(e);Core.prototype[e]=r}else if(t==="collection"){if(Collection.prototype[e])return a(e);Collection.prototype[e]=r}else if(t==="layout"){for(var o=function(L){this.options=L,r.call(this,L),plainObject(this._private)||(this._private={}),this._private.cy=L.cy,this._private.listeners=[],this.createEmitter()},s=o.prototype=Object.create(r.prototype),l=[],u=0;u<l.length;u++){var c=l[u];s[c]=s[c]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var f=r.prototype.stop;s.stop=function(){var x=this.options;if(x&&x.animate){var L=this.animations;if(L)for(var R=0;R<L.length;R++)L[R].stop()}return f?f.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var d=function(L){return L._private.cy},g={addEventFields:function(L,R){R.layout=L,R.cy=d(L),R.target=L},bubble:function(){return!0},parent:function(L){return d(L)}};extend(s,{createEmitter:function(){return this._private.emitter=new Emitter(g,this),this},emitter:function(){return this._private.emitter},on:function(L,R){return this.emitter().on(L,R),this},one:function(L,R){return this.emitter().one(L,R),this},once:function(L,R){return this.emitter().one(L,R),this},removeListener:function(L,R){return this.emitter().removeListener(L,R),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(L,R){return this.emitter().emit(L,R),this}}),define$3.eventAliasesOn(s),n=o}else if(t==="renderer"&&e!=="null"&&e!=="base"){var v=getExtension("renderer","base"),m=v.prototype,y=r,b=r.prototype,E=function(){v.apply(this,arguments),y.apply(this,arguments)},w=E.prototype;for(var _ in m){var T=m[_],O=b[_]!=null;if(O)return a(_);w[_]=T}for(var D in b)w[D]=b[D];m.clientFunctions.forEach(function(x){w[x]=w[x]||function(){error("Renderer does not implement `renderer."+x+"()` on its prototype")}}),n=E}else if(t==="__proto__"||t==="constructor"||t==="prototype")return error(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return setMap({map:extensions,keys:[t,e],value:n})}function getExtension(t,e){return getMap({map:extensions,keys:[t,e]})}function setModule(t,e,r,n,a){return setMap({map:modules,keys:[t,e,r,n],value:a})}function getModule(t,e,r,n){return getMap({map:modules,keys:[t,e,r,n]})}var extension=function t(){if(arguments.length===2)return getExtension.apply(null,arguments);if(arguments.length===3)return setExtension.apply(null,arguments);if(arguments.length===4)return getModule.apply(null,arguments);if(arguments.length===5)return setModule.apply(null,arguments);error("Invalid extension access syntax")};Core.prototype.extension=extension;incExts.forEach(function(t){t.extensions.forEach(function(e){setExtension(t.type,e.name,e.impl)})});var Stylesheet=function t(){if(!(this instanceof t))return new t;this.length=0},sheetfn=Stylesheet.prototype;sheetfn.instanceString=function(){return"stylesheet"};sheetfn.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};sheetfn.css=function(t,e){var r=this.length-1;if(string(t))this[r].properties.push({name:t,value:e});else if(plainObject(t))for(var n=t,a=Object.keys(n),o=0;o<a.length;o++){var s=a[o],l=n[s];if(l!=null){var u=Style.properties[s]||Style.properties[dash2camel(s)];if(u!=null){var c=u.name,f=l;this[r].properties.push({name:c,value:f})}}}return this};sheetfn.style=sheetfn.css;sheetfn.generateStyle=function(t){var e=new Style(t);return this.appendToStyle(e)};sheetfn.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,a=r.properties;t.selector(n);for(var o=0;o<a.length;o++){var s=a[o];t.css(s.name,s.value)}}return t};var version="3.21.1",cytoscape$1=function t(e){if(e===void 0&&(e={}),plainObject(e))return new Core(e);if(string(e))return extension.apply(extension,arguments)};cytoscape$1.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(cytoscape$1),t.apply(null,e),this};cytoscape$1.warnings=function(t){return warnings(t)};cytoscape$1.version=version;cytoscape$1.stylesheet=cytoscape$1.Stylesheet=Stylesheet;var cytoscape_cjs=cytoscape$1,cytoscapeCola={exports:{}},dist={},adaptor$1={},layout={},powergraph={};Object.defineProperty(powergraph,"__esModule",{value:!0});var PowerEdge=function(){function t(e,r,n){this.source=e,this.target=r,this.type=n}return t}();powergraph.PowerEdge=PowerEdge;var Configuration=function(){function t(e,r,n,a){var o=this;if(this.linkAccessor=n,this.modules=new Array(e),this.roots=[],a)this.initModulesFromGroup(a);else{this.roots.push(new ModuleSet);for(var s=0;s<e;++s)this.roots[0].add(this.modules[s]=new Module(s))}this.R=r.length,r.forEach(function(l){var u=o.modules[n.getSourceIndex(l)],c=o.modules[n.getTargetIndex(l)],f=n.getType(l);u.outgoing.add(f,c),c.incoming.add(f,u)})}return t.prototype.initModulesFromGroup=function(e){var r=new ModuleSet;this.roots.push(r);for(var n=0;n<e.leaves.length;++n){var a=e.leaves[n],o=new Module(a.id);this.modules[a.id]=o,r.add(o)}if(e.groups)for(var s=0;s<e.groups.length;++s){var l=e.groups[s],u={};for(var c in l)c!=="leaves"&&c!=="groups"&&l.hasOwnProperty(c)&&(u[c]=l[c]);r.add(new Module(-1-s,new LinkSets,new LinkSets,this.initModulesFromGroup(l),u))}return r},t.prototype.merge=function(e,r,n){n===void 0&&(n=0);var a=e.incoming.intersection(r.incoming),o=e.outgoing.intersection(r.outgoing),s=new ModuleSet;s.add(e),s.add(r);var l=new Module(this.modules.length,o,a,s);this.modules.push(l);var u=function(c,f,d){c.forAll(function(g,v){g.forAll(function(m){var y=m[f];y.add(v,l),y.remove(v,e),y.remove(v,r),e[d].remove(v,m),r[d].remove(v,m)})})};return u(o,"incoming","outgoing"),u(a,"outgoing","incoming"),this.R-=a.count()+o.count(),this.roots[n].remove(e),this.roots[n].remove(r),this.roots[n].add(l),l},t.prototype.rootMerges=function(e){e===void 0&&(e=0);for(var r=this.roots[e].modules(),n=r.length,a=new Array(n*(n-1)),o=0,s=0,l=n-1;s<l;++s)for(var u=s+1;u<n;++u){var c=r[s],f=r[u];a[o]={id:o,nEdges:this.nEdges(c,f),a:c,b:f},o++}return a},t.prototype.greedyMerge=function(){for(var e=0;e<this.roots.length;++e)if(!(this.roots[e].modules().length<2)){var r=this.rootMerges(e).sort(function(a,o){return a.nEdges==o.nEdges?a.id-o.id:a.nEdges-o.nEdges}),n=r[0];if(!(n.nEdges>=this.R))return this.merge(n.a,n.b,e),!0}},t.prototype.nEdges=function(e,r){var n=e.incoming.intersection(r.incoming),a=e.outgoing.intersection(r.outgoing);return this.R-n.count()-a.count()},t.prototype.getGroupHierarchy=function(e){var r=this,n=[],a={};toGroups(this.roots[0],a,n);var o=this.allEdges();return o.forEach(function(s){var l=r.modules[s.source],u=r.modules[s.target];e.push(new PowerEdge(typeof l.gid=="undefined"?s.source:n[l.gid],typeof u.gid=="undefined"?s.target:n[u.gid],s.type))}),n},t.prototype.allEdges=function(){var e=[];return t.getEdges(this.roots[0],e),e},t.getEdges=function(e,r){e.forAll(function(n){n.getEdges(r),t.getEdges(n.children,r)})},t}();powergraph.Configuration=Configuration;function toGroups(t,e,r){t.forAll(function(n){if(n.isLeaf())e.leaves||(e.leaves=[]),e.leaves.push(n.id);else{var a=e;if(n.gid=r.length,!n.isIsland()||n.isPredefined()){if(a={id:n.gid},n.isPredefined())for(var o in n.definition)a[o]=n.definition[o];e.groups||(e.groups=[]),e.groups.push(n.gid),r.push(a)}toGroups(n.children,a,r)}})}var Module=function(){function t(e,r,n,a,o){r===void 0&&(r=new LinkSets),n===void 0&&(n=new LinkSets),a===void 0&&(a=new ModuleSet),this.id=e,this.outgoing=r,this.incoming=n,this.children=a,this.definition=o}return t.prototype.getEdges=function(e){var r=this;this.outgoing.forAll(function(n,a){n.forAll(function(o){e.push(new PowerEdge(r.id,o.id,a))})})},t.prototype.isLeaf=function(){return this.children.count()===0},t.prototype.isIsland=function(){return this.outgoing.count()===0&&this.incoming.count()===0},t.prototype.isPredefined=function(){return typeof this.definition!="undefined"},t}();powergraph.Module=Module;function intersection(t,e){var r={};for(var n in t)n in e&&(r[n]=t[n]);return r}var ModuleSet=function(){function t(){this.table={}}return t.prototype.count=function(){return Object.keys(this.table).length},t.prototype.intersection=function(e){var r=new t;return r.table=intersection(this.table,e.table),r},t.prototype.intersectionCount=function(e){return this.intersection(e).count()},t.prototype.contains=function(e){return e in this.table},t.prototype.add=function(e){this.table[e.id]=e},t.prototype.remove=function(e){delete this.table[e.id]},t.prototype.forAll=function(e){for(var r in this.table)e(this.table[r])},t.prototype.modules=function(){var e=[];return this.forAll(function(r){r.isPredefined()||e.push(r)}),e},t}();powergraph.ModuleSet=ModuleSet;var LinkSets=function(){function t(){this.sets={},this.n=0}return t.prototype.count=function(){return this.n},t.prototype.contains=function(e){var r=!1;return this.forAllModules(function(n){!r&&n.id==e&&(r=!0)}),r},t.prototype.add=function(e,r){var n=e in this.sets?this.sets[e]:this.sets[e]=new ModuleSet;n.add(r),++this.n},t.prototype.remove=function(e,r){var n=this.sets[e];n.remove(r),n.count()===0&&delete this.sets[e],--this.n},t.prototype.forAll=function(e){for(var r in this.sets)e(this.sets[r],Number(r))},t.prototype.forAllModules=function(e){this.forAll(function(r,n){return r.forAll(e)})},t.prototype.intersection=function(e){var r=new t;return this.forAll(function(n,a){if(a in e.sets){var o=n.intersection(e.sets[a]),s=o.count();s>0&&(r.sets[a]=o,r.n+=s)}}),r},t}();powergraph.LinkSets=LinkSets;function getGroups(t,e,r,n){for(var a=t.length,o=new Configuration(a,e,r,n);o.greedyMerge(););var s=[],l=o.getGroupHierarchy(s);return s.forEach(function(u){var c=function(f){var d=u[f];typeof d=="number"&&(u[f]=t[d])};c("source"),c("target")}),{groups:l,powerEdges:s}}powergraph.getGroups=getGroups;var linklengths={};Object.defineProperty(linklengths,"__esModule",{value:!0});function unionCount(t,e){var r={};for(var n in t)r[n]={};for(var n in e)r[n]={};return Object.keys(r).length}function intersectionCount(t,e){var r=0;for(var n in t)typeof e[n]!="undefined"&&++r;return r}function getNeighbours(t,e){var r={},n=function(a,o){typeof r[a]=="undefined"&&(r[a]={}),r[a][o]={}};return t.forEach(function(a){var o=e.getSourceIndex(a),s=e.getTargetIndex(a);n(o,s),n(s,o)}),r}function computeLinkLengths(t,e,r,n){var a=getNeighbours(t,n);t.forEach(function(o){var s=a[n.getSourceIndex(o)],l=a[n.getTargetIndex(o)];n.setLength(o,1+e*r(s,l))})}function symmetricDiffLinkLengths(t,e,r){r===void 0&&(r=1),computeLinkLengths(t,r,function(n,a){return Math.sqrt(unionCount(n,a)-intersectionCount(n,a))},e)}linklengths.symmetricDiffLinkLengths=symmetricDiffLinkLengths;function jaccardLinkLengths(t,e,r){r===void 0&&(r=1),computeLinkLengths(t,r,function(n,a){return Math.min(Object.keys(n).length,Object.keys(a).length)<1.1?0:intersectionCount(n,a)/unionCount(n,a)},e)}linklengths.jaccardLinkLengths=jaccardLinkLengths;function generateDirectedEdgeConstraints(t,e,r,n){var a=stronglyConnectedComponents(t,e,n),o={};a.forEach(function(l,u){return l.forEach(function(c){return o[c]=u})});var s=[];return e.forEach(function(l){var u=n.getSourceIndex(l),c=n.getTargetIndex(l),f=o[u],d=o[c];f!==d&&s.push({axis:r,left:u,right:c,gap:n.getMinSeparation(l)})}),s}linklengths.generateDirectedEdgeConstraints=generateDirectedEdgeConstraints;function stronglyConnectedComponents(t,e,r){var n=[],a=0,o=[],s=[];function l(E){E.index=E.lowlink=a++,o.push(E),E.onStack=!0;for(var w=0,_=E.out;w<_.length;w++){var T=_[w];typeof T.index=="undefined"?(l(T),E.lowlink=Math.min(E.lowlink,T.lowlink)):T.onStack&&(E.lowlink=Math.min(E.lowlink,T.index))}if(E.lowlink===E.index){for(var O=[];o.length&&(T=o.pop(),T.onStack=!1,O.push(T),T!==E););s.push(O.map(function(D){return D.id}))}}for(var u=0;u<t;u++)n.push({id:u,out:[]});for(var c=0,f=e;c<f.length;c++){var d=f[c],g=n[r.getSourceIndex(d)],v=n[r.getTargetIndex(d)];g.out.push(v)}for(var m=0,y=n;m<y.length;m++){var b=y[m];typeof b.index=="undefined"&&l(b)}return s}linklengths.stronglyConnectedComponents=stronglyConnectedComponents;var descent={};Object.defineProperty(descent,"__esModule",{value:!0});var Locks=function(){function t(){this.locks={}}return t.prototype.add=function(e,r){this.locks[e]=r},t.prototype.clear=function(){this.locks={}},t.prototype.isEmpty=function(){for(var e in this.locks)return!1;return!0},t.prototype.apply=function(e){for(var r in this.locks)e(Number(r),this.locks[r])},t}();descent.Locks=Locks;var Descent=function(){function t(e,r,n){n===void 0&&(n=null),this.D=r,this.G=n,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new PseudoRandom,this.project=null,this.x=e,this.k=e.length;var a=this.n=e[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new Locks,this.minD=Number.MAX_VALUE;for(var o=a,s;o--;)for(s=a;--s>o;){var l=r[o][s];l>0&&l<this.minD&&(this.minD=l)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),o=this.k;o--;){for(this.g[o]=new Array(a),this.H[o]=new Array(a),s=a;s--;)this.H[o][s]=new Array(a);this.Hd[o]=new Array(a),this.a[o]=new Array(a),this.b[o]=new Array(a),this.c[o]=new Array(a),this.d[o]=new Array(a),this.e[o]=new Array(a),this.ia[o]=new Array(a),this.ib[o]=new Array(a),this.xtmp[o]=new Array(a)}}return t.createSquareMatrix=function(e,r){for(var n=new Array(e),a=0;a<e;++a){n[a]=new Array(e);for(var o=0;o<e;++o)n[a][o]=r(a,o)}return n},t.prototype.offsetDir=function(){for(var e=this,r=new Array(this.k),n=0,a=0;a<this.k;++a){var o=r[a]=this.random.getNextBetween(.01,1)-.5;n+=o*o}return n=Math.sqrt(n),r.map(function(s){return s*=e.minD/n})},t.prototype.computeDerivatives=function(e){var r=this,n=this.n;if(!(n<1)){for(var a,o=new Array(this.k),s=new Array(this.k),l=new Array(this.k),u=0,c=0;c<n;++c){for(a=0;a<this.k;++a)l[a]=this.g[a][c]=0;for(var f=0;f<n;++f)if(c!==f){for(var d=n;d--;){var g=0;for(a=0;a<this.k;++a){var v=o[a]=e[a][c]-e[a][f];g+=s[a]=v*v}if(g>1e-9)break;var m=this.offsetDir();for(a=0;a<this.k;++a)e[a][f]+=m[a]}var y=Math.sqrt(g),b=this.D[c][f],E=this.G!=null?this.G[c][f]:1;if(E>1&&y>b||!isFinite(b)){for(a=0;a<this.k;++a)this.H[a][c][f]=0;continue}E>1&&(E=1);var w=b*b,_=2*E*(y-b)/(w*y),T=y*y*y,O=2*-E/(w*T);for(isFinite(_)||console.log(_),a=0;a<this.k;++a)this.g[a][c]+=o[a]*_,l[a]-=this.H[a][c][f]=O*(T+b*(s[a]-g)+y*g)}for(a=0;a<this.k;++a)u=Math.max(u,this.H[a][c][c]=l[a])}for(var D=this.snapGridSize/2,x=this.snapGridSize,L=this.snapStrength,R=L/(D*D),C=this.numGridSnapNodes,c=0;c<C;++c)for(a=0;a<this.k;++a){var A=this.x[a][c],S=A/x,N=S%1,$=S-N,B=Math.abs(N),v=B<=.5?A-$*x:A>0?A-($+1)*x:A-($-1)*x;-D<v&&v<=D&&(this.scaleSnapByMaxH?(this.g[a][c]+=u*R*v,this.H[a][c][c]+=u*R):(this.g[a][c]+=R*v,this.H[a][c][c]+=R))}this.locks.isEmpty()||this.locks.apply(function(P,k){for(a=0;a<r.k;++a)r.H[a][P][P]+=u,r.g[a][P]-=u*(k[a]-e[a][P])})}},t.dotProd=function(e,r){for(var n=0,a=e.length;a--;)n+=e[a]*r[a];return n},t.rightMultiply=function(e,r,n){for(var a=e.length;a--;)n[a]=t.dotProd(e[a],r)},t.prototype.computeStepSize=function(e){for(var r=0,n=0,a=0;a<this.k;++a)r+=t.dotProd(this.g[a],e[a]),t.rightMultiply(this.H[a],e[a],this.Hd[a]),n+=t.dotProd(e[a],this.Hd[a]);return n===0||!isFinite(n)?0:1*r/n},t.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var e=this.computeStepSize(this.g),r=0;r<this.k;++r)this.takeDescentStep(this.x[r],this.g[r],e);return this.computeStress()},t.copy=function(e,r){for(var n=e.length,a=r[0].length,o=0;o<n;++o)for(var s=0;s<a;++s)r[o][s]=e[o][s]},t.prototype.stepAndProject=function(e,r,n,a){t.copy(e,r),this.takeDescentStep(r[0],n[0],a),this.project&&this.project[0](e[0],e[1],r[0]),this.takeDescentStep(r[1],n[1],a),this.project&&this.project[1](r[0],e[1],r[1]);for(var o=2;o<this.k;o++)this.takeDescentStep(r[o],n[o],a)},t.mApply=function(e,r,n){for(var a=e;a-- >0;)for(var o=r;o-- >0;)n(a,o)},t.prototype.matrixApply=function(e){t.mApply(this.k,this.n,e)},t.prototype.computeNextPosition=function(e,r){var n=this;this.computeDerivatives(e);var a=this.computeStepSize(this.g);if(this.stepAndProject(e,r,this.g,a),this.project){this.matrixApply(function(s,l){return n.e[s][l]=e[s][l]-r[s][l]});var o=this.computeStepSize(this.e);o=Math.max(.2,Math.min(o,1)),this.stepAndProject(e,r,this.e,o)}},t.prototype.run=function(e){for(var r=Number.MAX_VALUE,n=!1;!n&&e-- >0;){var a=this.rungeKutta();n=Math.abs(r/a-1)<this.threshold,r=a}return r},t.prototype.rungeKutta=function(){var e=this;this.computeNextPosition(this.x,this.a),t.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),t.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var r=0;return this.matrixApply(function(n,a){var o=(e.a[n][a]+2*e.b[n][a]+2*e.c[n][a]+e.d[n][a])/6,s=e.x[n][a]-o;r+=s*s,e.x[n][a]=o}),r},t.mid=function(e,r,n){t.mApply(e.length,e[0].length,function(a,o){return n[a][o]=e[a][o]+(r[a][o]-e[a][o])/2})},t.prototype.takeDescentStep=function(e,r,n){for(var a=0;a<this.n;++a)e[a]=e[a]-n*r[a]},t.prototype.computeStress=function(){for(var e=0,r=0,n=this.n-1;r<n;++r)for(var a=r+1,o=this.n;a<o;++a){for(var s=0,l=0;l<this.k;++l){var u=this.x[l][r]-this.x[l][a];s+=u*u}s=Math.sqrt(s);var c=this.D[r][a];if(!!isFinite(c)){var f=c-s,d=c*c;e+=f*f/d}}return e},t.zeroDistance=1e-10,t}();descent.Descent=Descent;var PseudoRandom=function(){function t(e){e===void 0&&(e=1),this.seed=e,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return t.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},t.prototype.getNextBetween=function(e,r){return e+this.getNext()*(r-e)},t}();descent.PseudoRandom=PseudoRandom;var rectangle={},vpsc={};Object.defineProperty(vpsc,"__esModule",{value:!0});var PositionStats=function(){function t(e){this.scale=e,this.AB=0,this.AD=0,this.A2=0}return t.prototype.addVariable=function(e){var r=this.scale/e.scale,n=e.offset/e.scale,a=e.weight;this.AB+=a*r*n,this.AD+=a*r*e.desiredPosition,this.A2+=a*r*r},t.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},t}();vpsc.PositionStats=PositionStats;var Constraint=function(){function t(e,r,n,a){a===void 0&&(a=!1),this.left=e,this.right=r,this.gap=n,this.equality=a,this.active=!1,this.unsatisfiable=!1,this.left=e,this.right=r,this.gap=n,this.equality=a}return t.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},t}();vpsc.Constraint=Constraint;var Variable=function(){function t(e,r,n){r===void 0&&(r=1),n===void 0&&(n=1),this.desiredPosition=e,this.weight=r,this.scale=n,this.offset=0}return t.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},t.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},t.prototype.visitNeighbours=function(e,r){var n=function(a,o){return a.active&&e!==o&&r(a,o)};this.cOut.forEach(function(a){return n(a,a.right)}),this.cIn.forEach(function(a){return n(a,a.left)})},t}();vpsc.Variable=Variable;var Block=function(){function t(e){this.vars=[],e.offset=0,this.ps=new PositionStats(e.scale),this.addVariable(e)}return t.prototype.addVariable=function(e){e.block=this,this.vars.push(e),this.ps.addVariable(e),this.posn=this.ps.getPosn()},t.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var e=0,r=this.vars.length;e<r;++e)this.ps.addVariable(this.vars[e]);this.posn=this.ps.getPosn()},t.prototype.compute_lm=function(e,r,n){var a=this,o=e.dfdv();return e.visitNeighbours(r,function(s,l){var u=a.compute_lm(l,e,n);l===s.right?(o+=u*s.left.scale,s.lm=u):(o+=u*s.right.scale,s.lm=-u),n(s)}),o/e.scale},t.prototype.populateSplitBlock=function(e,r){var n=this;e.visitNeighbours(r,function(a,o){o.offset=e.offset+(o===a.right?a.gap:-a.gap),n.addVariable(o),n.populateSplitBlock(o,e)})},t.prototype.traverse=function(e,r,n,a){var o=this;n===void 0&&(n=this.vars[0]),a===void 0&&(a=null),n.visitNeighbours(a,function(s,l){r.push(e(s)),o.traverse(e,r,l,n)})},t.prototype.findMinLM=function(){var e=null;return this.compute_lm(this.vars[0],null,function(r){!r.equality&&(e===null||r.lm<e.lm)&&(e=r)}),e},t.prototype.findMinLMBetween=function(e,r){this.compute_lm(e,null,function(){});var n=null;return this.findPath(e,null,r,function(a,o){!a.equality&&a.right===o&&(n===null||a.lm<n.lm)&&(n=a)}),n},t.prototype.findPath=function(e,r,n,a){var o=this,s=!1;return e.visitNeighbours(r,function(l,u){!s&&(u===n||o.findPath(u,e,n,a))&&(s=!0,a(l,u))}),s},t.prototype.isActiveDirectedPathBetween=function(e,r){if(e===r)return!0;for(var n=e.cOut.length;n--;){var a=e.cOut[n];if(a.active&&this.isActiveDirectedPathBetween(a.right,r))return!0}return!1},t.split=function(e){return e.active=!1,[t.createSplitBlock(e.left),t.createSplitBlock(e.right)]},t.createSplitBlock=function(e){var r=new t(e);return r.populateSplitBlock(e,null),r},t.prototype.splitBetween=function(e,r){var n=this.findMinLMBetween(e,r);if(n!==null){var a=t.split(n);return{constraint:n,lb:a[0],rb:a[1]}}return null},t.prototype.mergeAcross=function(e,r,n){r.active=!0;for(var a=0,o=e.vars.length;a<o;++a){var s=e.vars[a];s.offset+=n,this.addVariable(s)}this.posn=this.ps.getPosn()},t.prototype.cost=function(){for(var e=0,r=this.vars.length;r--;){var n=this.vars[r],a=n.position()-n.desiredPosition;e+=a*a*n.weight}return e},t}();vpsc.Block=Block;var Blocks=function(){function t(e){this.vs=e;var r=e.length;for(this.list=new Array(r);r--;){var n=new Block(e[r]);this.list[r]=n,n.blockInd=r}}return t.prototype.cost=function(){for(var e=0,r=this.list.length;r--;)e+=this.list[r].cost();return e},t.prototype.insert=function(e){e.blockInd=this.list.length,this.list.push(e)},t.prototype.remove=function(e){var r=this.list.length-1,n=this.list[r];this.list.length=r,e!==n&&(this.list[e.blockInd]=n,n.blockInd=e.blockInd)},t.prototype.merge=function(e){var r=e.left.block,n=e.right.block,a=e.right.offset-e.left.offset-e.gap;r.vars.length<n.vars.length?(n.mergeAcross(r,e,a),this.remove(r)):(r.mergeAcross(n,e,-a),this.remove(n))},t.prototype.forEach=function(e){this.list.forEach(e)},t.prototype.updateBlockPositions=function(){this.list.forEach(function(e){return e.updateWeightedPosition()})},t.prototype.split=function(e){var r=this;this.updateBlockPositions(),this.list.forEach(function(n){var a=n.findMinLM();a!==null&&a.lm<Solver.LAGRANGIAN_TOLERANCE&&(n=a.left.block,Block.split(a).forEach(function(o){return r.insert(o)}),r.remove(n),e.push(a))})},t}();vpsc.Blocks=Blocks;var Solver=function(){function t(e,r){this.vs=e,this.cs=r,this.vs=e,e.forEach(function(n){n.cIn=[],n.cOut=[]}),this.cs=r,r.forEach(function(n){n.left.cOut.push(n),n.right.cIn.push(n)}),this.inactive=r.map(function(n){return n.active=!1,n}),this.bs=null}return t.prototype.cost=function(){return this.bs.cost()},t.prototype.setStartingPositions=function(e){this.inactive=this.cs.map(function(r){return r.active=!1,r}),this.bs=new Blocks(this.vs),this.bs.forEach(function(r,n){return r.posn=e[n]})},t.prototype.setDesiredPositions=function(e){this.vs.forEach(function(r,n){return r.desiredPosition=e[n]})},t.prototype.mostViolated=function(){for(var e=Number.MAX_VALUE,r=null,n=this.inactive,a=n.length,o=a,s=0;s<a;++s){var l=n[s];if(!l.unsatisfiable){var u=l.slack();if((l.equality||u<e)&&(e=u,r=l,o=s,l.equality))break}}return o!==a&&(e<t.ZERO_UPPERBOUND&&!r.active||r.equality)&&(n[o]=n[a-1],n.length=a-1),r},t.prototype.satisfy=function(){this.bs==null&&(this.bs=new Blocks(this.vs)),this.bs.split(this.inactive);for(var e=null;(e=this.mostViolated())&&(e.equality||e.slack()<t.ZERO_UPPERBOUND&&!e.active);){var r=e.left.block,n=e.right.block;if(r!==n)this.bs.merge(e);else{if(r.isActiveDirectedPathBetween(e.right,e.left)){e.unsatisfiable=!0;continue}var a=r.splitBetween(e.left,e.right);if(a!==null)this.bs.insert(a.lb),this.bs.insert(a.rb),this.bs.remove(r),this.inactive.push(a.constraint);else{e.unsatisfiable=!0;continue}e.slack()>=0?this.inactive.push(e):this.bs.merge(e)}}},t.prototype.solve=function(){this.satisfy();for(var e=Number.MAX_VALUE,r=this.bs.cost();Math.abs(e-r)>1e-4;)this.satisfy(),e=r,r=this.bs.cost();return r},t.LAGRANGIAN_TOLERANCE=-1e-4,t.ZERO_UPPERBOUND=-1e-10,t}();vpsc.Solver=Solver;function removeOverlapInOneDimension(t,e,r){for(var n=t.map(function(b){return new Variable(b.desiredCenter)}),a=[],o=t.length,s=0;s<o-1;s++){var l=t[s],u=t[s+1];a.push(new Constraint(n[s],n[s+1],(l.size+u.size)/2))}var c=n[0],f=n[o-1],d=t[0].size/2,g=t[o-1].size/2,v=null,m=null;e&&(v=new Variable(e,c.weight*1e3),n.push(v),a.push(new Constraint(v,c,d))),r&&(m=new Variable(r,f.weight*1e3),n.push(m),a.push(new Constraint(f,m,g)));var y=new Solver(n,a);return y.solve(),{newCenters:n.slice(0,t.length).map(function(b){return b.position()}),lowerBound:v?v.position():c.position()-d,upperBound:m?m.position():f.position()+g}}vpsc.removeOverlapInOneDimension=removeOverlapInOneDimension;var rbtree={},__extends$5=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(rbtree,"__esModule",{value:!0});var TreeBase=function(){function t(){this.findIter=function(e){for(var r=this._root,n=this.iterator();r!==null;){var a=this._comparator(e,r.data);if(a===0)return n._cursor=r,n;n._ancestors.push(r),r=r.get_child(a>0)}return null}}return t.prototype.clear=function(){this._root=null,this.size=0},t.prototype.find=function(e){for(var r=this._root;r!==null;){var n=this._comparator(e,r.data);if(n===0)return r.data;r=r.get_child(n>0)}return null},t.prototype.lowerBound=function(e){return this._bound(e,this._comparator)},t.prototype.upperBound=function(e){var r=this._comparator;function n(a,o){return r(o,a)}return this._bound(e,n)},t.prototype.min=function(){var e=this._root;if(e===null)return null;for(;e.left!==null;)e=e.left;return e.data},t.prototype.max=function(){var e=this._root;if(e===null)return null;for(;e.right!==null;)e=e.right;return e.data},t.prototype.iterator=function(){return new Iterator(this)},t.prototype.each=function(e){for(var r=this.iterator(),n;(n=r.next())!==null;)e(n)},t.prototype.reach=function(e){for(var r=this.iterator(),n;(n=r.prev())!==null;)e(n)},t.prototype._bound=function(e,r){for(var n=this._root,a=this.iterator();n!==null;){var o=this._comparator(e,n.data);if(o===0)return a._cursor=n,a;a._ancestors.push(n),n=n.get_child(o>0)}for(var s=a._ancestors.length-1;s>=0;--s)if(n=a._ancestors[s],r(e,n.data)>0)return a._cursor=n,a._ancestors.length=s,a;return a._ancestors.length=0,a},t}();rbtree.TreeBase=TreeBase;var Iterator=function(){function t(e){this._tree=e,this._ancestors=[],this._cursor=null}return t.prototype.data=function(){return this._cursor!==null?this._cursor.data:null},t.prototype.next=function(){if(this._cursor===null){var e=this._tree._root;e!==null&&this._minNode(e)}else if(this._cursor.right===null){var r;do if(r=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===r)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return this._cursor!==null?this._cursor.data:null},t.prototype.prev=function(){if(this._cursor===null){var e=this._tree._root;e!==null&&this._maxNode(e)}else if(this._cursor.left===null){var r;do if(r=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===r)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return this._cursor!==null?this._cursor.data:null},t.prototype._minNode=function(e){for(;e.left!==null;)this._ancestors.push(e),e=e.left;this._cursor=e},t.prototype._maxNode=function(e){for(;e.right!==null;)this._ancestors.push(e),e=e.right;this._cursor=e},t}();rbtree.Iterator=Iterator;var Node$3=function(){function t(e){this.data=e,this.left=null,this.right=null,this.red=!0}return t.prototype.get_child=function(e){return e?this.right:this.left},t.prototype.set_child=function(e,r){e?this.right=r:this.left=r},t}(),RBTree=function(t){__extends$5(e,t);function e(r){var n=t.call(this)||this;return n._root=null,n._comparator=r,n.size=0,n}return e.prototype.insert=function(r){var n=!1;if(this._root===null)this._root=new Node$3(r),n=!0,this.size++;else{var a=new Node$3(void 0),o=!1,s=!1,l=null,u=a,c=null,f=this._root;for(u.right=this._root;;){if(f===null?(f=new Node$3(r),c.set_child(o,f),n=!0,this.size++):e.is_red(f.left)&&e.is_red(f.right)&&(f.red=!0,f.left.red=!1,f.right.red=!1),e.is_red(f)&&e.is_red(c)){var d=u.right===l;f===c.get_child(s)?u.set_child(d,e.single_rotate(l,!s)):u.set_child(d,e.double_rotate(l,!s))}var g=this._comparator(f.data,r);if(g===0)break;s=o,o=g<0,l!==null&&(u=l),l=c,c=f,f=f.get_child(o)}this._root=a.right}return this._root.red=!1,n},e.prototype.remove=function(r){if(this._root===null)return!1;var n=new Node$3(void 0),a=n;a.right=this._root;for(var o=null,s=null,l=null,u=!0;a.get_child(u)!==null;){var c=u;s=o,o=a,a=a.get_child(u);var f=this._comparator(r,a.data);if(u=f>0,f===0&&(l=a),!e.is_red(a)&&!e.is_red(a.get_child(u))){if(e.is_red(a.get_child(!u))){var d=e.single_rotate(a,u);o.set_child(c,d),o=d}else if(!e.is_red(a.get_child(!u))){var g=o.get_child(!c);if(g!==null)if(!e.is_red(g.get_child(!c))&&!e.is_red(g.get_child(c)))o.red=!1,g.red=!0,a.red=!0;else{var v=s.right===o;e.is_red(g.get_child(c))?s.set_child(v,e.double_rotate(o,c)):e.is_red(g.get_child(!c))&&s.set_child(v,e.single_rotate(o,c));var m=s.get_child(v);m.red=!0,a.red=!0,m.left.red=!1,m.right.red=!1}}}}return l!==null&&(l.data=a.data,o.set_child(o.right===a,a.get_child(a.left===null)),this.size--),this._root=n.right,this._root!==null&&(this._root.red=!1),l!==null},e.is_red=function(r){return r!==null&&r.red},e.single_rotate=function(r,n){var a=r.get_child(!n);return r.set_child(!n,a.get_child(n)),a.set_child(n,r),r.red=!0,a.red=!1,a},e.double_rotate=function(r,n){return r.set_child(!n,e.single_rotate(r.get_child(!n),!n)),e.single_rotate(r,n)},e}(TreeBase);rbtree.RBTree=RBTree;var __extends$4=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(rectangle,"__esModule",{value:!0});var vpsc_1$1=vpsc,rbtree_1=rbtree;function computeGroupBounds(t){return t.bounds=typeof t.leaves!="undefined"?t.leaves.reduce(function(e,r){return r.bounds.union(e)},Rectangle.empty()):Rectangle.empty(),typeof t.groups!="undefined"&&(t.bounds=t.groups.reduce(function(e,r){return computeGroupBounds(r).union(e)},t.bounds)),t.bounds=t.bounds.inflate(t.padding),t.bounds}rectangle.computeGroupBounds=computeGroupBounds;var Rectangle=function(){function t(e,r,n,a){this.x=e,this.X=r,this.y=n,this.Y=a}return t.empty=function(){return new t(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},t.prototype.cx=function(){return(this.x+this.X)/2},t.prototype.cy=function(){return(this.y+this.Y)/2},t.prototype.overlapX=function(e){var r=this.cx(),n=e.cx();return r<=n&&e.x<this.X?this.X-e.x:n<=r&&this.x<e.X?e.X-this.x:0},t.prototype.overlapY=function(e){var r=this.cy(),n=e.cy();return r<=n&&e.y<this.Y?this.Y-e.y:n<=r&&this.y<e.Y?e.Y-this.y:0},t.prototype.setXCentre=function(e){var r=e-this.cx();this.x+=r,this.X+=r},t.prototype.setYCentre=function(e){var r=e-this.cy();this.y+=r,this.Y+=r},t.prototype.width=function(){return this.X-this.x},t.prototype.height=function(){return this.Y-this.y},t.prototype.union=function(e){return new t(Math.min(this.x,e.x),Math.max(this.X,e.X),Math.min(this.y,e.y),Math.max(this.Y,e.Y))},t.prototype.lineIntersections=function(e,r,n,a){for(var o=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],s=[],l=0;l<4;++l){var u=t.lineIntersection(e,r,n,a,o[l][0],o[l][1],o[l][2],o[l][3]);u!==null&&s.push({x:u.x,y:u.y})}return s},t.prototype.rayIntersection=function(e,r){var n=this.lineIntersections(this.cx(),this.cy(),e,r);return n.length>0?n[0]:null},t.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},t.lineIntersection=function(e,r,n,a,o,s,l,u){var c=n-e,f=l-o,d=a-r,g=u-s,v=g*c-f*d;if(v==0)return null;var m=e-o,y=r-s,b=f*y-g*m,E=b/v,w=c*y-d*m,_=w/v;return E>=0&&E<=1&&_>=0&&_<=1?{x:e+E*c,y:r+E*d}:null},t.prototype.inflate=function(e){return new t(this.x-e,this.X+e,this.y-e,this.Y+e)},t}();rectangle.Rectangle=Rectangle;function makeEdgeBetween(t,e,r){var n=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},a=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},o=a.x-n.x,s=a.y-n.y,l=Math.sqrt(o*o+s*s),u=l-r;return{sourceIntersection:n,targetIntersection:a,arrowStart:{x:n.x+u*o/l,y:n.y+u*s/l}}}rectangle.makeEdgeBetween=makeEdgeBetween;function makeEdgeTo(t,e,r){var n=e.rayIntersection(t.x,t.y);n||(n={x:e.cx(),y:e.cy()});var a=n.x-t.x,o=n.y-t.y,s=Math.sqrt(a*a+o*o);return{x:n.x-r*a/s,y:n.y-r*o/s}}rectangle.makeEdgeTo=makeEdgeTo;var Node$2=function(){function t(e,r,n){this.v=e,this.r=r,this.pos=n,this.prev=makeRBTree(),this.next=makeRBTree()}return t}(),Event$1=function(){function t(e,r,n){this.isOpen=e,this.v=r,this.pos=n}return t}();function compareEvents(t,e){return t.pos>e.pos?1:t.pos<e.pos||t.isOpen?-1:e.isOpen?1:0}function makeRBTree(){return new rbtree_1.RBTree(function(t,e){return t.pos-e.pos})}var xRect={getCentre:function(t){return t.cx()},getOpen:function(t){return t.y},getClose:function(t){return t.Y},getSize:function(t){return t.width()},makeRect:function(t,e,r,n){return new Rectangle(r-n/2,r+n/2,t,e)},findNeighbours:findXNeighbours},yRect={getCentre:function(t){return t.cy()},getOpen:function(t){return t.x},getClose:function(t){return t.X},getSize:function(t){return t.height()},makeRect:function(t,e,r,n){return new Rectangle(t,e,r-n/2,r+n/2)},findNeighbours:findYNeighbours};function generateGroupConstraints(t,e,r,n){n===void 0&&(n=!1);var a=t.padding,o=typeof t.groups!="undefined"?t.groups.length:0,s=typeof t.leaves!="undefined"?t.leaves.length:0,l=o?t.groups.reduce(function(O,D){return O.concat(generateGroupConstraints(D,e,r,!0))},[]):[],u=(n?2:0)+s+o,c=new Array(u),f=new Array(u),d=0,g=function(O,D){f[d]=O,c[d++]=D};if(n){var v=t.bounds,m=e.getCentre(v),y=e.getSize(v)/2,b=e.getOpen(v),E=e.getClose(v),w=m-y+a/2,_=m+y-a/2;t.minVar.desiredPosition=w,g(e.makeRect(b,E,w,a),t.minVar),t.maxVar.desiredPosition=_,g(e.makeRect(b,E,_,a),t.maxVar)}s&&t.leaves.forEach(function(O){return g(O.bounds,O.variable)}),o&&t.groups.forEach(function(O){var D=O.bounds;g(e.makeRect(e.getOpen(D),e.getClose(D),e.getCentre(D),e.getSize(D)),O.minVar)});var T=generateConstraints(f,c,e,r);return o&&(c.forEach(function(O){O.cOut=[],O.cIn=[]}),T.forEach(function(O){O.left.cOut.push(O),O.right.cIn.push(O)}),t.groups.forEach(function(O){var D=(O.padding-e.getSize(O.bounds))/2;O.minVar.cIn.forEach(function(x){return x.gap+=D}),O.minVar.cOut.forEach(function(x){x.left=O.maxVar,x.gap+=D})})),l.concat(T)}function generateConstraints(t,e,r,n){var a,o=t.length,s=2*o;console.assert(e.length>=o);var l=new Array(s);for(a=0;a<o;++a){var u=t[a],c=new Node$2(e[a],u,r.getCentre(u));l[a]=new Event$1(!0,c,r.getOpen(u)),l[a+o]=new Event$1(!1,c,r.getClose(u))}l.sort(compareEvents);var f=new Array,d=makeRBTree();for(a=0;a<s;++a){var g=l[a],c=g.v;if(g.isOpen)d.insert(c),r.findNeighbours(c,d);else{d.remove(c);var v=function(b,E){var w=(r.getSize(b.r)+r.getSize(E.r))/2+n;f.push(new vpsc_1$1.Constraint(b.v,E.v,w))},m=function(b,E,w){for(var _,T=c[b].iterator();(_=T[b]())!==null;)w(_,c),_[E].remove(c)};m("prev","next",function(b,E){return v(b,E)}),m("next","prev",function(b,E){return v(E,b)})}}return console.assert(d.size===0),f}function findXNeighbours(t,e){var r=function(n,a){for(var o=e.findIter(t),s;(s=o[n]())!==null;){var l=s.r.overlapX(t.r);if((l<=0||l<=s.r.overlapY(t.r))&&(t[n].insert(s),s[a].insert(t)),l<=0)break}};r("next","prev"),r("prev","next")}function findYNeighbours(t,e){var r=function(n,a){var o=e.findIter(t)[n]();o!==null&&o.r.overlapX(t.r)>0&&(t[n].insert(o),o[a].insert(t))};r("next","prev"),r("prev","next")}function generateXConstraints(t,e){return generateConstraints(t,e,xRect,1e-6)}rectangle.generateXConstraints=generateXConstraints;function generateYConstraints(t,e){return generateConstraints(t,e,yRect,1e-6)}rectangle.generateYConstraints=generateYConstraints;function generateXGroupConstraints(t){return generateGroupConstraints(t,xRect,1e-6)}rectangle.generateXGroupConstraints=generateXGroupConstraints;function generateYGroupConstraints(t){return generateGroupConstraints(t,yRect,1e-6)}rectangle.generateYGroupConstraints=generateYGroupConstraints;function removeOverlaps(t){var e=t.map(function(a){return new vpsc_1$1.Variable(a.cx())}),r=generateXConstraints(t,e),n=new vpsc_1$1.Solver(e,r);n.solve(),e.forEach(function(a,o){return t[o].setXCentre(a.position())}),e=t.map(function(a){return new vpsc_1$1.Variable(a.cy())}),r=generateYConstraints(t,e),n=new vpsc_1$1.Solver(e,r),n.solve(),e.forEach(function(a,o){return t[o].setYCentre(a.position())})}rectangle.removeOverlaps=removeOverlaps;var IndexedVariable=function(t){__extends$4(e,t);function e(r,n){var a=t.call(this,0,n)||this;return a.index=r,a}return e}(vpsc_1$1.Variable);rectangle.IndexedVariable=IndexedVariable;var Projection=function(){function t(e,r,n,a,o){var s=this;if(n===void 0&&(n=null),a===void 0&&(a=null),o===void 0&&(o=!1),this.nodes=e,this.groups=r,this.rootGroup=n,this.avoidOverlaps=o,this.variables=e.map(function(u,c){return u.variable=new IndexedVariable(c,1)}),a&&this.createConstraints(a),o&&n&&typeof n.groups!="undefined"){e.forEach(function(u){if(!u.width||!u.height){u.bounds=new Rectangle(u.x,u.x,u.y,u.y);return}var c=u.width/2,f=u.height/2;u.bounds=new Rectangle(u.x-c,u.x+c,u.y-f,u.y+f)}),computeGroupBounds(n);var l=e.length;r.forEach(function(u){s.variables[l]=u.minVar=new IndexedVariable(l++,typeof u.stiffness!="undefined"?u.stiffness:.01),s.variables[l]=u.maxVar=new IndexedVariable(l++,typeof u.stiffness!="undefined"?u.stiffness:.01)})}}return t.prototype.createSeparation=function(e){return new vpsc_1$1.Constraint(this.nodes[e.left].variable,this.nodes[e.right].variable,e.gap,typeof e.equality!="undefined"?e.equality:!1)},t.prototype.makeFeasible=function(e){var r=this;if(!!this.avoidOverlaps){var n="x",a="width";e.axis==="x"&&(n="y",a="height");var o=e.offsets.map(function(l){return r.nodes[l.node]}).sort(function(l,u){return l[n]-u[n]}),s=null;o.forEach(function(l){if(s){var u=s[n]+s[a];u>l[n]&&(l[n]=u)}s=l})}},t.prototype.createAlignment=function(e){var r=this,n=this.nodes[e.offsets[0].node].variable;this.makeFeasible(e);var a=e.axis==="x"?this.xConstraints:this.yConstraints;e.offsets.slice(1).forEach(function(o){var s=r.nodes[o.node].variable;a.push(new vpsc_1$1.Constraint(n,s,o.offset,!0))})},t.prototype.createConstraints=function(e){var r=this,n=function(a){return typeof a.type=="undefined"||a.type==="separation"};this.xConstraints=e.filter(function(a){return a.axis==="x"&&n(a)}).map(function(a){return r.createSeparation(a)}),this.yConstraints=e.filter(function(a){return a.axis==="y"&&n(a)}).map(function(a){return r.createSeparation(a)}),e.filter(function(a){return a.type==="alignment"}).forEach(function(a){return r.createAlignment(a)})},t.prototype.setupVariablesAndBounds=function(e,r,n,a){this.nodes.forEach(function(o,s){o.fixed?(o.variable.weight=o.fixedWeight?o.fixedWeight:1e3,n[s]=a(o)):o.variable.weight=1;var l=(o.width||0)/2,u=(o.height||0)/2,c=e[s],f=r[s];o.bounds=new Rectangle(c-l,c+l,f-u,f+u)})},t.prototype.xProject=function(e,r,n){!this.rootGroup&&!(this.avoidOverlaps||this.xConstraints)||this.project(e,r,e,n,function(a){return a.px},this.xConstraints,generateXGroupConstraints,function(a){return a.bounds.setXCentre(n[a.variable.index]=a.variable.position())},function(a){var o=n[a.minVar.index]=a.minVar.position(),s=n[a.maxVar.index]=a.maxVar.position(),l=a.padding/2;a.bounds.x=o-l,a.bounds.X=s+l})},t.prototype.yProject=function(e,r,n){!this.rootGroup&&!this.yConstraints||this.project(e,r,r,n,function(a){return a.py},this.yConstraints,generateYGroupConstraints,function(a){return a.bounds.setYCentre(n[a.variable.index]=a.variable.position())},function(a){var o=n[a.minVar.index]=a.minVar.position(),s=n[a.maxVar.index]=a.maxVar.position(),l=a.padding/2;a.bounds.y=o-l,a.bounds.Y=s+l})},t.prototype.projectFunctions=function(){var e=this;return[function(r,n,a){return e.xProject(r,n,a)},function(r,n,a){return e.yProject(r,n,a)}]},t.prototype.project=function(e,r,n,a,o,s,l,u,c){this.setupVariablesAndBounds(e,r,a,o),this.rootGroup&&this.avoidOverlaps&&(computeGroupBounds(this.rootGroup),s=s.concat(l(this.rootGroup))),this.solve(this.variables,s,n,a),this.nodes.forEach(u),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(c),computeGroupBounds(this.rootGroup))},t.prototype.solve=function(e,r,n,a){var o=new vpsc_1$1.Solver(e,r);o.setStartingPositions(n),o.setDesiredPositions(a),o.solve()},t}();rectangle.Projection=Projection;var shortestpaths={},pqueue={};Object.defineProperty(pqueue,"__esModule",{value:!0});var PairingHeap=function(){function t(e){this.elem=e,this.subheaps=[]}return t.prototype.toString=function(e){for(var r="",n=!1,a=0;a<this.subheaps.length;++a){var o=this.subheaps[a];if(!o.elem){n=!1;continue}n&&(r=r+","),r=r+o.toString(e),n=!0}return r!==""&&(r="("+r+")"),(this.elem?e(this.elem):"")+r},t.prototype.forEach=function(e){this.empty()||(e(this.elem,this),this.subheaps.forEach(function(r){return r.forEach(e)}))},t.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(e,r){return e+r.count()},0)},t.prototype.min=function(){return this.elem},t.prototype.empty=function(){return this.elem==null},t.prototype.contains=function(e){if(this===e)return!0;for(var r=0;r<this.subheaps.length;r++)if(this.subheaps[r].contains(e))return!0;return!1},t.prototype.isHeap=function(e){var r=this;return this.subheaps.every(function(n){return e(r.elem,n.elem)&&n.isHeap(e)})},t.prototype.insert=function(e,r){return this.merge(new t(e),r)},t.prototype.merge=function(e,r){return this.empty()?e:e.empty()?this:r(this.elem,e.elem)?(this.subheaps.push(e),this):(e.subheaps.push(this),e)},t.prototype.removeMin=function(e){return this.empty()?null:this.mergePairs(e)},t.prototype.mergePairs=function(e){if(this.subheaps.length==0)return new t(null);if(this.subheaps.length==1)return this.subheaps[0];var r=this.subheaps.pop().merge(this.subheaps.pop(),e),n=this.mergePairs(e);return r.merge(n,e)},t.prototype.decreaseKey=function(e,r,n,a){var o=e.removeMin(a);e.elem=o.elem,e.subheaps=o.subheaps,n!==null&&o.elem!==null&&n(e.elem,e);var s=new t(r);return n!==null&&n(r,s),this.merge(s,a)},t}();pqueue.PairingHeap=PairingHeap;var PriorityQueue=function(){function t(e){this.lessThan=e}return t.prototype.top=function(){return this.empty()?null:this.root.elem},t.prototype.push=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var n,a=0,o;o=e[a];++a)n=new PairingHeap(o),this.root=this.empty()?n:this.root.merge(n,this.lessThan);return n},t.prototype.empty=function(){return!this.root||!this.root.elem},t.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},t.prototype.forEach=function(e){this.root.forEach(e)},t.prototype.pop=function(){if(this.empty())return null;var e=this.root.min();return this.root=this.root.removeMin(this.lessThan),e},t.prototype.reduceKey=function(e,r,n){n===void 0&&(n=null),this.root=this.root.decreaseKey(e,r,n,this.lessThan)},t.prototype.toString=function(e){return this.root.toString(e)},t.prototype.count=function(){return this.root.count()},t}();pqueue.PriorityQueue=PriorityQueue;Object.defineProperty(shortestpaths,"__esModule",{value:!0});var pqueue_1=pqueue,Neighbour=function(){function t(e,r){this.id=e,this.distance=r}return t}(),Node$1=function(){function t(e){this.id=e,this.neighbours=[]}return t}(),QueueEntry=function(){function t(e,r,n){this.node=e,this.prev=r,this.d=n}return t}(),Calculator=function(){function t(e,r,n,a,o){this.n=e,this.es=r,this.neighbours=new Array(this.n);for(var s=this.n;s--;)this.neighbours[s]=new Node$1(s);for(s=this.es.length;s--;){var l=this.es[s],u=n(l),c=a(l),f=o(l);this.neighbours[u].neighbours.push(new Neighbour(c,f)),this.neighbours[c].neighbours.push(new Neighbour(u,f))}}return t.prototype.DistanceMatrix=function(){for(var e=new Array(this.n),r=0;r<this.n;++r)e[r]=this.dijkstraNeighbours(r);return e},t.prototype.DistancesFromNode=function(e){return this.dijkstraNeighbours(e)},t.prototype.PathFromNodeToNode=function(e,r){return this.dijkstraNeighbours(e,r)},t.prototype.PathFromNodeToNodeWithPrevCost=function(e,r,n){var a=new pqueue_1.PriorityQueue(function(y,b){return y.d<=b.d}),o=this.neighbours[e],s=new QueueEntry(o,null,0),l={};for(a.push(s);!a.empty()&&(s=a.pop(),o=s.node,o.id!==r);)for(var u=o.neighbours.length;u--;){var c=o.neighbours[u],f=this.neighbours[c.id];if(!(s.prev&&f.id===s.prev.node.id)){var d=f.id+","+o.id;if(!(d in l&&l[d]<=s.d)){var g=s.prev?n(s.prev.node.id,o.id,f.id):0,v=s.d+c.distance+g;l[d]=v,a.push(new QueueEntry(f,s,v))}}}for(var m=[];s.prev;)s=s.prev,m.push(s.node.id);return m},t.prototype.dijkstraNeighbours=function(e,r){r===void 0&&(r=-1);for(var n=new pqueue_1.PriorityQueue(function(g,v){return g.d<=v.d}),a=this.neighbours.length,o=new Array(a);a--;){var s=this.neighbours[a];s.d=a===e?0:Number.POSITIVE_INFINITY,s.q=n.push(s)}for(;!n.empty();){var l=n.pop();if(o[l.id]=l.d,l.id===r){for(var u=[],c=l;typeof c.prev!="undefined";)u.push(c.prev.id),c=c.prev;return u}for(a=l.neighbours.length;a--;){var f=l.neighbours[a],c=this.neighbours[f.id],d=l.d+f.distance;l.d!==Number.MAX_VALUE&&c.d>d&&(c.d=d,c.prev=l,n.reduceKey(c.q,c,function(v,m){return v.q=m}))}}return o},t}();shortestpaths.Calculator=Calculator;var geom={},__extends$3=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(geom,"__esModule",{value:!0});var rectangle_1$2=rectangle,Point$1=function(){function t(){}return t}();geom.Point=Point$1;var LineSegment=function(){function t(e,r,n,a){this.x1=e,this.y1=r,this.x2=n,this.y2=a}return t}();geom.LineSegment=LineSegment;var PolyPoint=function(t){__extends$3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Point$1);geom.PolyPoint=PolyPoint;function isLeft(t,e,r){return(e.x-t.x)*(r.y-t.y)-(r.x-t.x)*(e.y-t.y)}geom.isLeft=isLeft;function above(t,e,r){return isLeft(t,e,r)>0}function below(t,e,r){return isLeft(t,e,r)<0}function ConvexHull(t){var e=t.slice(0).sort(function(g,v){return g.x!==v.x?v.x-g.x:v.y-g.y}),r=t.length,n,a=0,o=e[0].x;for(n=1;n<r&&e[n].x===o;++n);var s=n-1,l=[];if(l.push(e[a]),s===r-1)e[s].y!==e[a].y&&l.push(e[s]);else{var u,c=r-1,f=e[r-1].x;for(n=r-2;n>=0&&e[n].x===f;n--);for(u=n+1,n=s;++n<=u;)if(!(isLeft(e[a],e[u],e[n])>=0&&n<u)){for(;l.length>1&&!(isLeft(l[l.length-2],l[l.length-1],e[n])>0);)l.length-=1;n!=a&&l.push(e[n])}c!=u&&l.push(e[c]);var d=l.length;for(n=u;--n>=s;)if(!(isLeft(e[c],e[s],e[n])>=0&&n>s)){for(;l.length>d&&!(isLeft(l[l.length-2],l[l.length-1],e[n])>0);)l.length-=1;n!=a&&l.push(e[n])}}return l}geom.ConvexHull=ConvexHull;function clockwiseRadialSweep(t,e,r){e.slice(0).sort(function(n,a){return Math.atan2(n.y-t.y,n.x-t.x)-Math.atan2(a.y-t.y,a.x-t.x)}).forEach(r)}geom.clockwiseRadialSweep=clockwiseRadialSweep;function tangent_PointPolyC(t,e){var r=e.slice(0);return r.push(e[0]),{rtan:Rtangent_PointPolyC(t,r),ltan:Ltangent_PointPolyC(t,r)}}function Rtangent_PointPolyC(t,e){var r=e.length-1,n,a,o,s,l;if(below(t,e[1],e[0])&&!above(t,e[r-1],e[0]))return 0;for(n=0,a=r;;){if(a-n===1)return above(t,e[n],e[a])?n:a;if(o=Math.floor((n+a)/2),l=below(t,e[o+1],e[o]),l&&!above(t,e[o-1],e[o]))return o;s=above(t,e[n+1],e[n]),s?l||above(t,e[n],e[o])?a=o:n=o:l&&below(t,e[n],e[o])?a=o:n=o}}function Ltangent_PointPolyC(t,e){var r=e.length-1,n,a,o,s,l;if(above(t,e[r-1],e[0])&&!below(t,e[1],e[0]))return 0;for(n=0,a=r;;){if(a-n===1)return below(t,e[n],e[a])?n:a;if(o=Math.floor((n+a)/2),l=below(t,e[o+1],e[o]),above(t,e[o-1],e[o])&&!l)return o;s=below(t,e[n+1],e[n]),s?l?below(t,e[n],e[o])?a=o:n=o:a=o:l?n=o:above(t,e[n],e[o])?a=o:n=o}}function tangent_PolyPolyC(t,e,r,n,a,o){var s,l;s=r(e[0],t),l=n(t[s],e);for(var u=!1;!u;){for(u=!0;s===t.length-1&&(s=0),!a(e[l],t[s],t[s+1]);)++s;for(;l===0&&(l=e.length-1),!o(t[s],e[l],e[l-1]);)--l,u=!1}return{t1:s,t2:l}}geom.tangent_PolyPolyC=tangent_PolyPolyC;function LRtangent_PolyPolyC(t,e){var r=RLtangent_PolyPolyC(e,t);return{t1:r.t2,t2:r.t1}}geom.LRtangent_PolyPolyC=LRtangent_PolyPolyC;function RLtangent_PolyPolyC(t,e){return tangent_PolyPolyC(t,e,Rtangent_PointPolyC,Ltangent_PointPolyC,above,below)}geom.RLtangent_PolyPolyC=RLtangent_PolyPolyC;function LLtangent_PolyPolyC(t,e){return tangent_PolyPolyC(t,e,Ltangent_PointPolyC,Ltangent_PointPolyC,below,below)}geom.LLtangent_PolyPolyC=LLtangent_PolyPolyC;function RRtangent_PolyPolyC(t,e){return tangent_PolyPolyC(t,e,Rtangent_PointPolyC,Rtangent_PointPolyC,above,above)}geom.RRtangent_PolyPolyC=RRtangent_PolyPolyC;var BiTangent=function(){function t(e,r){this.t1=e,this.t2=r}return t}();geom.BiTangent=BiTangent;var BiTangents=function(){function t(){}return t}();geom.BiTangents=BiTangents;var TVGPoint=function(t){__extends$3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Point$1);geom.TVGPoint=TVGPoint;var VisibilityVertex=function(){function t(e,r,n,a){this.id=e,this.polyid=r,this.polyvertid=n,this.p=a,a.vv=this}return t}();geom.VisibilityVertex=VisibilityVertex;var VisibilityEdge=function(){function t(e,r){this.source=e,this.target=r}return t.prototype.length=function(){var e=this.source.p.x-this.target.p.x,r=this.source.p.y-this.target.p.y;return Math.sqrt(e*e+r*r)},t}();geom.VisibilityEdge=VisibilityEdge;var TangentVisibilityGraph=function(){function t(e,r){if(this.P=e,this.V=[],this.E=[],r)this.V=r.V.slice(0),this.E=r.E.slice(0);else{for(var n=e.length,a=0;a<n;a++){for(var o=e[a],s=0;s<o.length;++s){var l=o[s],u=new VisibilityVertex(this.V.length,a,s,l);this.V.push(u),s>0&&this.E.push(new VisibilityEdge(o[s-1].vv,u))}o.length>1&&this.E.push(new VisibilityEdge(o[0].vv,o[o.length-1].vv))}for(var a=0;a<n-1;a++)for(var c=e[a],s=a+1;s<n;s++){var f=e[s],d=tangents(c,f);for(var g in d){var v=d[g],m=c[v.t1],y=f[v.t2];this.addEdgeIfVisible(m,y,a,s)}}}}return t.prototype.addEdgeIfVisible=function(e,r,n,a){this.intersectsPolys(new LineSegment(e.x,e.y,r.x,r.y),n,a)||this.E.push(new VisibilityEdge(e.vv,r.vv))},t.prototype.addPoint=function(e,r){var n=this.P.length;this.V.push(new VisibilityVertex(this.V.length,n,0,e));for(var a=0;a<n;++a)if(a!==r){var o=this.P[a],s=tangent_PointPolyC(e,o);this.addEdgeIfVisible(e,o[s.ltan],r,a),this.addEdgeIfVisible(e,o[s.rtan],r,a)}return e.vv},t.prototype.intersectsPolys=function(e,r,n){for(var a=0,o=this.P.length;a<o;++a)if(a!=r&&a!=n&&intersects(e,this.P[a]).length>0)return!0;return!1},t}();geom.TangentVisibilityGraph=TangentVisibilityGraph;function intersects(t,e){for(var r=[],n=1,a=e.length;n<a;++n){var o=rectangle_1$2.Rectangle.lineIntersection(t.x1,t.y1,t.x2,t.y2,e[n-1].x,e[n-1].y,e[n].x,e[n].y);o&&r.push(o)}return r}function tangents(t,e){for(var r=t.length-1,n=e.length-1,a=new BiTangents,o=0;o<r;++o)for(var s=0;s<n;++s){var l=t[o==0?r-1:o-1],u=t[o],c=t[o+1],f=e[s==0?n-1:s-1],d=e[s],g=e[s+1],v=isLeft(l,u,d),m=isLeft(u,f,d),y=isLeft(u,d,g),b=isLeft(f,d,u),E=isLeft(d,l,u),w=isLeft(d,u,c);v>=0&&m>=0&&y<0&&b>=0&&E>=0&&w<0?a.ll=new BiTangent(o,s):v<=0&&m<=0&&y>0&&b<=0&&E<=0&&w>0?a.rr=new BiTangent(o,s):v<=0&&m>0&&y<=0&&b>=0&&E<0&&w>=0?a.rl=new BiTangent(o,s):v>=0&&m<0&&y>=0&&b<=0&&E>0&&w<=0&&(a.lr=new BiTangent(o,s))}return a}geom.tangents=tangents;function isPointInsidePoly(t,e){for(var r=1,n=e.length;r<n;++r)if(below(e[r-1],e[r],t))return!1;return!0}function isAnyPInQ(t,e){return!t.every(function(r){return!isPointInsidePoly(r,e)})}function polysOverlap(t,e){if(isAnyPInQ(t,e)||isAnyPInQ(e,t))return!0;for(var r=1,n=t.length;r<n;++r){var a=t[r],o=t[r-1];if(intersects(new LineSegment(o.x,o.y,a.x,a.y),e).length>0)return!0}return!1}geom.polysOverlap=polysOverlap;var handledisconnected={};Object.defineProperty(handledisconnected,"__esModule",{value:!0});var packingOptions={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};function applyPacking(t,e,r,d,f,o){f===void 0&&(f=1),o===void 0&&(o=!0);var s=0,l=0,u=e,c=r,f=typeof f!="undefined"?f:1,d=typeof d!="undefined"?d:0,g=0,v=0,m=0,y=0,b=[];if(t.length==0)return;E(t),_(t),o&&w(t);function E(L){L.forEach(function(C){R(C)});function R(C){var A=Number.MAX_VALUE,S=Number.MAX_VALUE,N=0,$=0;C.array.forEach(function(B){var P=typeof B.width!="undefined"?B.width:d,k=typeof B.height!="undefined"?B.height:d;P/=2,k/=2,N=Math.max(B.x+P,N),A=Math.min(B.x-P,A),$=Math.max(B.y+k,$),S=Math.min(B.y-k,S)}),C.width=N-A,C.height=$-S}}function w(L){L.forEach(function(R){var C={x:0,y:0};R.array.forEach(function(N){C.x+=N.x,C.y+=N.y}),C.x/=R.array.length,C.y/=R.array.length;var A={x:C.x-R.width/2,y:C.y-R.height/2},S={x:R.x-A.x+u/2-g/2,y:R.y-A.y+c/2-v/2};R.array.forEach(function(N){N.x+=S.x,N.y+=S.y})})}function _(L,R){var C=Number.POSITIVE_INFINITY,A=0;L.sort(function(X,ee){return ee.height-X.height}),m=L.reduce(function(X,ee){return X.width<ee.width?X.width:ee.width});for(var S=W=m,N=U=D(L),$=0,B=Number.MAX_VALUE,P=Number.MAX_VALUE,k=-1,H=Number.MAX_VALUE,G=Number.MAX_VALUE;H>m||G>packingOptions.FLOAT_EPSILON;){if(k!=1)var W=N-(N-S)/packingOptions.GOLDEN_SECTION,B=T(L,W);if(k!=0)var U=S+(N-S)/packingOptions.GOLDEN_SECTION,P=T(L,U);if(H=Math.abs(W-U),G=Math.abs(B-P),B<C&&(C=B,A=W),P<C&&(C=P,A=U),B>P?(S=W,W=U,B=P,k=1):(N=U,U=W,P=B,k=0),$++>100)break}T(L,A)}function T(L,R){b=[],g=0,v=0,y=l;for(var C=0;C<L.length;C++){var A=L[C];O(A,R)}return Math.abs(x()-f)}function O(L,R){for(var C=void 0,A=0;A<b.length;A++)if(b[A].space_left>=L.height&&b[A].x+b[A].width+L.width+packingOptions.PADDING-R<=packingOptions.FLOAT_EPSILON){C=b[A];break}b.push(L),C!==void 0?(L.x=C.x+C.width+packingOptions.PADDING,L.y=C.bottom,L.space_left=L.height,L.bottom=L.y,C.space_left-=L.height+packingOptions.PADDING,C.bottom+=L.height+packingOptions.PADDING):(L.y=y,y+=L.height+packingOptions.PADDING,L.x=s,L.bottom=L.y,L.space_left=L.height),L.y+L.height-v>-packingOptions.FLOAT_EPSILON&&(v=L.y+L.height-l),L.x+L.width-g>-packingOptions.FLOAT_EPSILON&&(g=L.x+L.width-s)}function D(L){var R=0;return L.forEach(function(C){return R+=C.width+packingOptions.PADDING}),R}function x(){return g/v}}handledisconnected.applyPacking=applyPacking;function separateGraphs(t,e){for(var r={},n={},a=[],o=0,s=0;s<e.length;s++){var l=e[s],u=l.source,c=l.target;n[u.index]?n[u.index].push(c):n[u.index]=[c],n[c.index]?n[c.index].push(u):n[c.index]=[u]}for(var s=0;s<t.length;s++){var f=t[s];r[f.index]||d(f,!0)}function d(g,v){if(r[g.index]===void 0){v&&(o++,a.push({array:[]})),r[g.index]=o,a[o-1].array.push(g);var m=n[g.index];if(!!m)for(var y=0;y<m.length;y++)d(m[y],!1)}}return a}handledisconnected.separateGraphs=separateGraphs;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=powergraph,r=linklengths,n=descent,a=rectangle,o=shortestpaths,s=geom,l=handledisconnected,u;(function(d){d[d.start=0]="start",d[d.tick=1]="tick",d[d.end=2]="end"})(u=t.EventType||(t.EventType={}));function c(d){return typeof d.leaves!="undefined"||typeof d.groups!="undefined"}var f=function(){function d(){var g=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:d.getSourceIndex,getTargetIndex:d.getTargetIndex,setLength:d.setLinkLength,getType:function(v){return typeof g._linkType=="function"?g._linkType(v):0}}}return d.prototype.on=function(g,v){return this.event||(this.event={}),typeof g=="string"?this.event[u[g]]=v:this.event[g]=v,this},d.prototype.trigger=function(g){this.event&&typeof this.event[g.type]!="undefined"&&this.event[g.type](g)},d.prototype.kick=function(){for(;!this.tick(););},d.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:u.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var g=this._nodes.length;this._links.length;var v,m;for(this._descent.locks.clear(),m=0;m<g;++m)if(v=this._nodes[m],v.fixed){(typeof v.px=="undefined"||typeof v.py=="undefined")&&(v.px=v.x,v.py=v.y);var y=[v.px,v.py];this._descent.locks.add(m,y)}var b=this._descent.rungeKutta();return b===0?this._alpha=0:typeof this._lastStress!="undefined"&&(this._alpha=b),this._lastStress=b,this.updateNodePositions(),this.trigger({type:u.tick,alpha:this._alpha,stress:this._lastStress}),!1},d.prototype.updateNodePositions=function(){for(var g=this._descent.x[0],v=this._descent.x[1],m,y=this._nodes.length;y--;)m=this._nodes[y],m.x=g[y],m.y=v[y]},d.prototype.nodes=function(g){if(!g){if(this._nodes.length===0&&this._links.length>0){var v=0;this._links.forEach(function(y){v=Math.max(v,y.source,y.target)}),this._nodes=new Array(++v);for(var m=0;m<v;++m)this._nodes[m]={}}return this._nodes}return this._nodes=g,this},d.prototype.groups=function(g){var v=this;return g?(this._groups=g,this._rootGroup={},this._groups.forEach(function(m){typeof m.padding=="undefined"&&(m.padding=1),typeof m.leaves!="undefined"&&m.leaves.forEach(function(y,b){typeof y=="number"&&((m.leaves[b]=v._nodes[y]).parent=m)}),typeof m.groups!="undefined"&&m.groups.forEach(function(y,b){typeof y=="number"&&((m.groups[b]=v._groups[y]).parent=m)})}),this._rootGroup.leaves=this._nodes.filter(function(m){return typeof m.parent=="undefined"}),this._rootGroup.groups=this._groups.filter(function(m){return typeof m.parent=="undefined"}),this):this._groups},d.prototype.powerGraphGroups=function(g){var v=e.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(v.groups),g(v),this},d.prototype.avoidOverlaps=function(g){return arguments.length?(this._avoidOverlaps=g,this):this._avoidOverlaps},d.prototype.handleDisconnected=function(g){return arguments.length?(this._handleDisconnected=g,this):this._handleDisconnected},d.prototype.flowLayout=function(g,v){return arguments.length||(g="y"),this._directedLinkConstraints={axis:g,getMinSeparation:typeof v=="number"?function(){return v}:v},this},d.prototype.links=function(g){return arguments.length?(this._links=g,this):this._links},d.prototype.constraints=function(g){return arguments.length?(this._constraints=g,this):this._constraints},d.prototype.distanceMatrix=function(g){return arguments.length?(this._distanceMatrix=g,this):this._distanceMatrix},d.prototype.size=function(g){return g?(this._canvasSize=g,this):this._canvasSize},d.prototype.defaultNodeSize=function(g){return g?(this._defaultNodeSize=g,this):this._defaultNodeSize},d.prototype.groupCompactness=function(g){return g?(this._groupCompactness=g,this):this._groupCompactness},d.prototype.linkDistance=function(g){return g?(this._linkDistance=typeof g=="function"?g:+g,this._linkLengthCalculator=null,this):this._linkDistance},d.prototype.linkType=function(g){return this._linkType=g,this},d.prototype.convergenceThreshold=function(g){return g?(this._threshold=typeof g=="function"?g:+g,this):this._threshold},d.prototype.alpha=function(g){return arguments.length?(g=+g,this._alpha?g>0?this._alpha=g:this._alpha=0:g>0&&(this._running||(this._running=!0,this.trigger({type:u.start,alpha:this._alpha=g}),this.kick())),this):this._alpha},d.prototype.getLinkLength=function(g){return typeof this._linkDistance=="function"?+this._linkDistance(g):this._linkDistance},d.setLinkLength=function(g,v){g.length=v},d.prototype.getLinkType=function(g){return typeof this._linkType=="function"?this._linkType(g):0},d.prototype.symmetricDiffLinkLengths=function(g,v){var m=this;return v===void 0&&(v=1),this.linkDistance(function(y){return g*y.length}),this._linkLengthCalculator=function(){return r.symmetricDiffLinkLengths(m._links,m.linkAccessor,v)},this},d.prototype.jaccardLinkLengths=function(g,v){var m=this;return v===void 0&&(v=1),this.linkDistance(function(y){return g*y.length}),this._linkLengthCalculator=function(){return r.jaccardLinkLengths(m._links,m.linkAccessor,v)},this},d.prototype.start=function(g,v,m,y,b,E){var w=this;g===void 0&&(g=0),v===void 0&&(v=0),m===void 0&&(m=0),y===void 0&&(y=0),b===void 0&&(b=!0),E===void 0&&(E=!0);var _,T=this.nodes().length,O=T+2*this._groups.length;this._links.length;var D=this._canvasSize[0],x=this._canvasSize[1],L=new Array(O),R=new Array(O),C=null,A=this._avoidOverlaps;this._nodes.forEach(function(G,W){G.index=W,typeof G.x=="undefined"&&(G.x=D/2,G.y=x/2),L[W]=G.x,R[W]=G.y}),this._linkLengthCalculator&&this._linkLengthCalculator();var S;this._distanceMatrix?S=this._distanceMatrix:(S=new o.Calculator(O,this._links,d.getSourceIndex,d.getTargetIndex,function(G){return w.getLinkLength(G)}).DistanceMatrix(),C=n.Descent.createSquareMatrix(O,function(){return 2}),this._links.forEach(function(G){typeof G.source=="number"&&(G.source=w._nodes[G.source]),typeof G.target=="number"&&(G.target=w._nodes[G.target])}),this._links.forEach(function(G){var W=d.getSourceIndex(G),U=d.getTargetIndex(G);C[W][U]=C[U][W]=G.weight||1}));var N=n.Descent.createSquareMatrix(O,function(G,W){return S[G][W]});if(this._rootGroup&&typeof this._rootGroup.groups!="undefined"){var _=T,$=function(W,U,X,ee){C[W][U]=C[U][W]=X,N[W][U]=N[U][W]=ee};this._groups.forEach(function(W){$(_,_+1,w._groupCompactness,.1),L[_]=0,R[_++]=0,L[_]=0,R[_++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var B=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,B=B.concat(r.generateDirectedEdgeConstraints(T,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new n.Descent([L,R],N),this._descent.locks.clear();for(var _=0;_<T;++_){var P=this._nodes[_];if(P.fixed){P.px=P.x,P.py=P.y;var k=[P.x,P.y];this._descent.locks.add(_,k)}}if(this._descent.threshold=this._threshold,this.initialLayout(g,L,R),B.length>0&&(this._descent.project=new a.Projection(this._nodes,this._groups,this._rootGroup,B).projectFunctions()),this._descent.run(v),this.separateOverlappingComponents(D,x,E),this.avoidOverlaps(A),A&&(this._nodes.forEach(function(G,W){G.x=L[W],G.y=R[W]}),this._descent.project=new a.Projection(this._nodes,this._groups,this._rootGroup,B,!0).projectFunctions(),this._nodes.forEach(function(G,W){L[W]=G.x,R[W]=G.y})),this._descent.G=C,this._descent.run(m),y){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=T,this._descent.scaleSnapByMaxH=T!=O;var H=n.Descent.createSquareMatrix(O,function(G,W){return G>=T||W>=T?C[G][W]:0});this._descent.G=H,this._descent.run(y)}return this.updateNodePositions(),this.separateOverlappingComponents(D,x,E),b?this.resume():this},d.prototype.initialLayout=function(g,v,m){if(this._groups.length>0&&g>0){var y=this._nodes.length,b=this._links.map(function(w){return{source:w.source.index,target:w.target.index}}),E=this._nodes.map(function(w){return{index:w.index}});this._groups.forEach(function(w,_){E.push({index:w.index=y+_})}),this._groups.forEach(function(w,_){typeof w.leaves!="undefined"&&w.leaves.forEach(function(T){return b.push({source:w.index,target:T.index})}),typeof w.groups!="undefined"&&w.groups.forEach(function(T){return b.push({source:w.index,target:T.index})})}),new d().size(this.size()).nodes(E).links(b).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(g,0,0,0,!1),this._nodes.forEach(function(w){v[w.index]=E[w.index].x,m[w.index]=E[w.index].y})}else this._descent.run(g)},d.prototype.separateOverlappingComponents=function(g,v,m){var y=this;if(m===void 0&&(m=!0),!this._distanceMatrix&&this._handleDisconnected){var b=this._descent.x[0],E=this._descent.x[1];this._nodes.forEach(function(_,T){_.x=b[T],_.y=E[T]});var w=l.separateGraphs(this._nodes,this._links);l.applyPacking(w,g,v,this._defaultNodeSize,1,m),this._nodes.forEach(function(_,T){y._descent.x[0][T]=_.x,y._descent.x[1][T]=_.y,_.bounds&&(_.bounds.setXCentre(_.x),_.bounds.setYCentre(_.y))})}},d.prototype.resume=function(){return this.alpha(.1)},d.prototype.stop=function(){return this.alpha(0)},d.prototype.prepareEdgeRouting=function(g){g===void 0&&(g=0),this._visibilityGraph=new s.TangentVisibilityGraph(this._nodes.map(function(v){return v.bounds.inflate(-g).vertices()}))},d.prototype.routeEdge=function(g,v,m){v===void 0&&(v=5);var y=[],b=new s.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),E={x:g.source.x,y:g.source.y},w={x:g.target.x,y:g.target.y},_=b.addPoint(E,g.source.index),T=b.addPoint(w,g.target.index);b.addEdgeIfVisible(E,w,g.source.index,g.target.index),typeof m!="undefined"&&m(b);var O=function(B){return B.source.id},D=function(B){return B.target.id},x=function(B){return B.length()},L=new o.Calculator(b.V.length,b.E,O,D,x),R=L.PathFromNodeToNode(_.id,T.id);if(R.length===1||R.length===b.V.length){var C=a.makeEdgeBetween(g.source.innerBounds,g.target.innerBounds,v);y=[C.sourceIntersection,C.arrowStart]}else{for(var A=R.length-2,S=b.V[R[A]].p,N=b.V[R[0]].p,y=[g.source.innerBounds.rayIntersection(S.x,S.y)],$=A;$>=0;--$)y.push(b.V[R[$]].p);y.push(a.makeEdgeTo(N,g.target.innerBounds,v))}return y},d.getSourceIndex=function(g){return typeof g.source=="number"?g.source:g.source.index},d.getTargetIndex=function(g){return typeof g.target=="number"?g.target:g.target.index},d.linkId=function(g){return d.getSourceIndex(g)+"-"+d.getTargetIndex(g)},d.dragStart=function(g){c(g)?d.storeOffset(g,d.dragOrigin(g)):(d.stopNode(g),g.fixed|=2)},d.stopNode=function(g){g.px=g.x,g.py=g.y},d.storeOffset=function(g,v){typeof g.leaves!="undefined"&&g.leaves.forEach(function(m){m.fixed|=2,d.stopNode(m),m._dragGroupOffsetX=m.x-v.x,m._dragGroupOffsetY=m.y-v.y}),typeof g.groups!="undefined"&&g.groups.forEach(function(m){return d.storeOffset(m,v)})},d.dragOrigin=function(g){return c(g)?{x:g.bounds.cx(),y:g.bounds.cy()}:g},d.drag=function(g,v){c(g)?(typeof g.leaves!="undefined"&&g.leaves.forEach(function(m){g.bounds.setXCentre(v.x),g.bounds.setYCentre(v.y),m.px=m._dragGroupOffsetX+v.x,m.py=m._dragGroupOffsetY+v.y}),typeof g.groups!="undefined"&&g.groups.forEach(function(m){return d.drag(m,v)})):(g.px=v.x,g.py=v.y)},d.dragEnd=function(g){c(g)?(typeof g.leaves!="undefined"&&g.leaves.forEach(function(v){d.dragEnd(v),delete v._dragGroupOffsetX,delete v._dragGroupOffsetY}),typeof g.groups!="undefined"&&g.groups.forEach(d.dragEnd)):g.fixed&=-7},d.mouseOver=function(g){g.fixed|=4,g.px=g.x,g.py=g.y},d.mouseOut=function(g){g.fixed&=-5},d}();t.Layout=f})(layout);var __extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(adaptor$1,"__esModule",{value:!0});var layout_1$3=layout,LayoutAdaptor=function(t){__extends$2(e,t);function e(r){var n=t.call(this)||this,a=r;return a.trigger&&(n.trigger=a.trigger),a.kick&&(n.kick=a.kick),a.drag&&(n.drag=a.drag),a.on&&(n.on=a.on),n.dragstart=n.dragStart=layout_1$3.Layout.dragStart,n.dragend=n.dragEnd=layout_1$3.Layout.dragEnd,n}return e.prototype.trigger=function(r){},e.prototype.kick=function(){},e.prototype.drag=function(){},e.prototype.on=function(r,n){return this},e}(layout_1$3.Layout);adaptor$1.LayoutAdaptor=LayoutAdaptor;function adaptor(t){return new LayoutAdaptor(t)}adaptor$1.adaptor=adaptor;var d3adaptor$2={},d3v3adaptor={},__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(d3v3adaptor,"__esModule",{value:!0});var layout_1$2=layout,D3StyleLayoutAdaptor$1=function(t){__extends$1(e,t);function e(){var r=t.call(this)||this;r.event=d3.dispatch(layout_1$2.EventType[layout_1$2.EventType.start],layout_1$2.EventType[layout_1$2.EventType.tick],layout_1$2.EventType[layout_1$2.EventType.end]);var n=r;return r.drag=function(){if(!a)var a=d3.behavior.drag().origin(layout_1$2.Layout.dragOrigin).on("dragstart.d3adaptor",layout_1$2.Layout.dragStart).on("drag.d3adaptor",function(o){layout_1$2.Layout.drag(o,d3.event),n.resume()}).on("dragend.d3adaptor",layout_1$2.Layout.dragEnd);if(!arguments.length)return a;this.call(a)},r}return e.prototype.trigger=function(r){var n={type:layout_1$2.EventType[r.type],alpha:r.alpha,stress:r.stress};this.event[n.type](n)},e.prototype.kick=function(){var r=this;d3.timer(function(){return t.prototype.tick.call(r)})},e.prototype.on=function(r,n){return typeof r=="string"?this.event.on(r,n):this.event.on(layout_1$2.EventType[r],n),this},e}(layout_1$2.Layout);d3v3adaptor.D3StyleLayoutAdaptor=D3StyleLayoutAdaptor$1;function d3adaptor$1(){return new D3StyleLayoutAdaptor$1}d3v3adaptor.d3adaptor=d3adaptor$1;var d3v4adaptor={},__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(d3v4adaptor,"__esModule",{value:!0});var layout_1$1=layout,D3StyleLayoutAdaptor=function(t){__extends(e,t);function e(r){var n=t.call(this)||this;n.d3Context=r,n.event=r.dispatch(layout_1$1.EventType[layout_1$1.EventType.start],layout_1$1.EventType[layout_1$1.EventType.tick],layout_1$1.EventType[layout_1$1.EventType.end]);var a=n;return n.drag=function(){if(!o)var o=r.drag().subject(layout_1$1.Layout.dragOrigin).on("start.d3adaptor",layout_1$1.Layout.dragStart).on("drag.d3adaptor",function(s){layout_1$1.Layout.drag(s,r.event),a.resume()}).on("end.d3adaptor",layout_1$1.Layout.dragEnd);if(!arguments.length)return o;arguments[0].call(o)},n}return e.prototype.trigger=function(r){var n={type:layout_1$1.EventType[r.type],alpha:r.alpha,stress:r.stress};this.event.call(n.type,n)},e.prototype.kick=function(){var r=this,n=this.d3Context.timer(function(){return t.prototype.tick.call(r)&&n.stop()})},e.prototype.on=function(r,n){return typeof r=="string"?this.event.on(r,n):this.event.on(layout_1$1.EventType[r],n),this},e}(layout_1$1.Layout);d3v4adaptor.D3StyleLayoutAdaptor=D3StyleLayoutAdaptor;Object.defineProperty(d3adaptor$2,"__esModule",{value:!0});var d3v3=d3v3adaptor,d3v4=d3v4adaptor;function d3adaptor(t){return!t||isD3V3(t)?new d3v3.D3StyleLayoutAdaptor:new d3v4.D3StyleLayoutAdaptor(t)}d3adaptor$2.d3adaptor=d3adaptor;function isD3V3(t){var e=/^3\./;return t.version&&t.version.match(e)!==null}var gridrouter={};Object.defineProperty(gridrouter,"__esModule",{value:!0});var rectangle_1$1=rectangle,vpsc_1=vpsc,shortestpaths_1$1=shortestpaths,NodeWrapper=function(){function t(e,r,n){this.id=e,this.rect=r,this.children=n,this.leaf=typeof n=="undefined"||n.length===0}return t}();gridrouter.NodeWrapper=NodeWrapper;var Vert=function(){function t(e,r,n,a,o){a===void 0&&(a=null),o===void 0&&(o=null),this.id=e,this.x=r,this.y=n,this.node=a,this.line=o}return t}();gridrouter.Vert=Vert;var LongestCommonSubsequence=function(){function t(e,r){this.s=e,this.t=r;var n=t.findMatch(e,r),a=r.slice(0).reverse(),o=t.findMatch(e,a);n.length>=o.length?(this.length=n.length,this.si=n.si,this.ti=n.ti,this.reversed=!1):(this.length=o.length,this.si=o.si,this.ti=r.length-o.ti-o.length,this.reversed=!0)}return t.findMatch=function(e,r){for(var n=e.length,a=r.length,o={length:0,si:-1,ti:-1},s=new Array(n),l=0;l<n;l++){s[l]=new Array(a);for(var u=0;u<a;u++)if(e[l]===r[u]){var c=s[l][u]=l===0||u===0?1:s[l-1][u-1]+1;c>o.length&&(o.length=c,o.si=l-c+1,o.ti=u-c+1)}else s[l][u]=0}return o},t.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},t}();gridrouter.LongestCommonSubsequence=LongestCommonSubsequence;var GridRouter=function(){function t(e,r,n){var a=this;n===void 0&&(n=12),this.originalnodes=e,this.groupPadding=n,this.leaves=null,this.nodes=e.map(function(y,b){return new NodeWrapper(b,r.getBounds(y),r.getChildren(y))}),this.leaves=this.nodes.filter(function(y){return y.leaf}),this.groups=this.nodes.filter(function(y){return!y.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(y){return y.children.forEach(function(b){return a.nodes[b].parent=y})}),this.root={children:[]},this.nodes.forEach(function(y){typeof y.parent=="undefined"&&(y.parent=a.root,a.root.children.push(y.id)),y.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(y,b){return a.getDepth(y)-a.getDepth(b)});var o=this.backToFront.slice(0).reverse().filter(function(y){return!y.leaf});o.forEach(function(y){var b=rectangle_1$1.Rectangle.empty();y.children.forEach(function(E){return b=b.union(a.nodes[E].rect)}),y.rect=b.inflate(a.groupPadding)});var s=this.midPoints(this.cols.map(function(y){return y.pos})),l=this.midPoints(this.rows.map(function(y){return y.pos})),u=s[0],c=s[s.length-1],f=l[0],d=l[l.length-1],g=this.rows.map(function(y){return{x1:u,x2:c,y1:y.pos,y2:y.pos}}).concat(l.map(function(y){return{x1:u,x2:c,y1:y,y2:y}})),v=this.cols.map(function(y){return{x1:y.pos,x2:y.pos,y1:f,y2:d}}).concat(s.map(function(y){return{x1:y,x2:y,y1:f,y2:d}})),m=g.concat(v);m.forEach(function(y){return y.verts=[]}),this.verts=[],this.edges=[],g.forEach(function(y){return v.forEach(function(b){var E=new Vert(a.verts.length,b.x1,y.y1);y.verts.push(E),b.verts.push(E),a.verts.push(E);for(var w=a.backToFront.length;w-- >0;){var _=a.backToFront[w],T=_.rect,O=Math.abs(E.x-T.cx()),D=Math.abs(E.y-T.cy());if(O<T.width()/2&&D<T.height()/2){E.node=_;break}}})}),m.forEach(function(y,b){a.nodes.forEach(function(D,x){D.rect.lineIntersections(y.x1,y.y1,y.x2,y.y2).forEach(function(L,R){var C=new Vert(a.verts.length,L.x,L.y,D,y);a.verts.push(C),y.verts.push(C),D.ports.push(C)})});var E=Math.abs(y.y1-y.y2)<.1,w=function(D,x){return E?x.x-D.x:x.y-D.y};y.verts.sort(w);for(var _=1;_<y.verts.length;_++){var T=y.verts[_-1],O=y.verts[_];T.node&&T.node===O.node&&T.node.leaf||a.edges.push({source:T.id,target:O.id,length:Math.abs(w(T,O))})}})}return t.prototype.avg=function(e){return e.reduce(function(r,n){return r+n})/e.length},t.prototype.getGridLines=function(e){for(var r=[],n=this.leaves.slice(0,this.leaves.length);n.length>0;){var a=n.filter(function(s){return s.rect["overlap"+e.toUpperCase()](n[0].rect)}),o={nodes:a,pos:this.avg(a.map(function(s){return s.rect["c"+e]()}))};r.push(o),o.nodes.forEach(function(s){return n.splice(n.indexOf(s),1)})}return r.sort(function(s,l){return s.pos-l.pos}),r},t.prototype.getDepth=function(e){for(var r=0;e.parent!==this.root;)r++,e=e.parent;return r},t.prototype.midPoints=function(e){for(var r=e[1]-e[0],n=[e[0]-r/2],a=1;a<e.length;a++)n.push((e[a]+e[a-1])/2);return n.push(e[e.length-1]+r/2),n},t.prototype.findLineage=function(e){var r=[e];do e=e.parent,r.push(e);while(e!==this.root);return r.reverse()},t.prototype.findAncestorPathBetween=function(e,r){for(var n=this.findLineage(e),a=this.findLineage(r),o=0;n[o]===a[o];)o++;return{commonAncestor:n[o-1],lineages:n.slice(o).concat(a.slice(o))}},t.prototype.siblingObstacles=function(e,r){var n=this,a=this.findAncestorPathBetween(e,r),o={};a.lineages.forEach(function(l){return o[l.id]={}});var s=a.commonAncestor.children.filter(function(l){return!(l in o)});return a.lineages.filter(function(l){return l.parent!==a.commonAncestor}).forEach(function(l){return s=s.concat(l.parent.children.filter(function(u){return u!==l.id}))}),s.map(function(l){return n.nodes[l]})},t.getSegmentSets=function(e,r,n){for(var a=[],o=0;o<e.length;o++)for(var s=e[o],l=0;l<s.length;l++){var u=s[l];u.edgeid=o,u.i=l;var c=u[1][r]-u[0][r];Math.abs(c)<.1&&a.push(u)}a.sort(function(v,m){return v[0][r]-m[0][r]});for(var f=[],d=null,g=0;g<a.length;g++){var u=a[g];(!d||Math.abs(u[0][r]-d.pos)>.1)&&(d={pos:u[0][r],segments:[]},f.push(d)),d.segments.push(u)}return f},t.nudgeSegs=function(e,r,n,a,o,s){var l=a.length;if(!(l<=1)){for(var u=a.map(function(_){return new vpsc_1.Variable(_[0][e])}),c=[],f=0;f<l;f++)for(var d=0;d<l;d++)if(f!==d){var g=a[f],v=a[d],m=g.edgeid,y=v.edgeid,b=-1,E=-1;e=="x"?o(m,y)&&(g[0][r]<g[1][r]?(b=d,E=f):(b=f,E=d)):o(m,y)&&(g[0][r]<g[1][r]?(b=f,E=d):(b=d,E=f)),b>=0&&c.push(new vpsc_1.Constraint(u[b],u[E],s))}var w=new vpsc_1.Solver(u,c);w.solve(),u.forEach(function(_,T){var O=a[T],D=_.position();O[0][e]=O[1][e]=D;var x=n[O.edgeid];O.i>0&&(x[O.i-1][1][e]=D),O.i<x.length-1&&(x[O.i+1][0][e]=D)})}},t.nudgeSegments=function(e,r,n,a,o){for(var s=t.getSegmentSets(e,r,n),l=0;l<s.length;l++){for(var u=s[l],c=[],f=0;f<u.segments.length;f++){var d=u.segments[f];c.push({type:0,s:d,pos:Math.min(d[0][n],d[1][n])}),c.push({type:1,s:d,pos:Math.max(d[0][n],d[1][n])})}c.sort(function(m,y){return m.pos-y.pos+m.type-y.type});var g=[],v=0;c.forEach(function(m){m.type===0?(g.push(m.s),v++):v--,v==0&&(t.nudgeSegs(r,n,e,g,a,o),g=[])})}},t.prototype.routeEdges=function(e,r,n,a){var o=this,s=e.map(function(c){return o.route(n(c),a(c))}),l=t.orderEdges(s),u=s.map(function(c){return t.makeSegments(c)});return t.nudgeSegments(u,"x","y",l,r),t.nudgeSegments(u,"y","x",l,r),t.unreverseEdges(u,s),u},t.unreverseEdges=function(e,r){e.forEach(function(n,a){var o=r[a];o.reversed&&(n.reverse(),n.forEach(function(s){s.reverse()}))})},t.angleBetween2Lines=function(e,r){var n=Math.atan2(e[0].y-e[1].y,e[0].x-e[1].x),a=Math.atan2(r[0].y-r[1].y,r[0].x-r[1].x),o=n-a;return(o>Math.PI||o<-Math.PI)&&(o=a-n),o},t.isLeft=function(e,r,n){return(r.x-e.x)*(n.y-e.y)-(r.y-e.y)*(n.x-e.x)<=0},t.getOrder=function(e){for(var r={},n=0;n<e.length;n++){var a=e[n];typeof r[a.l]=="undefined"&&(r[a.l]={}),r[a.l][a.r]=!0}return function(o,s){return typeof r[o]!="undefined"&&r[o][s]}},t.orderEdges=function(e){for(var r=[],n=0;n<e.length-1;n++)for(var a=n+1;a<e.length;a++){var o=e[n],s=e[a],l=new LongestCommonSubsequence(o,s),u,c,f;if(l.length!==0){if(l.reversed&&(s.reverse(),s.reversed=!0,l=new LongestCommonSubsequence(o,s)),(l.si<=0||l.ti<=0)&&(l.si+l.length>=o.length||l.ti+l.length>=s.length)){r.push({l:n,r:a});continue}l.si+l.length>=o.length||l.ti+l.length>=s.length?(u=o[l.si+1],f=o[l.si-1],c=s[l.ti-1]):(u=o[l.si+l.length-2],c=o[l.si+l.length],f=s[l.ti+l.length]),t.isLeft(u,c,f)?r.push({l:a,r:n}):r.push({l:n,r:a})}}return t.getOrder(r)},t.makeSegments=function(e){function r(c){return{x:c.x,y:c.y}}for(var n=function(c,f,d){return Math.abs((f.x-c.x)*(d.y-c.y)-(f.y-c.y)*(d.x-c.x))<.001},a=[],o=r(e[0]),s=1;s<e.length;s++){var l=r(e[s]),u=s<e.length-1?e[s+1]:null;(!u||!n(o,l,u))&&(a.push([o,l]),o=l)}return a},t.prototype.route=function(e,r){var n=this,a=this.nodes[e],o=this.nodes[r];this.obstacles=this.siblingObstacles(a,o);var s={};this.obstacles.forEach(function(E){return s[E.id]=E}),this.passableEdges=this.edges.filter(function(E){var w=n.verts[E.source],_=n.verts[E.target];return!(w.node&&w.node.id in s||_.node&&_.node.id in s)});for(var l=1;l<a.ports.length;l++){var u=a.ports[0].id,c=a.ports[l].id;this.passableEdges.push({source:u,target:c,length:0})}for(var l=1;l<o.ports.length;l++){var u=o.ports[0].id,c=o.ports[l].id;this.passableEdges.push({source:u,target:c,length:0})}var f=function(E){return E.source},d=function(E){return E.target},g=function(E){return E.length},v=new shortestpaths_1$1.Calculator(this.verts.length,this.passableEdges,f,d,g),m=function(E,w,_){var T=n.verts[E],O=n.verts[w],D=n.verts[_],x=Math.abs(D.x-T.x),L=Math.abs(D.y-T.y);return T.node===a&&T.node===O.node||O.node===o&&O.node===D.node?0:x>1&&L>1?1e3:0},y=v.PathFromNodeToNodeWithPrevCost(a.ports[0].id,o.ports[0].id,m),b=y.reverse().map(function(E){return n.verts[E]});return b.push(this.nodes[o.id].ports[0]),b.filter(function(E,w){return!(w<b.length-1&&b[w+1].node===a&&E.node===a||w>0&&E.node===o&&b[w-1].node===o)})},t.getRoutePath=function(e,r,n,a){var o={routepath:"M "+e[0][0].x+" "+e[0][0].y+" ",arrowpath:""};if(e.length>1)for(var s=0;s<e.length;s++){var l=e[s],u=l[1].x,c=l[1].y,f=u-l[0].x,d=c-l[0].y;if(s<e.length-1){Math.abs(f)>0?u-=f/Math.abs(f)*r:c-=d/Math.abs(d)*r,o.routepath+="L "+u+" "+c+" ";var g=e[s+1],v=g[0].x,m=g[0].y,y=g[1].x,b=g[1].y;f=y-v,d=b-m;var E=t.angleBetween2Lines(l,g)<0?1:0,w,_;Math.abs(f)>0?(w=v+f/Math.abs(f)*r,_=m):(w=v,_=m+d/Math.abs(d)*r);var T=Math.abs(w-u),O=Math.abs(_-c);o.routepath+="A "+T+" "+O+" 0 0 "+E+" "+w+" "+_+" "}else{var D=[u,c],x,L;Math.abs(f)>0?(u-=f/Math.abs(f)*a,x=[u,c+n],L=[u,c-n]):(c-=d/Math.abs(d)*a,x=[u+n,c],L=[u-n,c]),o.routepath+="L "+u+" "+c+" ",a>0&&(o.arrowpath="M "+D[0]+" "+D[1]+" L "+x[0]+" "+x[1]+" L "+L[0]+" "+L[1])}}else{var l=e[0],u=l[1].x,c=l[1].y,f=u-l[0].x,d=c-l[0].y,D=[u,c],x,L;Math.abs(f)>0?(u-=f/Math.abs(f)*a,x=[u,c+n],L=[u,c-n]):(c-=d/Math.abs(d)*a,x=[u+n,c],L=[u-n,c]),o.routepath+="L "+u+" "+c+" ",a>0&&(o.arrowpath="M "+D[0]+" "+D[1]+" L "+x[0]+" "+x[1]+" L "+L[0]+" "+L[1])}return o},t}();gridrouter.GridRouter=GridRouter;var layout3d={};Object.defineProperty(layout3d,"__esModule",{value:!0});var shortestpaths_1=shortestpaths,descent_1=descent,rectangle_1=rectangle,linklengths_1=linklengths,Link3D=function(){function t(e,r){this.source=e,this.target=r}return t.prototype.actualLength=function(e){var r=this;return Math.sqrt(e.reduce(function(n,a){var o=a[r.target]-a[r.source];return n+o*o},0))},t}();layout3d.Link3D=Link3D;var Node3D=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.z=n}return t}();layout3d.Node3D=Node3D;var Layout3D=function(){function t(e,r,n){var a=this;n===void 0&&(n=1),this.nodes=e,this.links=r,this.idealLinkLength=n,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(t.k);for(var o=0;o<t.k;++o)this.result[o]=new Array(e.length);e.forEach(function(s,l){for(var u=0,c=t.dims;u<c.length;u++){var f=c[u];typeof s[f]=="undefined"&&(s[f]=Math.random())}a.result[0][l]=s.x,a.result[1][l]=s.y,a.result[2][l]=s.z})}return t.prototype.linkLength=function(e){return e.actualLength(this.result)},t.prototype.start=function(e){var r=this;e===void 0&&(e=100);var n=this.nodes.length,a=new LinkAccessor;this.useJaccardLinkLengths&&linklengths_1.jaccardLinkLengths(this.links,a,1.5),this.links.forEach(function(f){return f.length*=r.idealLinkLength});var o=new shortestpaths_1.Calculator(n,this.links,function(f){return f.source},function(f){return f.target},function(f){return f.length}).DistanceMatrix(),s=descent_1.Descent.createSquareMatrix(n,function(f,d){return o[f][d]}),l=descent_1.Descent.createSquareMatrix(n,function(){return 2});this.links.forEach(function(f){var d=f.source,g=f.target;return l[d][g]=l[g][d]=1}),this.descent=new descent_1.Descent(this.result,s),this.descent.threshold=.001,this.descent.G=l,this.constraints&&(this.descent.project=new rectangle_1.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var u=0;u<this.nodes.length;u++){var c=this.nodes[u];c.fixed&&this.descent.locks.add(u,[c.x,c.y,c.z])}return this.descent.run(e),this},t.prototype.tick=function(){this.descent.locks.clear();for(var e=0;e<this.nodes.length;e++){var r=this.nodes[e];r.fixed&&this.descent.locks.add(e,[r.x,r.y,r.z])}return this.descent.rungeKutta()},t.dims=["x","y","z"],t.k=t.dims.length,t}();layout3d.Layout3D=Layout3D;var LinkAccessor=function(){function t(){}return t.prototype.getSourceIndex=function(e){return e.source},t.prototype.getTargetIndex=function(e){return e.target},t.prototype.getLength=function(e){return e.length},t.prototype.setLength=function(e,r){e.length=r},t}(),batch={};Object.defineProperty(batch,"__esModule",{value:!0});var layout_1=layout,gridrouter_1=gridrouter;function gridify(t,e,r,n){t.cola.start(0,0,0,10,!1);var a=route(t.cola.nodes(),t.cola.groups(),r,n);return a.routeEdges(t.powerGraph.powerEdges,e,function(o){return o.source.routerNode.id},function(o){return o.target.routerNode.id})}batch.gridify=gridify;function route(t,e,r,n){t.forEach(function(o){o.routerNode={name:o.name,bounds:o.bounds.inflate(-r)}}),e.forEach(function(o){o.routerNode={bounds:o.bounds.inflate(-n),children:(typeof o.groups!="undefined"?o.groups.map(function(s){return t.length+s.id}):[]).concat(typeof o.leaves!="undefined"?o.leaves.map(function(s){return s.index}):[])}});var a=t.concat(e).map(function(o,s){return o.routerNode.id=s,o.routerNode});return new gridrouter_1.GridRouter(a,{getChildren:function(o){return o.children},getBounds:function(o){return o.bounds}},r-n)}function powerGraphGridLayout(t,e,r){var n;t.nodes.forEach(function(l,u){return l.index=u}),new layout_1.Layout().avoidOverlaps(!1).nodes(t.nodes).links(t.links).powerGraphGroups(function(l){n=l,n.groups.forEach(function(u){return u.padding=r})});var a=t.nodes.length,o=[],s=t.nodes.slice(0);return s.forEach(function(l,u){return l.index=u}),n.groups.forEach(function(l){var u=l.index=l.id+a;s.push(l),typeof l.leaves!="undefined"&&l.leaves.forEach(function(c){return o.push({source:u,target:c.index})}),typeof l.groups!="undefined"&&l.groups.forEach(function(c){return o.push({source:u,target:c.id+a})})}),n.powerEdges.forEach(function(l){o.push({source:l.source.index,target:l.target.index})}),new layout_1.Layout().size(e).nodes(s).links(o).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:new layout_1.Layout().convergenceThreshold(.001).size(e).avoidOverlaps(!0).nodes(t.nodes).links(t.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(l){n=l,n.groups.forEach(function(u){u.padding=r})}).start(50,0,100,0,!1),powerGraph:n}}batch.powerGraphGridLayout=powerGraphGridLayout;(function(t){function e(r){for(var n in r)t.hasOwnProperty(n)||(t[n]=r[n])}Object.defineProperty(t,"__esModule",{value:!0}),e(adaptor$1),e(d3adaptor$2),e(descent),e(geom),e(gridrouter),e(handledisconnected),e(layout),e(layout3d),e(linklengths),e(powergraph),e(pqueue),e(rbtree),e(rectangle),e(shortestpaths),e(vpsc),e(batch)})(dist);(function(t,e){(function(n,a){t.exports=a(dist)})(commonjsGlobal,function(r){return function(n){var a={};function o(s){if(a[s])return a[s].exports;var l=a[s]={i:s,l:!1,exports:{}};return n[s].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=n,o.c=a,o.i=function(s){return s},o.d=function(s,l,u){o.o(s,l)||Object.defineProperty(s,l,{configurable:!1,enumerable:!0,get:u})},o.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(l,"a",l),l},o.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},o.p="",o(o.s=3)}([function(n,a,o){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},l=o(1),u=o(2),c=o(5)||(typeof window!="undefined"?window.cola:null),f=o(4),d=function(_){return(typeof _=="undefined"?"undefined":s(_))===s("")},g=function(_){return(typeof _=="undefined"?"undefined":s(_))===s(0)},v=function(_){return _!=null&&(typeof _=="undefined"?"undefined":s(_))===s({})},m=function(_){return _!=null&&(typeof _=="undefined"?"undefined":s(_))===s(function(){})},y=function(){},b=function(_,T){if(m(_)){var O=_;return O.apply(T,[T])}else return _};function E(w){this.options=l({},u,w)}E.prototype.run=function(){var w=this,_=this.options;w.manuallyStopped=!1;var T=_.cy,O=_.eles,D=O.nodes(),x=O.edges(),L=!1,R=function(ve){return ve.isParent()},C=D.filter(R),A=D.subtract(C),S=_.boundingBox||{x1:0,y1:0,w:T.width(),h:T.height()};S.x2===void 0&&(S.x2=S.x1+S.w),S.w===void 0&&(S.w=S.x2-S.x1),S.y2===void 0&&(S.y2=S.y1+S.h),S.h===void 0&&(S.h=S.y2-S.y1);var N=function(){for(var ve=0;ve<D.length;ve++){var z=D[ve],I=z.layoutDimensions(_),q=z.scratch("cola");if(!q.updatedDims){var ie=b(_.nodeSpacing,z);q.width=I.w+2*ie,q.height=I.h+2*ie}}D.positions(function(oe){var ce=oe.scratch().cola,ne=void 0;return!oe.grabbed()&&A.contains(oe)&&(ne={x:S.x1+ce.x,y:S.y1+ce.y},(!g(ne.x)||!g(ne.y))&&(ne=void 0)),ne}),D.updateCompoundBounds(),L||(B(),L=!0),_.fit&&T.fit(_.padding)},$=function(){_.ungrabifyWhileSimulating&&H.grabify(),T.off("destroy",G),D.off("grab free position",W),D.off("lock unlock",U),w.one("layoutstop",_.stop),w.trigger({type:"layoutstop",layout:w})},B=function(){w.one("layoutready",_.ready),w.trigger({type:"layoutready",layout:w})},P=_.refresh;_.refresh<0?P=1:P=Math.max(1,P);var k=w.adaptor=c.adaptor({trigger:function(ve){var z=c.EventType?c.EventType.tick:null,I=c.EventType?c.EventType.end:null;switch(ve.type){case"tick":case z:_.animate&&N();break;case"end":case I:N(),_.infinite||$();break}},kick:function(){var ve=!0,z=function(){if(w.manuallyStopped)return $(),!0;var oe=k.tick();return!_.infinite&&!ve&&k.convergenceThreshold(_.convergenceThreshold),ve=!1,oe&&_.infinite&&k.resume(),oe},I=function(){for(var oe=void 0,ce=0;ce<P&&!oe;ce++)oe=oe||z();return oe};if(_.animate){var q=function ie(){I()||f(ie)};f(q)}else for(;!z(););},on:y,drag:y});w.adaptor=k;var H=D.filter(":grabbable");_.ungrabifyWhileSimulating&&H.ungrabify();var G=void 0;T.one("destroy",G=function(){w.stop()});var W=void 0;D.on("grab free position",W=function(ve){var z=this,I=z.scratch().cola,q=z.position(),ie=ve.cyTarget===z||ve.target===z;if(!!ie)switch(ve.type){case"grab":k.dragstart(I);break;case"free":k.dragend(I);break;case"position":(I.px!==q.x-S.x1||I.py!==q.y-S.y1)&&(I.px=q.x-S.x1,I.py=q.y-S.y1);break}});var U=void 0;D.on("lock unlock",U=function(){var ve=this,z=ve.scratch().cola;z.fixed=ve.locked(),ve.locked()?k.dragstart(z):k.dragend(z)}),k.nodes(A.map(function(re,ve){var z=b(_.nodeSpacing,re),I=re.position(),q=re.layoutDimensions(_),ie=re.scratch().cola={x:_.randomize&&!re.locked()||I.x===void 0?Math.round(Math.random()*S.w):I.x,y:_.randomize&&!re.locked()||I.y===void 0?Math.round(Math.random()*S.h):I.y,width:q.w+2*z,height:q.h+2*z,index:ve,fixed:re.locked()};return ie}));var X=[];if(_.alignment){if(_.alignment.vertical){var ee=_.alignment.vertical;ee.forEach(function(re){var ve=[];re.forEach(function(z){var I=z.node,q=I.scratch().cola,ie=q.index;ve.push({node:ie,offset:z.offset?z.offset:0})}),X.push({type:"alignment",axis:"x",offsets:ve})})}if(_.alignment.horizontal){var te=_.alignment.horizontal;te.forEach(function(re){var ve=[];re.forEach(function(z){var I=z.node,q=I.scratch().cola,ie=q.index;ve.push({node:ie,offset:z.offset?z.offset:0})}),X.push({type:"alignment",axis:"y",offsets:ve})})}}_.gapInequalities&&_.gapInequalities.forEach(function(re){var ve=re.left.scratch().cola.index,z=re.right.scratch().cola.index;X.push({axis:re.axis,left:ve,right:z,gap:re.gap,equality:re.equality})}),X.length>0&&k.constraints(X),k.groups(C.map(function(re,ve){var z=b(_.nodeSpacing,re),I=function(ae){return parseFloat(re.style("padding-"+ae))},q=I("left")+z,ie=I("right")+z,oe=I("top")+z,ce=I("bottom")+z;return re.scratch().cola={index:ve,padding:Math.max(q,ie,oe,ce),leaves:re.children().intersection(A).map(function(ne){return ne[0].scratch().cola.index}),fixed:re.locked()},re}).map(function(re){return re.scratch().cola.groups=re.children().intersection(C).map(function(ve){return ve.scratch().cola.index}),re.scratch().cola}));var V=void 0,Y=void 0;_.edgeLength!=null?(V=_.edgeLength,Y="linkDistance"):_.edgeSymDiffLength!=null?(V=_.edgeSymDiffLength,Y="symmetricDiffLinkLengths"):_.edgeJaccardLength!=null?(V=_.edgeJaccardLength,Y="jaccardLinkLengths"):(V=100,Y="linkDistance");var F=function(ve){return ve.calcLength};if(k.links(x.stdFilter(function(re){return A.contains(re.source())&&A.contains(re.target())}).map(function(re){var ve=re.scratch().cola={source:re.source()[0].scratch().cola.index,target:re.target()[0].scratch().cola.index};return V!=null&&(ve.calcLength=b(V,re)),ve})),k.size([S.w,S.h]),V!=null&&k[Y](F),_.flow){var j=void 0,J="y",de=50;d(_.flow)?j={axis:_.flow,minSeparation:de}:g(_.flow)?j={axis:J,minSeparation:_.flow}:v(_.flow)?(j=_.flow,j.axis=j.axis||J,j.minSeparation=j.minSeparation!=null?j.minSeparation:de):j={axis:J,minSeparation:de},k.flowLayout(j.axis,j.minSeparation)}return w.trigger({type:"layoutstart",layout:w}),k.avoidOverlaps(_.avoidOverlap).handleDisconnected(_.handleDisconnected).start(_.unconstrIter,_.userConstIter,_.allConstIter,void 0,void 0,_.centerGraph),_.infinite||setTimeout(function(){w.manuallyStopped||k.stop()},_.maxSimulationTime),this},E.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},n.exports=E},function(n,a,o){n.exports=Object.assign!=null?Object.assign.bind(Object):function(s){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];return u.filter(function(f){return f!=null}).forEach(function(f){Object.keys(f).forEach(function(d){return s[d]=f[d]})}),s}},function(n,a,o){var s={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(u){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,centerGraph:!0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};n.exports=s},function(n,a,o){var s=o(0),l=function(c){!c||c("layout","cola",s)};typeof cytoscape!="undefined"&&l(cytoscape),n.exports=l},function(n,a,o){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l=void 0;(typeof window=="undefined"?"undefined":s(window))!=="undefined"?l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(u){return setTimeout(u,16)}:l=function(c){c()},n.exports=l},function(n,a){n.exports=r}])})})(cytoscapeCola);var cola=getDefaultExportFromCjs(cytoscapeCola.exports),cytoscapeFcose={exports:{}},coseBase={exports:{}},layoutBase={exports:{}};(function(t,e){(function(n,a){t.exports=a()})(commonjsGlobal,function(){return function(r){var n={};function a(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return r[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=r,a.c=n,a.i=function(o){return o},a.d=function(o,s,l){a.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:l})},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s=28)}([function(r,n,a){function o(){}o.QUALITY=1,o.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,o.DEFAULT_INCREMENTAL=!1,o.DEFAULT_ANIMATION_ON_LAYOUT=!0,o.DEFAULT_ANIMATION_DURING_LAYOUT=!1,o.DEFAULT_ANIMATION_PERIOD=50,o.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,o.DEFAULT_GRAPH_MARGIN=15,o.NODE_DIMENSIONS_INCLUDE_LABELS=!1,o.SIMPLE_NODE_SIZE=40,o.SIMPLE_NODE_HALF_SIZE=o.SIMPLE_NODE_SIZE/2,o.EMPTY_COMPOUND_NODE_SIZE=40,o.MIN_EDGE_LENGTH=1,o.WORLD_BOUNDARY=1e6,o.INITIAL_WORLD_BOUNDARY=o.WORLD_BOUNDARY/1e3,o.WORLD_CENTER_X=1200,o.WORLD_CENTER_Y=900,r.exports=o},function(r,n,a){var o=a(2),s=a(8),l=a(9);function u(f,d,g){o.call(this,g),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=g,this.bendpoints=[],this.source=f,this.target=d}u.prototype=Object.create(o.prototype);for(var c in o)u[c]=o[c];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(f){if(this.source===f)return this.target;if(this.target===f)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(f,d){for(var g=this.getOtherEnd(f),v=d.getGraphManager().getRoot();;){if(g.getOwner()==d)return g;if(g.getOwner()==v)break;g=g.getOwner().getParent()}return null},u.prototype.updateLength=function(){var f=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),f),this.isOverlapingSourceAndTarget||(this.lengthX=f[0]-f[2],this.lengthY=f[1]-f[3],Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,n,a){function o(s){this.vGraphObject=s}r.exports=o},function(r,n,a){var o=a(2),s=a(10),l=a(13),u=a(0),c=a(16),f=a(5);function d(v,m,y,b){y==null&&b==null&&(b=m),o.call(this,b),v.graphManager!=null&&(v=v.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=b,this.edges=[],this.graphManager=v,y!=null&&m!=null?this.rect=new l(m.x,m.y,y.width,y.height):this.rect=new l}d.prototype=Object.create(o.prototype);for(var g in o)d[g]=o[g];d.prototype.getEdges=function(){return this.edges},d.prototype.getChild=function(){return this.child},d.prototype.getOwner=function(){return this.owner},d.prototype.getWidth=function(){return this.rect.width},d.prototype.setWidth=function(v){this.rect.width=v},d.prototype.getHeight=function(){return this.rect.height},d.prototype.setHeight=function(v){this.rect.height=v},d.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},d.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},d.prototype.getCenter=function(){return new f(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},d.prototype.getLocation=function(){return new f(this.rect.x,this.rect.y)},d.prototype.getRect=function(){return this.rect},d.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},d.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},d.prototype.setRect=function(v,m){this.rect.x=v.x,this.rect.y=v.y,this.rect.width=m.width,this.rect.height=m.height},d.prototype.setCenter=function(v,m){this.rect.x=v-this.rect.width/2,this.rect.y=m-this.rect.height/2},d.prototype.setLocation=function(v,m){this.rect.x=v,this.rect.y=m},d.prototype.moveBy=function(v,m){this.rect.x+=v,this.rect.y+=m},d.prototype.getEdgeListToNode=function(v){var m=[],y=this;return y.edges.forEach(function(b){if(b.target==v){if(b.source!=y)throw"Incorrect edge source!";m.push(b)}}),m},d.prototype.getEdgesBetween=function(v){var m=[],y=this;return y.edges.forEach(function(b){if(!(b.source==y||b.target==y))throw"Incorrect edge source and/or target";(b.target==v||b.source==v)&&m.push(b)}),m},d.prototype.getNeighborsList=function(){var v=new Set,m=this;return m.edges.forEach(function(y){if(y.source==m)v.add(y.target);else{if(y.target!=m)throw"Incorrect incidency!";v.add(y.source)}}),v},d.prototype.withChildren=function(){var v=new Set,m,y;if(v.add(this),this.child!=null)for(var b=this.child.getNodes(),E=0;E<b.length;E++)m=b[E],y=m.withChildren(),y.forEach(function(w){v.add(w)});return v},d.prototype.getNoOfChildren=function(){var v=0,m;if(this.child==null)v=1;else for(var y=this.child.getNodes(),b=0;b<y.length;b++)m=y[b],v+=m.getNoOfChildren();return v==0&&(v=1),v},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},d.prototype.scatter=function(){var v,m,y=-u.INITIAL_WORLD_BOUNDARY,b=u.INITIAL_WORLD_BOUNDARY;v=u.WORLD_CENTER_X+c.nextDouble()*(b-y)+y;var E=-u.INITIAL_WORLD_BOUNDARY,w=u.INITIAL_WORLD_BOUNDARY;m=u.WORLD_CENTER_Y+c.nextDouble()*(w-E)+E,this.rect.x=v,this.rect.y=m},d.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var v=this.getChild();if(v.updateBounds(!0),this.rect.x=v.getLeft(),this.rect.y=v.getTop(),this.setWidth(v.getRight()-v.getLeft()),this.setHeight(v.getBottom()-v.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var m=v.getRight()-v.getLeft(),y=v.getBottom()-v.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(m+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>m?(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(m+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(y+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>y?(this.rect.y-=(this.labelHeight-y)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(y+this.labelHeight))}}},d.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},d.prototype.transform=function(v){var m=this.rect.x;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var y=this.rect.y;y>u.WORLD_BOUNDARY?y=u.WORLD_BOUNDARY:y<-u.WORLD_BOUNDARY&&(y=-u.WORLD_BOUNDARY);var b=new f(m,y),E=v.inverseTransformPoint(b);this.setLocation(E.x,E.y)},d.prototype.getLeft=function(){return this.rect.x},d.prototype.getRight=function(){return this.rect.x+this.rect.width},d.prototype.getTop=function(){return this.rect.y},d.prototype.getBottom=function(){return this.rect.y+this.rect.height},d.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=d},function(r,n,a){var o=a(0);function s(){}for(var l in o)s[l]=o[l];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,a){function o(s,l){s==null&&l==null?(this.x=0,this.y=0):(this.x=s,this.y=l)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.setX=function(s){this.x=s},o.prototype.setY=function(s){this.y=s},o.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},o.prototype.getCopy=function(){return new o(this.x,this.y)},o.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=o},function(r,n,a){var o=a(2),s=a(10),l=a(0),u=a(7),c=a(3),f=a(1),d=a(13),g=a(12),v=a(11);function m(b,E,w){o.call(this,w),this.estimatedSize=s.MIN_VALUE,this.margin=l.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=b,E!=null&&E instanceof u?this.graphManager=E:E!=null&&E instanceof Layout&&(this.graphManager=E.graphManager)}m.prototype=Object.create(o.prototype);for(var y in o)m[y]=o[y];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(b,E,w){if(E==null&&w==null){var _=b;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(_)>-1)throw"Node already in graph!";return _.owner=this,this.getNodes().push(_),_}else{var T=b;if(!(this.getNodes().indexOf(E)>-1&&this.getNodes().indexOf(w)>-1))throw"Source or target not in graph!";if(!(E.owner==w.owner&&E.owner==this))throw"Both owners must be this graph!";return E.owner!=w.owner?null:(T.source=E,T.target=w,T.isInterGraph=!1,this.getEdges().push(T),E.edges.push(T),w!=E&&w.edges.push(T),T)}},m.prototype.remove=function(b){var E=b;if(b instanceof c){if(E==null)throw"Node is null!";if(!(E.owner!=null&&E.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var w=E.edges.slice(),_,T=w.length,O=0;O<T;O++)_=w[O],_.isInterGraph?this.graphManager.remove(_):_.source.owner.remove(_);var D=this.nodes.indexOf(E);if(D==-1)throw"Node not in owner node list!";this.nodes.splice(D,1)}else if(b instanceof f){var _=b;if(_==null)throw"Edge is null!";if(!(_.source!=null&&_.target!=null))throw"Source and/or target is null!";if(!(_.source.owner!=null&&_.target.owner!=null&&_.source.owner==this&&_.target.owner==this))throw"Source and/or target owner is invalid!";var x=_.source.edges.indexOf(_),L=_.target.edges.indexOf(_);if(!(x>-1&&L>-1))throw"Source and/or target doesn't know this edge!";_.source.edges.splice(x,1),_.target!=_.source&&_.target.edges.splice(L,1);var D=_.source.owner.getEdges().indexOf(_);if(D==-1)throw"Not in owner's edge list!";_.source.owner.getEdges().splice(D,1)}},m.prototype.updateLeftTop=function(){for(var b=s.MAX_VALUE,E=s.MAX_VALUE,w,_,T,O=this.getNodes(),D=O.length,x=0;x<D;x++){var L=O[x];w=L.getTop(),_=L.getLeft(),b>w&&(b=w),E>_&&(E=_)}return b==s.MAX_VALUE?null:(O[0].getParent().paddingLeft!=null?T=O[0].getParent().paddingLeft:T=this.margin,this.left=E-T,this.top=b-T,new g(this.left,this.top))},m.prototype.updateBounds=function(b){for(var E=s.MAX_VALUE,w=-s.MAX_VALUE,_=s.MAX_VALUE,T=-s.MAX_VALUE,O,D,x,L,R,C=this.nodes,A=C.length,S=0;S<A;S++){var N=C[S];b&&N.child!=null&&N.updateBounds(),O=N.getLeft(),D=N.getRight(),x=N.getTop(),L=N.getBottom(),E>O&&(E=O),w<D&&(w=D),_>x&&(_=x),T<L&&(T=L)}var $=new d(E,_,w-E,T-_);E==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),C[0].getParent().paddingLeft!=null?R=C[0].getParent().paddingLeft:R=this.margin,this.left=$.x-R,this.right=$.x+$.width+R,this.top=$.y-R,this.bottom=$.y+$.height+R},m.calculateBounds=function(b){for(var E=s.MAX_VALUE,w=-s.MAX_VALUE,_=s.MAX_VALUE,T=-s.MAX_VALUE,O,D,x,L,R=b.length,C=0;C<R;C++){var A=b[C];O=A.getLeft(),D=A.getRight(),x=A.getTop(),L=A.getBottom(),E>O&&(E=O),w<D&&(w=D),_>x&&(_=x),T<L&&(T=L)}var S=new d(E,_,w-E,T-_);return S},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var b=0,E=this.nodes,w=E.length,_=0;_<w;_++){var T=E[_];b+=T.calcEstimatedSize()}return b==0?this.estimatedSize=l.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=b/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var b=this;if(this.nodes.length==0){this.isConnected=!0;return}var E=new v,w=new Set,_=this.nodes[0],T,O,D=_.withChildren();for(D.forEach(function(S){E.push(S),w.add(S)});E.length!==0;){_=E.shift(),T=_.getEdges();for(var x=T.length,L=0;L<x;L++){var R=T[L];if(O=R.getOtherEndInGraph(_,this),O!=null&&!w.has(O)){var C=O.withChildren();C.forEach(function(S){E.push(S),w.add(S)})}}}if(this.isConnected=!1,w.size>=this.nodes.length){var A=0;w.forEach(function(S){S.owner==b&&A++}),A==this.nodes.length&&(this.isConnected=!0)}},r.exports=m},function(r,n,a){var o,s=a(1);function l(u){o=a(6),this.layout=u,this.graphs=[],this.edges=[]}l.prototype.addRoot=function(){var u=this.layout.newGraph(),c=this.layout.newNode(null),f=this.add(u,c);return this.setRootGraph(f),this.rootGraph},l.prototype.add=function(u,c,f,d,g){if(f==null&&d==null&&g==null){if(u==null)throw"Graph is null!";if(c==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(c.child!=null)throw"Already has a child!";return u.parent=c,c.child=u,u}else{g=f,d=c,f=u;var v=d.getOwner(),m=g.getOwner();if(!(v!=null&&v.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(v==m)return f.isInterGraph=!1,v.add(f,d,g);if(f.isInterGraph=!0,f.source=d,f.target=g,this.edges.indexOf(f)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(f),!(f.source!=null&&f.target!=null))throw"Edge source and/or target is null!";if(!(f.source.edges.indexOf(f)==-1&&f.target.edges.indexOf(f)==-1))throw"Edge already in source and/or target incidency list!";return f.source.edges.push(f),f.target.edges.push(f),f}},l.prototype.remove=function(u){if(u instanceof o){var c=u;if(c.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(c==this.rootGraph||c.parent!=null&&c.parent.graphManager==this))throw"Invalid parent node!";var f=[];f=f.concat(c.getEdges());for(var d,g=f.length,v=0;v<g;v++)d=f[v],c.remove(d);var m=[];m=m.concat(c.getNodes());var y;g=m.length;for(var v=0;v<g;v++)y=m[v],c.remove(y);c==this.rootGraph&&this.setRootGraph(null);var b=this.graphs.indexOf(c);this.graphs.splice(b,1),c.parent=null}else if(u instanceof s){if(d=u,d==null)throw"Edge is null!";if(!d.isInterGraph)throw"Not an inter-graph edge!";if(!(d.source!=null&&d.target!=null))throw"Source and/or target is null!";if(!(d.source.edges.indexOf(d)!=-1&&d.target.edges.indexOf(d)!=-1))throw"Source and/or target doesn't know this edge!";var b=d.source.edges.indexOf(d);if(d.source.edges.splice(b,1),b=d.target.edges.indexOf(d),d.target.edges.splice(b,1),!(d.source.owner!=null&&d.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(d.source.owner.getGraphManager().edges.indexOf(d)==-1)throw"Not in owner graph manager's edge list!";var b=d.source.owner.getGraphManager().edges.indexOf(d);d.source.owner.getGraphManager().edges.splice(b,1)}},l.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},l.prototype.getGraphs=function(){return this.graphs},l.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],c=this.getGraphs(),f=c.length,d=0;d<f;d++)u=u.concat(c[d].getNodes());this.allNodes=u}return this.allNodes},l.prototype.resetAllNodes=function(){this.allNodes=null},l.prototype.resetAllEdges=function(){this.allEdges=null},l.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},l.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],c=this.getGraphs();c.length;for(var f=0;f<c.length;f++)u=u.concat(c[f].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},l.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},l.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},l.prototype.getRoot=function(){return this.rootGraph},l.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},l.prototype.getLayout=function(){return this.layout},l.prototype.isOneAncestorOfOther=function(u,c){if(!(u!=null&&c!=null))throw"assert failed";if(u==c)return!0;var f=u.getOwner(),d;do{if(d=f.getParent(),d==null)break;if(d==c)return!0;if(f=d.getOwner(),f==null)break}while(!0);f=c.getOwner();do{if(d=f.getParent(),d==null)break;if(d==u)return!0;if(f=d.getOwner(),f==null)break}while(!0);return!1},l.prototype.calcLowestCommonAncestors=function(){for(var u,c,f,d,g,v=this.getAllEdges(),m=v.length,y=0;y<m;y++){if(u=v[y],c=u.source,f=u.target,u.lca=null,u.sourceInLca=c,u.targetInLca=f,c==f){u.lca=c.getOwner();continue}for(d=c.getOwner();u.lca==null;){for(u.targetInLca=f,g=f.getOwner();u.lca==null;){if(g==d){u.lca=g;break}if(g==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=g.getParent(),g=u.targetInLca.getOwner()}if(d==this.rootGraph)break;u.lca==null&&(u.sourceInLca=d.getParent(),d=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},l.prototype.calcLowestCommonAncestor=function(u,c){if(u==c)return u.getOwner();var f=u.getOwner();do{if(f==null)break;var d=c.getOwner();do{if(d==null)break;if(d==f)return d;d=d.getParent().getOwner()}while(!0);f=f.getParent().getOwner()}while(!0);return f},l.prototype.calcInclusionTreeDepths=function(u,c){u==null&&c==null&&(u=this.rootGraph,c=1);for(var f,d=u.getNodes(),g=d.length,v=0;v<g;v++)f=d[v],f.inclusionTreeDepth=c,f.child!=null&&this.calcInclusionTreeDepths(f.child,c+1)},l.prototype.includesInvalidEdge=function(){for(var u,c=[],f=this.edges.length,d=0;d<f;d++)u=this.edges[d],this.isOneAncestorOfOther(u.source,u.target)&&c.push(u);for(var d=0;d<c.length;d++)this.remove(c[d]);return!1},r.exports=l},function(r,n,a){var o=a(12);function s(){}s.calcSeparationAmount=function(l,u,c,f){if(!l.intersects(u))throw"assert failed";var d=new Array(2);this.decideDirectionsForOverlappingNodes(l,u,d),c[0]=Math.min(l.getRight(),u.getRight())-Math.max(l.x,u.x),c[1]=Math.min(l.getBottom(),u.getBottom())-Math.max(l.y,u.y),l.getX()<=u.getX()&&l.getRight()>=u.getRight()?c[0]+=Math.min(u.getX()-l.getX(),l.getRight()-u.getRight()):u.getX()<=l.getX()&&u.getRight()>=l.getRight()&&(c[0]+=Math.min(l.getX()-u.getX(),u.getRight()-l.getRight())),l.getY()<=u.getY()&&l.getBottom()>=u.getBottom()?c[1]+=Math.min(u.getY()-l.getY(),l.getBottom()-u.getBottom()):u.getY()<=l.getY()&&u.getBottom()>=l.getBottom()&&(c[1]+=Math.min(l.getY()-u.getY(),u.getBottom()-l.getBottom()));var g=Math.abs((u.getCenterY()-l.getCenterY())/(u.getCenterX()-l.getCenterX()));u.getCenterY()===l.getCenterY()&&u.getCenterX()===l.getCenterX()&&(g=1);var v=g*c[0],m=c[1]/g;c[0]<m?m=c[0]:v=c[1],c[0]=-1*d[0]*(m/2+f),c[1]=-1*d[1]*(v/2+f)},s.decideDirectionsForOverlappingNodes=function(l,u,c){l.getCenterX()<u.getCenterX()?c[0]=-1:c[0]=1,l.getCenterY()<u.getCenterY()?c[1]=-1:c[1]=1},s.getIntersection2=function(l,u,c){var f=l.getCenterX(),d=l.getCenterY(),g=u.getCenterX(),v=u.getCenterY();if(l.intersects(u))return c[0]=f,c[1]=d,c[2]=g,c[3]=v,!0;var m=l.getX(),y=l.getY(),b=l.getRight(),E=l.getX(),w=l.getBottom(),_=l.getRight(),T=l.getWidthHalf(),O=l.getHeightHalf(),D=u.getX(),x=u.getY(),L=u.getRight(),R=u.getX(),C=u.getBottom(),A=u.getRight(),S=u.getWidthHalf(),N=u.getHeightHalf(),$=!1,B=!1;if(f===g){if(d>v)return c[0]=f,c[1]=y,c[2]=g,c[3]=C,!1;if(d<v)return c[0]=f,c[1]=w,c[2]=g,c[3]=x,!1}else if(d===v){if(f>g)return c[0]=m,c[1]=d,c[2]=L,c[3]=v,!1;if(f<g)return c[0]=b,c[1]=d,c[2]=D,c[3]=v,!1}else{var P=l.height/l.width,k=u.height/u.width,H=(v-d)/(g-f),G=void 0,W=void 0,U=void 0,X=void 0,ee=void 0,te=void 0;if(-P===H?f>g?(c[0]=E,c[1]=w,$=!0):(c[0]=b,c[1]=y,$=!0):P===H&&(f>g?(c[0]=m,c[1]=y,$=!0):(c[0]=_,c[1]=w,$=!0)),-k===H?g>f?(c[2]=R,c[3]=C,B=!0):(c[2]=L,c[3]=x,B=!0):k===H&&(g>f?(c[2]=D,c[3]=x,B=!0):(c[2]=A,c[3]=C,B=!0)),$&&B)return!1;if(f>g?d>v?(G=this.getCardinalDirection(P,H,4),W=this.getCardinalDirection(k,H,2)):(G=this.getCardinalDirection(-P,H,3),W=this.getCardinalDirection(-k,H,1)):d>v?(G=this.getCardinalDirection(-P,H,1),W=this.getCardinalDirection(-k,H,3)):(G=this.getCardinalDirection(P,H,2),W=this.getCardinalDirection(k,H,4)),!$)switch(G){case 1:X=y,U=f+-O/H,c[0]=U,c[1]=X;break;case 2:U=_,X=d+T*H,c[0]=U,c[1]=X;break;case 3:X=w,U=f+O/H,c[0]=U,c[1]=X;break;case 4:U=E,X=d+-T*H,c[0]=U,c[1]=X;break}if(!B)switch(W){case 1:te=x,ee=g+-N/H,c[2]=ee,c[3]=te;break;case 2:ee=A,te=v+S*H,c[2]=ee,c[3]=te;break;case 3:te=C,ee=g+N/H,c[2]=ee,c[3]=te;break;case 4:ee=R,te=v+-S*H,c[2]=ee,c[3]=te;break}}return!1},s.getCardinalDirection=function(l,u,c){return l>u?c:1+c%4},s.getIntersection=function(l,u,c,f){if(f==null)return this.getIntersection2(l,u,c);var d=l.x,g=l.y,v=u.x,m=u.y,y=c.x,b=c.y,E=f.x,w=f.y,_=void 0,T=void 0,O=void 0,D=void 0,x=void 0,L=void 0,R=void 0,C=void 0,A=void 0;return O=m-g,x=d-v,R=v*g-d*m,D=w-b,L=y-E,C=E*b-y*w,A=O*L-D*x,A===0?null:(_=(x*C-L*R)/A,T=(D*R-O*C)/A,new o(_,T))},s.angleOfVector=function(l,u,c,f){var d=void 0;return l!==c?(d=Math.atan((f-u)/(c-l)),c<l?d+=Math.PI:f<u&&(d+=this.TWO_PI)):f<u?d=this.ONE_AND_HALF_PI:d=this.HALF_PI,d},s.doIntersect=function(l,u,c,f){var d=l.x,g=l.y,v=u.x,m=u.y,y=c.x,b=c.y,E=f.x,w=f.y,_=(v-d)*(w-b)-(E-y)*(m-g);if(_===0)return!1;var T=((w-b)*(E-d)+(y-E)*(w-g))/_,O=((g-m)*(E-d)+(v-d)*(w-g))/_;return 0<T&&T<1&&0<O&&O<1},s.findCircleLineIntersections=function(l,u,c,f,d,g,v){var m=(c-l)*(c-l)+(f-u)*(f-u),y=2*((l-d)*(c-l)+(u-g)*(f-u)),b=(l-d)*(l-d)+(u-g)*(u-g)-v*v,E=y*y-4*m*b;if(E>=0){var w=(-y+Math.sqrt(y*y-4*m*b))/(2*m),_=(-y-Math.sqrt(y*y-4*m*b))/(2*m),T=null;return w>=0&&w<=1?[w]:_>=0&&_<=1?[_]:T}else return null},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,a){function o(){}o.sign=function(s){return s>0?1:s<0?-1:0},o.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},o.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=o},function(r,n,a){function o(){}o.MAX_VALUE=2147483647,o.MIN_VALUE=-2147483648,r.exports=o},function(r,n,a){var o=function(){function d(g,v){for(var m=0;m<v.length;m++){var y=v[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,v,m){return v&&d(g.prototype,v),m&&d(g,m),g}}();function s(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}var l=function(g){return{value:g,next:null,prev:null}},u=function(g,v,m,y){return g!==null?g.next=v:y.head=v,m!==null?m.prev=v:y.tail=v,v.prev=g,v.next=m,y.length++,v},c=function(g,v){var m=g.prev,y=g.next;return m!==null?m.next=y:v.head=y,y!==null?y.prev=m:v.tail=m,g.prev=g.next=null,v.length--,g},f=function(){function d(g){var v=this;s(this,d),this.length=0,this.head=null,this.tail=null,g!=null&&g.forEach(function(m){return v.push(m)})}return o(d,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(v,m){return u(m.prev,l(v),m,this)}},{key:"insertAfter",value:function(v,m){return u(m,l(v),m.next,this)}},{key:"insertNodeBefore",value:function(v,m){return u(m.prev,v,m,this)}},{key:"insertNodeAfter",value:function(v,m){return u(m,v,m.next,this)}},{key:"push",value:function(v){return u(this.tail,l(v),null,this)}},{key:"unshift",value:function(v){return u(null,l(v),this.head,this)}},{key:"remove",value:function(v){return c(v,this)}},{key:"pop",value:function(){return c(this.tail,this).value}},{key:"popNode",value:function(){return c(this.tail,this)}},{key:"shift",value:function(){return c(this.head,this).value}},{key:"shiftNode",value:function(){return c(this.head,this)}},{key:"get_object_at",value:function(v){if(v<=this.length()){for(var m=1,y=this.head;m<v;)y=y.next,m++;return y.value}}},{key:"set_object_at",value:function(v,m){if(v<=this.length()){for(var y=1,b=this.head;y<v;)b=b.next,y++;b.value=m}}}]),d}();r.exports=f},function(r,n,a){function o(s,l,u){this.x=null,this.y=null,s==null&&l==null&&u==null?(this.x=0,this.y=0):typeof s=="number"&&typeof l=="number"&&u==null?(this.x=s,this.y=l):s.constructor.name=="Point"&&l==null&&u==null&&(u=s,this.x=u.x,this.y=u.y)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.getLocation=function(){return new o(this.x,this.y)},o.prototype.setLocation=function(s,l,u){s.constructor.name=="Point"&&l==null&&u==null?(u=s,this.setLocation(u.x,u.y)):typeof s=="number"&&typeof l=="number"&&u==null&&(parseInt(s)==s&&parseInt(l)==l?this.move(s,l):(this.x=Math.floor(s+.5),this.y=Math.floor(l+.5)))},o.prototype.move=function(s,l){this.x=s,this.y=l},o.prototype.translate=function(s,l){this.x+=s,this.y+=l},o.prototype.equals=function(s){if(s.constructor.name=="Point"){var l=s;return this.x==l.x&&this.y==l.y}return this==s},o.prototype.toString=function(){return new o().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=o},function(r,n,a){function o(s,l,u,c){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&l!=null&&u!=null&&c!=null&&(this.x=s,this.y=l,this.width=u,this.height=c)}o.prototype.getX=function(){return this.x},o.prototype.setX=function(s){this.x=s},o.prototype.getY=function(){return this.y},o.prototype.setY=function(s){this.y=s},o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(s){this.width=s},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(s){this.height=s},o.prototype.getRight=function(){return this.x+this.width},o.prototype.getBottom=function(){return this.y+this.height},o.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},o.prototype.getCenterX=function(){return this.x+this.width/2},o.prototype.getMinX=function(){return this.getX()},o.prototype.getMaxX=function(){return this.getX()+this.width},o.prototype.getCenterY=function(){return this.y+this.height/2},o.prototype.getMinY=function(){return this.getY()},o.prototype.getMaxY=function(){return this.getY()+this.height},o.prototype.getWidthHalf=function(){return this.width/2},o.prototype.getHeightHalf=function(){return this.height/2},r.exports=o},function(r,n,a){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};function s(){}s.lastID=0,s.createID=function(l){return s.isPrimitive(l)?l:(l.uniqueID!=null||(l.uniqueID=s.getString(),s.lastID++),l.uniqueID)},s.getString=function(l){return l==null&&(l=s.lastID),"Object#"+l},s.isPrimitive=function(l){var u=typeof l=="undefined"?"undefined":o(l);return l==null||u!="object"&&u!="function"},r.exports=s},function(r,n,a){function o(y){if(Array.isArray(y)){for(var b=0,E=Array(y.length);b<y.length;b++)E[b]=y[b];return E}else return Array.from(y)}var s=a(0),l=a(7),u=a(3),c=a(1),f=a(6),d=a(5),g=a(17),v=a(29);function m(y){v.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new l(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}m.RANDOM_SEED=1,m.prototype=Object.create(v.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var y=new l(this);return this.graphManager=y,y},m.prototype.newGraph=function(y){return new f(null,this.graphManager,y)},m.prototype.newNode=function(y){return new u(this.graphManager,y)},m.prototype.newEdge=function(y){return new c(null,null,y)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),s.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y=this.graphManager.getAllEdges(),b=0;b<y.length;b++);for(var E=this.graphManager.getRoot().getNodes(),b=0;b<E.length;b++);this.update(this.graphManager.getRoot())}},m.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof u){var b=y;if(b.getChild()!=null)for(var E=b.getChild().getNodes(),w=0;w<E.length;w++)update(E[w]);if(b.vGraphObject!=null){var _=b.vGraphObject;_.update(b)}}else if(y instanceof c){var T=y;if(T.vGraphObject!=null){var O=T.vGraphObject;O.update(T)}}else if(y instanceof f){var D=y;if(D.vGraphObject!=null){var x=D.vGraphObject;x.update(D)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(y){if(y==null)this.transform(new d(0,0));else{var b=new g,E=this.graphManager.getRoot().updateLeftTop();if(E!=null){b.setWorldOrgX(y.x),b.setWorldOrgY(y.y),b.setDeviceOrgX(E.x),b.setDeviceOrgY(E.y);for(var w=this.getAllNodes(),_,T=0;T<w.length;T++)_=w[T],_.transform(b)}}},m.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var b,E,w=y.getNodes(),_=0;_<w.length;_++)b=w[_],E=b.getChild(),E==null||E.getNodes().length==0?b.scatter():(this.positionNodesRandomly(E),b.updateBounds())},m.prototype.getFlatForest=function(){for(var y=[],b=!0,E=this.graphManager.getRoot().getNodes(),w=!0,_=0;_<E.length;_++)E[_].getChild()!=null&&(w=!1);if(!w)return y;var T=new Set,O=[],D=new Map,x=[];for(x=x.concat(E);x.length>0&&b;){for(O.push(x[0]);O.length>0&&b;){var L=O[0];O.splice(0,1),T.add(L);for(var R=L.getEdges(),_=0;_<R.length;_++){var C=R[_].getOtherEnd(L);if(D.get(L)!=C)if(!T.has(C))O.push(C),D.set(C,L);else{b=!1;break}}}if(!b)y=[];else{var A=[].concat(o(T));y.push(A);for(var _=0;_<A.length;_++){var S=A[_],N=x.indexOf(S);N>-1&&x.splice(N,1)}T=new Set,D=new Map}}return y},m.prototype.createDummyNodesForBendpoints=function(y){for(var b=[],E=y.source,w=this.graphManager.calcLowestCommonAncestor(y.source,y.target),_=0;_<y.bendpoints.length;_++){var T=this.newNode(null);T.setRect(new Point(0,0),new Dimension(1,1)),w.add(T);var O=this.newEdge(null);this.graphManager.add(O,E,T),b.add(T),E=T}var O=this.newEdge(null);return this.graphManager.add(O,E,y.target),this.edgeToDummyNodes.set(y,b),y.isInterGraph()?this.graphManager.remove(y):w.remove(y),b},m.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(o(this.edgeToDummyNodes.keys())).concat(y);for(var b=0;b<y.length;b++){var E=y[b];if(E.bendpoints.length>0){for(var w=this.edgeToDummyNodes.get(E),_=0;_<w.length;_++){var T=w[_],O=new d(T.getCenterX(),T.getCenterY()),D=E.bendpoints.get(_);D.x=O.x,D.y=O.y,T.getOwner().remove(T)}this.graphManager.add(E,E.source,E.target)}}},m.transform=function(y,b,E,w){if(E!=null&&w!=null){var _=b;if(y<=50){var T=b/E;_-=(b-T)/50*(50-y)}else{var O=b*w;_+=(O-b)/50*(y-50)}return _}else{var D,x;return y<=50?(D=9*b/500,x=b/10):(D=9*b/50,x=-8*b),D*y+x}},m.findCenterOfTree=function(y){var b=[];b=b.concat(y);var E=[],w=new Map,_=!1,T=null;(b.length==1||b.length==2)&&(_=!0,T=b[0]);for(var O=0;O<b.length;O++){var D=b[O],x=D.getNeighborsList().size;w.set(D,D.getNeighborsList().size),x==1&&E.push(D)}var L=[];for(L=L.concat(E);!_;){var R=[];R=R.concat(L),L=[];for(var O=0;O<b.length;O++){var D=b[O],C=b.indexOf(D);C>=0&&b.splice(C,1);var A=D.getNeighborsList();A.forEach(function($){if(E.indexOf($)<0){var B=w.get($),P=B-1;P==1&&L.push($),w.set($,P)}})}E=E.concat(L),(b.length==1||b.length==2)&&(_=!0,T=b[0])}return T},m.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=m},function(r,n,a){function o(){}o.seed=1,o.x=0,o.nextDouble=function(){return o.x=Math.sin(o.seed++)*1e4,o.x-Math.floor(o.x)},r.exports=o},function(r,n,a){var o=a(5);function s(l,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(l){this.lworldOrgX=l},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(l){this.lworldOrgY=l},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(l){this.lworldExtX=l},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(l){this.lworldExtY=l},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(l){this.ldeviceOrgX=l},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(l){this.ldeviceOrgY=l},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(l){this.ldeviceExtX=l},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(l){this.ldeviceExtY=l},s.prototype.transformX=function(l){var u=0,c=this.lworldExtX;return c!=0&&(u=this.ldeviceOrgX+(l-this.lworldOrgX)*this.ldeviceExtX/c),u},s.prototype.transformY=function(l){var u=0,c=this.lworldExtY;return c!=0&&(u=this.ldeviceOrgY+(l-this.lworldOrgY)*this.ldeviceExtY/c),u},s.prototype.inverseTransformX=function(l){var u=0,c=this.ldeviceExtX;return c!=0&&(u=this.lworldOrgX+(l-this.ldeviceOrgX)*this.lworldExtX/c),u},s.prototype.inverseTransformY=function(l){var u=0,c=this.ldeviceExtY;return c!=0&&(u=this.lworldOrgY+(l-this.ldeviceOrgY)*this.lworldExtY/c),u},s.prototype.inverseTransformPoint=function(l){var u=new o(this.inverseTransformX(l.x),this.inverseTransformY(l.y));return u},r.exports=s},function(r,n,a){function o(v){if(Array.isArray(v)){for(var m=0,y=Array(v.length);m<v.length;m++)y[m]=v[m];return y}else return Array.from(v)}var s=a(15),l=a(4),u=a(0),c=a(8),f=a(9);function d(){s.call(this),this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=l.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=l.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*l.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=l.MAX_ITERATIONS}d.prototype=Object.create(s.prototype);for(var g in s)d[g]=s[g];d.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=l.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},d.prototype.calcIdealEdgeLengths=function(){for(var v,m,y,b,E,w,_,T=this.getGraphManager().getAllEdges(),O=0;O<T.length;O++)v=T[O],m=v.idealLength,v.isInterGraph&&(b=v.getSource(),E=v.getTarget(),w=v.getSourceInLca().getEstimatedSize(),_=v.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(v.idealLength+=w+_-2*u.SIMPLE_NODE_SIZE),y=v.getLca().getInclusionTreeDepth(),v.idealLength+=m*l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(b.getInclusionTreeDepth()+E.getInclusionTreeDepth()-2*y))},d.prototype.initSpringEmbedder=function(){var v=this.getAllNodes().length;this.incremental?(v>l.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*l.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(v-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-l.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT_INCREMENTAL):(v>l.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(l.COOLING_ADAPTATION_FACTOR,1-(v-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*(1-l.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*l.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},d.prototype.calcSpringForces=function(){for(var v=this.getAllEdges(),m,y=0;y<v.length;y++)m=v[y],this.calcSpringForce(m,m.idealLength)},d.prototype.calcRepulsionForces=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,b,E,w,_=this.getAllNodes(),T;if(this.useFRGridVariant)for(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&v&&this.updateGrid(),T=new Set,y=0;y<_.length;y++)E=_[y],this.calculateRepulsionForceOfANode(E,T,v,m),T.add(E);else for(y=0;y<_.length;y++)for(E=_[y],b=y+1;b<_.length;b++)w=_[b],E.getOwner()==w.getOwner()&&this.calcRepulsionForce(E,w)},d.prototype.calcGravitationalForces=function(){for(var v,m=this.getAllNodesToApplyGravitation(),y=0;y<m.length;y++)v=m[y],this.calcGravitationalForce(v)},d.prototype.moveNodes=function(){for(var v=this.getAllNodes(),m,y=0;y<v.length;y++)m=v[y],m.move()},d.prototype.calcSpringForce=function(v,m){var y=v.getSource(),b=v.getTarget(),E,w,_,T;if(this.uniformLeafNodeSizes&&y.getChild()==null&&b.getChild()==null)v.updateLengthSimple();else if(v.updateLength(),v.isOverlapingSourceAndTarget)return;E=v.getLength(),E!=0&&(w=v.edgeElasticity*(E-m),_=w*(v.lengthX/E),T=w*(v.lengthY/E),y.springForceX+=_,y.springForceY+=T,b.springForceX-=_,b.springForceY-=T)},d.prototype.calcRepulsionForce=function(v,m){var y=v.getRect(),b=m.getRect(),E=new Array(2),w=new Array(4),_,T,O,D,x,L,R;if(y.intersects(b)){c.calcSeparationAmount(y,b,E,l.DEFAULT_EDGE_LENGTH/2),L=2*E[0],R=2*E[1];var C=v.noOfChildren*m.noOfChildren/(v.noOfChildren+m.noOfChildren);v.repulsionForceX-=C*L,v.repulsionForceY-=C*R,m.repulsionForceX+=C*L,m.repulsionForceY+=C*R}else this.uniformLeafNodeSizes&&v.getChild()==null&&m.getChild()==null?(_=b.getCenterX()-y.getCenterX(),T=b.getCenterY()-y.getCenterY()):(c.getIntersection(y,b,w),_=w[2]-w[0],T=w[3]-w[1]),Math.abs(_)<l.MIN_REPULSION_DIST&&(_=f.sign(_)*l.MIN_REPULSION_DIST),Math.abs(T)<l.MIN_REPULSION_DIST&&(T=f.sign(T)*l.MIN_REPULSION_DIST),O=_*_+T*T,D=Math.sqrt(O),x=(v.nodeRepulsion/2+m.nodeRepulsion/2)*v.noOfChildren*m.noOfChildren/O,L=x*_/D,R=x*T/D,v.repulsionForceX-=L,v.repulsionForceY-=R,m.repulsionForceX+=L,m.repulsionForceY+=R},d.prototype.calcGravitationalForce=function(v){var m,y,b,E,w,_,T,O;m=v.getOwner(),y=(m.getRight()+m.getLeft())/2,b=(m.getTop()+m.getBottom())/2,E=v.getCenterX()-y,w=v.getCenterY()-b,_=Math.abs(E)+v.getWidth()/2,T=Math.abs(w)+v.getHeight()/2,v.getOwner()==this.graphManager.getRoot()?(O=m.getEstimatedSize()*this.gravityRangeFactor,(_>O||T>O)&&(v.gravitationForceX=-this.gravityConstant*E,v.gravitationForceY=-this.gravityConstant*w)):(O=m.getEstimatedSize()*this.compoundGravityRangeFactor,(_>O||T>O)&&(v.gravitationForceX=-this.gravityConstant*E*this.compoundGravityConstant,v.gravitationForceY=-this.gravityConstant*w*this.compoundGravityConstant))},d.prototype.isConverged=function(){var v,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),v=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,v||m},d.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},d.prototype.calcNoOfChildrenForAllNodes=function(){for(var v,m=this.graphManager.getAllNodes(),y=0;y<m.length;y++)v=m[y],v.noOfChildren=v.getNoOfChildren()},d.prototype.calcGrid=function(v){var m=0,y=0;m=parseInt(Math.ceil((v.getRight()-v.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((v.getBottom()-v.getTop())/this.repulsionRange));for(var b=new Array(m),E=0;E<m;E++)b[E]=new Array(y);for(var E=0;E<m;E++)for(var w=0;w<y;w++)b[E][w]=new Array;return b},d.prototype.addNodeToGrid=function(v,m,y){var b=0,E=0,w=0,_=0;b=parseInt(Math.floor((v.getRect().x-m)/this.repulsionRange)),E=parseInt(Math.floor((v.getRect().width+v.getRect().x-m)/this.repulsionRange)),w=parseInt(Math.floor((v.getRect().y-y)/this.repulsionRange)),_=parseInt(Math.floor((v.getRect().height+v.getRect().y-y)/this.repulsionRange));for(var T=b;T<=E;T++)for(var O=w;O<=_;O++)this.grid[T][O].push(v),v.setGridCoordinates(b,E,w,_)},d.prototype.updateGrid=function(){var v,m,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),v=0;v<y.length;v++)m=y[v],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},d.prototype.calculateRepulsionForceOfANode=function(v,m,y,b){if(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&y||b){var E=new Set;v.surrounding=new Array;for(var w,_=this.grid,T=v.startX-1;T<v.finishX+2;T++)for(var O=v.startY-1;O<v.finishY+2;O++)if(!(T<0||O<0||T>=_.length||O>=_[0].length)){for(var D=0;D<_[T][O].length;D++)if(w=_[T][O][D],!(v.getOwner()!=w.getOwner()||v==w)&&!m.has(w)&&!E.has(w)){var x=Math.abs(v.getCenterX()-w.getCenterX())-(v.getWidth()/2+w.getWidth()/2),L=Math.abs(v.getCenterY()-w.getCenterY())-(v.getHeight()/2+w.getHeight()/2);x<=this.repulsionRange&&L<=this.repulsionRange&&E.add(w)}}v.surrounding=[].concat(o(E))}for(T=0;T<v.surrounding.length;T++)this.calcRepulsionForce(v,v.surrounding[T])},d.prototype.calcRepulsionRange=function(){return 0},r.exports=d},function(r,n,a){var o=a(1),s=a(4);function l(c,f,d){o.call(this,c,f,d),this.idealLength=s.DEFAULT_EDGE_LENGTH,this.edgeElasticity=s.DEFAULT_SPRING_STRENGTH}l.prototype=Object.create(o.prototype);for(var u in o)l[u]=o[u];r.exports=l},function(r,n,a){var o=a(3),s=a(4);function l(c,f,d,g){o.call(this,c,f,d,g),this.nodeRepulsion=s.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}l.prototype=Object.create(o.prototype);for(var u in o)l[u]=o[u];l.prototype.setGridCoordinates=function(c,f,d,g){this.startX=c,this.finishX=f,this.startY=d,this.finishY=g},r.exports=l},function(r,n,a){function o(s,l){this.width=0,this.height=0,s!==null&&l!==null&&(this.height=l,this.width=s)}o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(s){this.width=s},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(s){this.height=s},r.exports=o},function(r,n,a){var o=a(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(l,u){var c=o.createID(l);this.contains(c)||(this.map[c]=u,this.keys.push(l))},s.prototype.contains=function(l){return o.createID(l),this.map[l]!=null},s.prototype.get=function(l){var u=o.createID(l);return this.map[u]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,a){var o=a(14);function s(){this.set={}}s.prototype.add=function(l){var u=o.createID(l);this.contains(u)||(this.set[u]=l)},s.prototype.remove=function(l){delete this.set[o.createID(l)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(l){return this.set[o.createID(l)]==l},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(l){for(var u=Object.keys(this.set),c=u.length,f=0;f<c;f++)l.push(this.set[u[f]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(l){for(var u=l.length,c=0;c<u;c++){var f=l[c];this.add(f)}},r.exports=s},function(r,n,a){function o(){}o.multMat=function(s,l){for(var u=[],c=0;c<s.length;c++){u[c]=[];for(var f=0;f<l[0].length;f++){u[c][f]=0;for(var d=0;d<s[0].length;d++)u[c][f]+=s[c][d]*l[d][f]}}return u},o.transpose=function(s){for(var l=[],u=0;u<s[0].length;u++){l[u]=[];for(var c=0;c<s.length;c++)l[u][c]=s[c][u]}return l},o.multCons=function(s,l){for(var u=[],c=0;c<s.length;c++)u[c]=s[c]*l;return u},o.minusOp=function(s,l){for(var u=[],c=0;c<s.length;c++)u[c]=s[c]-l[c];return u},o.dotProduct=function(s,l){for(var u=0,c=0;c<s.length;c++)u+=s[c]*l[c];return u},o.mag=function(s){return Math.sqrt(this.dotProduct(s,s))},o.normalize=function(s){for(var l=[],u=this.mag(s),c=0;c<s.length;c++)l[c]=s[c]/u;return l},o.multGamma=function(s){for(var l=[],u=0,c=0;c<s.length;c++)u+=s[c];u*=-1/s.length;for(var f=0;f<s.length;f++)l[f]=u+s[f];return l},o.multL=function(s,l,u){for(var c=[],f=[],d=[],g=0;g<l[0].length;g++){for(var v=0,m=0;m<l.length;m++)v+=-.5*l[m][g]*s[m];f[g]=v}for(var y=0;y<u.length;y++){for(var b=0,E=0;E<u.length;E++)b+=u[y][E]*f[E];d[y]=b}for(var w=0;w<l.length;w++){for(var _=0,T=0;T<l[0].length;T++)_+=l[w][T]*d[T];c[w]=_}return c},r.exports=o},function(r,n,a){var o=function(){function c(f,d){for(var g=0;g<d.length;g++){var v=d[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(f,v.key,v)}}return function(f,d,g){return d&&c(f.prototype,d),g&&c(f,g),f}}();function s(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var l=a(11),u=function(){function c(f,d){s(this,c),(d!==null||d!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var g=void 0;f instanceof l?g=f.size():g=f.length,this._quicksort(f,0,g-1)}return o(c,[{key:"_quicksort",value:function(d,g,v){if(g<v){var m=this._partition(d,g,v);this._quicksort(d,g,m),this._quicksort(d,m+1,v)}}},{key:"_partition",value:function(d,g,v){for(var m=this._get(d,g),y=g,b=v;;){for(;this.compareFunction(m,this._get(d,b));)b--;for(;this.compareFunction(this._get(d,y),m);)y++;if(y<b)this._swap(d,y,b),y++,b--;else return b}}},{key:"_get",value:function(d,g){return d instanceof l?d.get_object_at(g):d[g]}},{key:"_set",value:function(d,g,v){d instanceof l?d.set_object_at(g,v):d[g]=v}},{key:"_swap",value:function(d,g,v){var m=this._get(d,g);this._set(d,g,this._get(d,v)),this._set(d,v,m)}},{key:"_defaultCompareFunction",value:function(d,g){return g>d}}]),c}();r.exports=u},function(r,n,a){function o(){}o.svd=function(s){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=s.length,this.n=s[0].length;var l=Math.min(this.m,this.n);this.s=function(Pe){for(var Re=[];Pe-- >0;)Re.push(0);return Re}(Math.min(this.m+1,this.n)),this.U=function(Pe){var Re=function Ve(Ye){if(Ye.length==0)return 0;for(var Ue=[],Ke=0;Ke<Ye[0];Ke++)Ue.push(Ve(Ye.slice(1)));return Ue};return Re(Pe)}([this.m,l]),this.V=function(Pe){var Re=function Ve(Ye){if(Ye.length==0)return 0;for(var Ue=[],Ke=0;Ke<Ye[0];Ke++)Ue.push(Ve(Ye.slice(1)));return Ue};return Re(Pe)}([this.n,this.n]);for(var u=function(Pe){for(var Re=[];Pe-- >0;)Re.push(0);return Re}(this.n),c=function(Pe){for(var Re=[];Pe-- >0;)Re.push(0);return Re}(this.m),f=!0,d=Math.min(this.m-1,this.n),g=Math.max(0,Math.min(this.n-2,this.m)),v=0;v<Math.max(d,g);v++){if(v<d){this.s[v]=0;for(var m=v;m<this.m;m++)this.s[v]=o.hypot(this.s[v],s[m][v]);if(this.s[v]!==0){s[v][v]<0&&(this.s[v]=-this.s[v]);for(var y=v;y<this.m;y++)s[y][v]/=this.s[v];s[v][v]+=1}this.s[v]=-this.s[v]}for(var b=v+1;b<this.n;b++){if(function(Pe,Re){return Pe&&Re}(v<d,this.s[v]!==0)){for(var E=0,w=v;w<this.m;w++)E+=s[w][v]*s[w][b];E=-E/s[v][v];for(var _=v;_<this.m;_++)s[_][b]+=E*s[_][v]}u[b]=s[v][b]}if(function(Pe,Re){return Pe&&Re}(f,v<d))for(var T=v;T<this.m;T++)this.U[T][v]=s[T][v];if(v<g){u[v]=0;for(var O=v+1;O<this.n;O++)u[v]=o.hypot(u[v],u[O]);if(u[v]!==0){u[v+1]<0&&(u[v]=-u[v]);for(var D=v+1;D<this.n;D++)u[D]/=u[v];u[v+1]+=1}if(u[v]=-u[v],function(Pe,Re){return Pe&&Re}(v+1<this.m,u[v]!==0)){for(var x=v+1;x<this.m;x++)c[x]=0;for(var L=v+1;L<this.n;L++)for(var R=v+1;R<this.m;R++)c[R]+=u[L]*s[R][L];for(var C=v+1;C<this.n;C++)for(var A=-u[C]/u[v+1],S=v+1;S<this.m;S++)s[S][C]+=A*c[S]}for(var N=v+1;N<this.n;N++)this.V[N][v]=u[N]}}var $=Math.min(this.n,this.m+1);d<this.n&&(this.s[d]=s[d][d]),this.m<$&&(this.s[$-1]=0),g+1<$&&(u[g]=s[g][$-1]),u[$-1]=0;{for(var B=d;B<l;B++){for(var P=0;P<this.m;P++)this.U[P][B]=0;this.U[B][B]=1}for(var k=d-1;k>=0;k--)if(this.s[k]!==0){for(var H=k+1;H<l;H++){for(var G=0,W=k;W<this.m;W++)G+=this.U[W][k]*this.U[W][H];G=-G/this.U[k][k];for(var U=k;U<this.m;U++)this.U[U][H]+=G*this.U[U][k]}for(var X=k;X<this.m;X++)this.U[X][k]=-this.U[X][k];this.U[k][k]=1+this.U[k][k];for(var ee=0;ee<k-1;ee++)this.U[ee][k]=0}else{for(var te=0;te<this.m;te++)this.U[te][k]=0;this.U[k][k]=1}}for(var V=this.n-1;V>=0;V--){if(function(Pe,Re){return Pe&&Re}(V<g,u[V]!==0))for(var Y=V+1;Y<l;Y++){for(var F=0,j=V+1;j<this.n;j++)F+=this.V[j][V]*this.V[j][Y];F=-F/this.V[V+1][V];for(var J=V+1;J<this.n;J++)this.V[J][Y]+=F*this.V[J][V]}for(var de=0;de<this.n;de++)this.V[de][V]=0;this.V[V][V]=1}for(var re=$-1,ve=Math.pow(2,-52),z=Math.pow(2,-966);$>0;){var I=void 0,q=void 0;for(I=$-2;I>=-1&&I!==-1;I--)if(Math.abs(u[I])<=z+ve*(Math.abs(this.s[I])+Math.abs(this.s[I+1]))){u[I]=0;break}if(I===$-2)q=4;else{var ie=void 0;for(ie=$-1;ie>=I&&ie!==I;ie--){var oe=(ie!==$?Math.abs(u[ie]):0)+(ie!==I+1?Math.abs(u[ie-1]):0);if(Math.abs(this.s[ie])<=z+ve*oe){this.s[ie]=0;break}}ie===I?q=3:ie===$-1?q=1:(q=2,I=ie)}switch(I++,q){case 1:{var ce=u[$-2];u[$-2]=0;for(var ne=$-2;ne>=I;ne--){var ae=o.hypot(this.s[ne],ce),pe=this.s[ne]/ae,ue=ce/ae;this.s[ne]=ae,ne!==I&&(ce=-ue*u[ne-1],u[ne-1]=pe*u[ne-1]);for(var se=0;se<this.n;se++)ae=pe*this.V[se][ne]+ue*this.V[se][$-1],this.V[se][$-1]=-ue*this.V[se][ne]+pe*this.V[se][$-1],this.V[se][ne]=ae}}break;case 2:{var M=u[I-1];u[I-1]=0;for(var Z=I;Z<$;Z++){var fe=o.hypot(this.s[Z],M),he=this.s[Z]/fe,Q=M/fe;this.s[Z]=fe,M=-Q*u[Z],u[Z]=he*u[Z];for(var ge=0;ge<this.m;ge++)fe=he*this.U[ge][Z]+Q*this.U[ge][I-1],this.U[ge][I-1]=-Q*this.U[ge][Z]+he*this.U[ge][I-1],this.U[ge][Z]=fe}}break;case 3:{var le=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[$-1]),Math.abs(this.s[$-2])),Math.abs(u[$-2])),Math.abs(this.s[I])),Math.abs(u[I])),ye=this.s[$-1]/le,Ee=this.s[$-2]/le,be=u[$-2]/le,_e=this.s[I]/le,Te=u[I]/le,me=((Ee+ye)*(Ee-ye)+be*be)/2,we=ye*be*(ye*be),$e=0;(function(Pe,Re){return Pe||Re})(me!==0,we!==0)&&($e=Math.sqrt(me*me+we),me<0&&($e=-$e),$e=we/(me+$e));for(var Oe=(_e+ye)*(_e-ye)+$e,Le=_e*Te,Ne=I;Ne<$-1;Ne++){var Ce=o.hypot(Oe,Le),Se=Oe/Ce,De=Le/Ce;Ne!==I&&(u[Ne-1]=Ce),Oe=Se*this.s[Ne]+De*u[Ne],u[Ne]=Se*u[Ne]-De*this.s[Ne],Le=De*this.s[Ne+1],this.s[Ne+1]=Se*this.s[Ne+1];for(var Ae=0;Ae<this.n;Ae++)Ce=Se*this.V[Ae][Ne]+De*this.V[Ae][Ne+1],this.V[Ae][Ne+1]=-De*this.V[Ae][Ne]+Se*this.V[Ae][Ne+1],this.V[Ae][Ne]=Ce;if(Ce=o.hypot(Oe,Le),Se=Oe/Ce,De=Le/Ce,this.s[Ne]=Ce,Oe=Se*u[Ne]+De*this.s[Ne+1],this.s[Ne+1]=-De*u[Ne]+Se*this.s[Ne+1],Le=De*u[Ne+1],u[Ne+1]=Se*u[Ne+1],Ne<this.m-1)for(var xe=0;xe<this.m;xe++)Ce=Se*this.U[xe][Ne]+De*this.U[xe][Ne+1],this.U[xe][Ne+1]=-De*this.U[xe][Ne]+Se*this.U[xe][Ne+1],this.U[xe][Ne]=Ce}u[$-2]=Oe}break;case 4:{if(this.s[I]<=0){this.s[I]=this.s[I]<0?-this.s[I]:0;for(var Be=0;Be<=re;Be++)this.V[Be][I]=-this.V[Be][I]}for(;I<re&&!(this.s[I]>=this.s[I+1]);){var Me=this.s[I];if(this.s[I]=this.s[I+1],this.s[I+1]=Me,I<this.n-1)for(var Fe=0;Fe<this.n;Fe++)Me=this.V[Fe][I+1],this.V[Fe][I+1]=this.V[Fe][I],this.V[Fe][I]=Me;if(I<this.m-1)for(var ze=0;ze<this.m;ze++)Me=this.U[ze][I+1],this.U[ze][I+1]=this.U[ze][I],this.U[ze][I]=Me;I++}$--}break}}var Ge={U:this.U,V:this.V,S:this.s};return Ge},o.hypot=function(s,l){var u=void 0;return Math.abs(s)>Math.abs(l)?(u=l/s,u=Math.abs(s)*Math.sqrt(1+u*u)):l!=0?(u=s/l,u=Math.abs(l)*Math.sqrt(1+u*u)):u=0,u},r.exports=o},function(r,n,a){var o=function(){function u(c,f){for(var d=0;d<f.length;d++){var g=f[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}return function(c,f,d){return f&&u(c.prototype,f),d&&u(c,d),c}}();function s(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var l=function(){function u(c,f){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,u),this.sequence1=c,this.sequence2=f,this.match_score=d,this.mismatch_penalty=g,this.gap_penalty=v,this.iMax=c.length+1,this.jMax=f.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[m][y]=0}this.tracebackGrid=new Array(this.iMax);for(var b=0;b<this.iMax;b++){this.tracebackGrid[b]=new Array(this.jMax);for(var E=0;E<this.jMax;E++)this.tracebackGrid[b][E]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return o(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var f=1;f<this.jMax;f++)this.grid[0][f]=this.grid[0][f-1]+this.gap_penalty,this.tracebackGrid[0][f]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var g=1;g<this.iMax;g++)for(var v=1;v<this.jMax;v++){var m=void 0;this.sequence1[g-1]===this.sequence2[v-1]?m=this.grid[g-1][v-1]+this.match_score:m=this.grid[g-1][v-1]+this.mismatch_penalty;var y=this.grid[g-1][v]+this.gap_penalty,b=this.grid[g][v-1]+this.gap_penalty,E=[m,y,b],w=this.arrayAllMaxIndexes(E);this.grid[g][v]=E[w[0]],this.tracebackGrid[g][v]=[w.includes(0),w.includes(1),w.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var f=[];for(f.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});f[0];){var d=f[0],g=this.tracebackGrid[d.pos[0]][d.pos[1]];g[0]&&f.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),g[1]&&f.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),g[2]&&f.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),f.shift()}return this.alignments}},{key:"getAllIndexes",value:function(f,d){for(var g=[],v=-1;(v=f.indexOf(d,v+1))!==-1;)g.push(v);return g}},{key:"arrayAllMaxIndexes",value:function(f){return this.getAllIndexes(f,Math.max.apply(null,f))}}]),u}();r.exports=l},function(r,n,a){var o=function(){};o.FDLayout=a(18),o.FDLayoutConstants=a(4),o.FDLayoutEdge=a(19),o.FDLayoutNode=a(20),o.DimensionD=a(21),o.HashMap=a(22),o.HashSet=a(23),o.IGeometry=a(8),o.IMath=a(9),o.Integer=a(10),o.Point=a(12),o.PointD=a(5),o.RandomSeed=a(16),o.RectangleD=a(13),o.Transform=a(17),o.UniqueIDGeneretor=a(14),o.Quicksort=a(25),o.LinkedList=a(11),o.LGraphObject=a(2),o.LGraph=a(6),o.LEdge=a(1),o.LGraphManager=a(7),o.LNode=a(3),o.Layout=a(15),o.LayoutConstants=a(0),o.NeedlemanWunsch=a(27),o.Matrix=a(24),o.SVD=a(26),r.exports=o},function(r,n,a){function o(){this.listeners=[]}var s=o.prototype;s.addListener=function(l,u){this.listeners.push({event:l,callback:u})},s.removeListener=function(l,u){for(var c=this.listeners.length;c>=0;c--){var f=this.listeners[c];f.event===l&&f.callback===u&&this.listeners.splice(c,1)}},s.emit=function(l,u){for(var c=0;c<this.listeners.length;c++){var f=this.listeners[c];l===f.event&&f.callback(u)}},r.exports=o}])})})(layoutBase);(function(t,e){(function(n,a){t.exports=a(layoutBase.exports)})(commonjsGlobal,function(r){return function(n){var a={};function o(s){if(a[s])return a[s].exports;var l=a[s]={i:s,l:!1,exports:{}};return n[s].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=n,o.c=a,o.i=function(s){return s},o.d=function(s,l,u){o.o(s,l)||Object.defineProperty(s,l,{configurable:!1,enumerable:!0,get:u})},o.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(l,"a",l),l},o.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},o.p="",o(o.s=8)}([function(n,a){n.exports=r},function(n,a,o){var s=o(0).FDLayoutConstants;function l(){}for(var u in s)l[u]=s[u];l.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,l.DEFAULT_RADIAL_SEPARATION=s.DEFAULT_EDGE_LENGTH,l.DEFAULT_COMPONENT_SEPERATION=60,l.TILE=!0,l.TILING_PADDING_VERTICAL=10,l.TILING_PADDING_HORIZONTAL=10,l.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,l.ENFORCE_CONSTRAINTS=!0,l.APPLY_LAYOUT=!0,l.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,l.TREE_REDUCTION_ON_INCREMENTAL=!0,l.PURE_INCREMENTAL=l.DEFAULT_INCREMENTAL,n.exports=l},function(n,a,o){var s=o(0).FDLayoutEdge;function l(c,f,d){s.call(this,c,f,d)}l.prototype=Object.create(s.prototype);for(var u in s)l[u]=s[u];n.exports=l},function(n,a,o){var s=o(0).LGraph;function l(c,f,d){s.call(this,c,f,d)}l.prototype=Object.create(s.prototype);for(var u in s)l[u]=s[u];n.exports=l},function(n,a,o){var s=o(0).LGraphManager;function l(c){s.call(this,c)}l.prototype=Object.create(s.prototype);for(var u in s)l[u]=s[u];n.exports=l},function(n,a,o){var s=o(0).FDLayoutNode,l=o(0).IMath;function u(f,d,g,v){s.call(this,f,d,g,v)}u.prototype=Object.create(s.prototype);for(var c in s)u[c]=s[c];u.prototype.calculateDisplacement=function(){var f=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=f.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=f.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=f.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=f.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementX=f.coolingFactor*f.maxNodeDisplacement*l.sign(this.displacementX)),Math.abs(this.displacementY)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementY=f.coolingFactor*f.maxNodeDisplacement*l.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},u.prototype.propogateDisplacementToChildren=function(f,d){for(var g=this.getChild().getNodes(),v,m=0;m<g.length;m++)v=g[m],v.getChild()==null?(v.displacementX+=f,v.displacementY+=d):v.propogateDisplacementToChildren(f,d)},u.prototype.move=function(){var f=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),f.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.setPred1=function(f){this.pred1=f},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(f){this.next=f},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(f){this.processed=f},u.prototype.isProcessed=function(){return processed},n.exports=u},function(n,a,o){function s(g){if(Array.isArray(g)){for(var v=0,m=Array(g.length);v<g.length;v++)m[v]=g[v];return m}else return Array.from(g)}var l=o(1),u=o(0).LinkedList,c=o(0).Matrix,f=o(0).SVD;function d(){}d.handleConstraints=function(g){var v={};v.fixedNodeConstraint=g.constraints.fixedNodeConstraint,v.alignmentConstraint=g.constraints.alignmentConstraint,v.relativePlacementConstraint=g.constraints.relativePlacementConstraint;for(var m=new Map,y=new Map,b=[],E=[],w=g.getAllNodes(),_=0,T=0;T<w.length;T++){var O=w[T];O.getChild()==null&&(y.set(O.id,_++),b.push(O.getCenterX()),E.push(O.getCenterY()),m.set(O.id,O))}v.relativePlacementConstraint&&v.relativePlacementConstraint.forEach(function(Q){!Q.gap&&Q.gap!=0&&(Q.left?Q.gap=l.DEFAULT_EDGE_LENGTH+m.get(Q.left).getWidth()/2+m.get(Q.right).getWidth()/2:Q.gap=l.DEFAULT_EDGE_LENGTH+m.get(Q.top).getHeight()/2+m.get(Q.bottom).getHeight()/2)});var D=function(ge,le){return{x:ge.x-le.x,y:ge.y-le.y}},x=function(ge){var le=0,ye=0;return ge.forEach(function(Ee){le+=b[y.get(Ee)],ye+=E[y.get(Ee)]}),{x:le/ge.size,y:ye/ge.size}},L=function(ge,le,ye,Ee,be){function _e(Ce,Se){var De=new Set(Ce),Ae=!0,xe=!1,Be=void 0;try{for(var Me=Se[Symbol.iterator](),Fe;!(Ae=(Fe=Me.next()).done);Ae=!0){var ze=Fe.value;De.add(ze)}}catch(Ge){xe=!0,Be=Ge}finally{try{!Ae&&Me.return&&Me.return()}finally{if(xe)throw Be}}return De}var Te=new Map;ge.forEach(function(Ce,Se){Te.set(Se,0)}),ge.forEach(function(Ce,Se){Ce.forEach(function(De){Te.set(De.id,Te.get(De.id)+1)})});var me=new Map,we=new Map,$e=new u;Te.forEach(function(Ce,Se){Ce==0?($e.push(Se),ye||(le=="horizontal"?me.set(Se,y.has(Se)?b[y.get(Se)]:Ee.get(Se)):me.set(Se,y.has(Se)?E[y.get(Se)]:Ee.get(Se)))):me.set(Se,Number.NEGATIVE_INFINITY),ye&&we.set(Se,new Set([Se]))}),ye&&be.forEach(function(Ce){var Se=[];if(Ce.forEach(function(xe){ye.has(xe)&&Se.push(xe)}),Se.length>0){var De=0;Se.forEach(function(xe){le=="horizontal"?(me.set(xe,y.has(xe)?b[y.get(xe)]:Ee.get(xe)),De+=me.get(xe)):(me.set(xe,y.has(xe)?E[y.get(xe)]:Ee.get(xe)),De+=me.get(xe))}),De=De/Se.length,Ce.forEach(function(xe){ye.has(xe)||me.set(xe,De)})}else{var Ae=0;Ce.forEach(function(xe){le=="horizontal"?Ae+=y.has(xe)?b[y.get(xe)]:Ee.get(xe):Ae+=y.has(xe)?E[y.get(xe)]:Ee.get(xe)}),Ae=Ae/Ce.length,Ce.forEach(function(xe){me.set(xe,Ae)})}});for(var Oe=function(){var Se=$e.shift(),De=ge.get(Se);De.forEach(function(Ae){if(me.get(Ae.id)<me.get(Se)+Ae.gap)if(ye&&ye.has(Ae.id)){var xe=void 0;if(le=="horizontal"?xe=y.has(Ae.id)?b[y.get(Ae.id)]:Ee.get(Ae.id):xe=y.has(Ae.id)?E[y.get(Ae.id)]:Ee.get(Ae.id),me.set(Ae.id,xe),xe<me.get(Se)+Ae.gap){var Be=me.get(Se)+Ae.gap-xe;we.get(Se).forEach(function(Me){me.set(Me,me.get(Me)-Be)})}}else me.set(Ae.id,me.get(Se)+Ae.gap);Te.set(Ae.id,Te.get(Ae.id)-1),Te.get(Ae.id)==0&&$e.push(Ae.id),ye&&we.set(Ae.id,_e(we.get(Se),we.get(Ae.id)))})};$e.length!=0;)Oe();if(ye){var Le=new Set;ge.forEach(function(Ce,Se){Ce.length==0&&Le.add(Se)});var Ne=[];we.forEach(function(Ce,Se){if(Le.has(Se)){var De=!1,Ae=!0,xe=!1,Be=void 0;try{for(var Me=Ce[Symbol.iterator](),Fe;!(Ae=(Fe=Me.next()).done);Ae=!0){var ze=Fe.value;ye.has(ze)&&(De=!0)}}catch(Re){xe=!0,Be=Re}finally{try{!Ae&&Me.return&&Me.return()}finally{if(xe)throw Be}}if(!De){var Ge=!1,Pe=void 0;Ne.forEach(function(Re,Ve){Re.has([].concat(s(Ce))[0])&&(Ge=!0,Pe=Ve)}),Ge?Ce.forEach(function(Re){Ne[Pe].add(Re)}):Ne.push(new Set(Ce))}}}),Ne.forEach(function(Ce,Se){var De=Number.POSITIVE_INFINITY,Ae=Number.POSITIVE_INFINITY,xe=Number.NEGATIVE_INFINITY,Be=Number.NEGATIVE_INFINITY,Me=!0,Fe=!1,ze=void 0;try{for(var Ge=Ce[Symbol.iterator](),Pe;!(Me=(Pe=Ge.next()).done);Me=!0){var Re=Pe.value,Ve=void 0;le=="horizontal"?Ve=y.has(Re)?b[y.get(Re)]:Ee.get(Re):Ve=y.has(Re)?E[y.get(Re)]:Ee.get(Re);var Ye=me.get(Re);Ve<De&&(De=Ve),Ve>xe&&(xe=Ve),Ye<Ae&&(Ae=Ye),Ye>Be&&(Be=Ye)}}catch(tt){Fe=!0,ze=tt}finally{try{!Me&&Ge.return&&Ge.return()}finally{if(Fe)throw ze}}var Ue=(De+xe)/2-(Ae+Be)/2,Ke=!0,Ze=!1,Je=void 0;try{for(var je=Ce[Symbol.iterator](),it;!(Ke=(it=je.next()).done);Ke=!0){var et=it.value;me.set(et,me.get(et)+Ue)}}catch(tt){Ze=!0,Je=tt}finally{try{!Ke&&je.return&&je.return()}finally{if(Ze)throw Je}}})}return me},R=function(ge){var le=0,ye=0,Ee=0,be=0;if(ge.forEach(function(we){we.left?b[y.get(we.left)]-b[y.get(we.right)]>=0?le++:ye++:E[y.get(we.top)]-E[y.get(we.bottom)]>=0?Ee++:be++}),le>ye&&Ee>be)for(var _e=0;_e<y.size;_e++)b[_e]=-1*b[_e],E[_e]=-1*E[_e];else if(le>ye)for(var Te=0;Te<y.size;Te++)b[Te]=-1*b[Te];else if(Ee>be)for(var me=0;me<y.size;me++)E[me]=-1*E[me]},C=function(ge){var le=[],ye=new u,Ee=new Set,be=0;return ge.forEach(function(_e,Te){if(!Ee.has(Te)){le[be]=[];var me=Te;for(ye.push(me),Ee.add(me),le[be].push(me);ye.length!=0;){me=ye.shift();var we=ge.get(me);we.forEach(function($e){Ee.has($e.id)||(ye.push($e.id),Ee.add($e.id),le[be].push($e.id))})}be++}}),le},A=function(ge){var le=new Map;return ge.forEach(function(ye,Ee){le.set(Ee,[])}),ge.forEach(function(ye,Ee){ye.forEach(function(be){le.get(Ee).push(be),le.get(be.id).push({id:Ee,gap:be.gap,direction:be.direction})})}),le},S=function(ge){var le=new Map;return ge.forEach(function(ye,Ee){le.set(Ee,[])}),ge.forEach(function(ye,Ee){ye.forEach(function(be){le.get(be.id).push({id:Ee,gap:be.gap,direction:be.direction})})}),le},N=[],$=[],B=!1,P=!1,k=new Set,H=new Map,G=new Map,W=[];if(v.fixedNodeConstraint&&v.fixedNodeConstraint.forEach(function(Q){k.add(Q.nodeId)}),v.relativePlacementConstraint&&(v.relativePlacementConstraint.forEach(function(Q){Q.left?(H.has(Q.left)?H.get(Q.left).push({id:Q.right,gap:Q.gap,direction:"horizontal"}):H.set(Q.left,[{id:Q.right,gap:Q.gap,direction:"horizontal"}]),H.has(Q.right)||H.set(Q.right,[])):(H.has(Q.top)?H.get(Q.top).push({id:Q.bottom,gap:Q.gap,direction:"vertical"}):H.set(Q.top,[{id:Q.bottom,gap:Q.gap,direction:"vertical"}]),H.has(Q.bottom)||H.set(Q.bottom,[]))}),G=A(H),W=C(G)),l.TRANSFORM_ON_CONSTRAINT_HANDLING){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>1)v.fixedNodeConstraint.forEach(function(Q,ge){N[ge]=[Q.position.x,Q.position.y],$[ge]=[b[y.get(Q.nodeId)],E[y.get(Q.nodeId)]]}),B=!0;else if(v.alignmentConstraint)(function(){var Q=0;if(v.alignmentConstraint.vertical){for(var ge=v.alignmentConstraint.vertical,le=function(me){var we=new Set;ge[me].forEach(function(Le){we.add(Le)});var $e=new Set([].concat(s(we)).filter(function(Le){return k.has(Le)})),Oe=void 0;$e.size>0?Oe=b[y.get($e.values().next().value)]:Oe=x(we).x,ge[me].forEach(function(Le){N[Q]=[Oe,E[y.get(Le)]],$[Q]=[b[y.get(Le)],E[y.get(Le)]],Q++})},ye=0;ye<ge.length;ye++)le(ye);B=!0}if(v.alignmentConstraint.horizontal){for(var Ee=v.alignmentConstraint.horizontal,be=function(me){var we=new Set;Ee[me].forEach(function(Le){we.add(Le)});var $e=new Set([].concat(s(we)).filter(function(Le){return k.has(Le)})),Oe=void 0;$e.size>0?Oe=b[y.get($e.values().next().value)]:Oe=x(we).y,Ee[me].forEach(function(Le){N[Q]=[b[y.get(Le)],Oe],$[Q]=[b[y.get(Le)],E[y.get(Le)]],Q++})},_e=0;_e<Ee.length;_e++)be(_e);B=!0}v.relativePlacementConstraint&&(P=!0)})();else if(v.relativePlacementConstraint){for(var U=0,X=0,ee=0;ee<W.length;ee++)W[ee].length>U&&(U=W[ee].length,X=ee);if(U<G.size/2)R(v.relativePlacementConstraint),B=!1,P=!1;else{var te=new Map,V=new Map,Y=[];W[X].forEach(function(Q){H.get(Q).forEach(function(ge){ge.direction=="horizontal"?(te.has(Q)?te.get(Q).push(ge):te.set(Q,[ge]),te.has(ge.id)||te.set(ge.id,[]),Y.push({left:Q,right:ge.id})):(V.has(Q)?V.get(Q).push(ge):V.set(Q,[ge]),V.has(ge.id)||V.set(ge.id,[]),Y.push({top:Q,bottom:ge.id}))})}),R(Y),P=!1;var F=L(te,"horizontal"),j=L(V,"vertical");W[X].forEach(function(Q,ge){$[ge]=[b[y.get(Q)],E[y.get(Q)]],N[ge]=[],F.has(Q)?N[ge][0]=F.get(Q):N[ge][0]=b[y.get(Q)],j.has(Q)?N[ge][1]=j.get(Q):N[ge][1]=E[y.get(Q)]}),B=!0}}if(B){for(var J=void 0,de=c.transpose(N),re=c.transpose($),ve=0;ve<de.length;ve++)de[ve]=c.multGamma(de[ve]),re[ve]=c.multGamma(re[ve]);var z=c.multMat(de,c.transpose(re)),I=f.svd(z);J=c.multMat(I.V,c.transpose(I.U));for(var q=0;q<y.size;q++){var ie=[b[q],E[q]],oe=[J[0][0],J[1][0]],ce=[J[0][1],J[1][1]];b[q]=c.dotProduct(ie,oe),E[q]=c.dotProduct(ie,ce)}P&&R(v.relativePlacementConstraint)}}if(l.ENFORCE_CONSTRAINTS){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>0){var ne={x:0,y:0};v.fixedNodeConstraint.forEach(function(Q,ge){var le={x:b[y.get(Q.nodeId)],y:E[y.get(Q.nodeId)]},ye=Q.position,Ee=D(ye,le);ne.x+=Ee.x,ne.y+=Ee.y}),ne.x/=v.fixedNodeConstraint.length,ne.y/=v.fixedNodeConstraint.length,b.forEach(function(Q,ge){b[ge]+=ne.x}),E.forEach(function(Q,ge){E[ge]+=ne.y}),v.fixedNodeConstraint.forEach(function(Q){b[y.get(Q.nodeId)]=Q.position.x,E[y.get(Q.nodeId)]=Q.position.y})}if(v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var ae=v.alignmentConstraint.vertical,pe=function(ge){var le=new Set;ae[ge].forEach(function(be){le.add(be)});var ye=new Set([].concat(s(le)).filter(function(be){return k.has(be)})),Ee=void 0;ye.size>0?Ee=b[y.get(ye.values().next().value)]:Ee=x(le).x,le.forEach(function(be){k.has(be)||(b[y.get(be)]=Ee)})},ue=0;ue<ae.length;ue++)pe(ue);if(v.alignmentConstraint.horizontal)for(var se=v.alignmentConstraint.horizontal,M=function(ge){var le=new Set;se[ge].forEach(function(be){le.add(be)});var ye=new Set([].concat(s(le)).filter(function(be){return k.has(be)})),Ee=void 0;ye.size>0?Ee=E[y.get(ye.values().next().value)]:Ee=x(le).y,le.forEach(function(be){k.has(be)||(E[y.get(be)]=Ee)})},Z=0;Z<se.length;Z++)M(Z)}v.relativePlacementConstraint&&function(){var Q=new Map,ge=new Map,le=new Map,ye=new Map,Ee=new Map,be=new Map,_e=new Set,Te=new Set;if(k.forEach(function(He){_e.add(He),Te.add(He)}),v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var me=v.alignmentConstraint.vertical,we=function(ke){le.set("dummy"+ke,[]),me[ke].forEach(function(Ie){Q.set(Ie,"dummy"+ke),le.get("dummy"+ke).push(Ie),k.has(Ie)&&_e.add("dummy"+ke)}),Ee.set("dummy"+ke,b[y.get(me[ke][0])])},$e=0;$e<me.length;$e++)we($e);if(v.alignmentConstraint.horizontal)for(var Oe=v.alignmentConstraint.horizontal,Le=function(ke){ye.set("dummy"+ke,[]),Oe[ke].forEach(function(Ie){ge.set(Ie,"dummy"+ke),ye.get("dummy"+ke).push(Ie),k.has(Ie)&&Te.add("dummy"+ke)}),be.set("dummy"+ke,E[y.get(Oe[ke][0])])},Ne=0;Ne<Oe.length;Ne++)Le(Ne)}var Ce=new Map,Se=new Map,De=function(ke){H.get(ke).forEach(function(Ie){var nt=void 0,Xe=void 0;Ie.direction=="horizontal"?(nt=Q.get(ke)?Q.get(ke):ke,Q.get(Ie.id)?Xe={id:Q.get(Ie.id),gap:Ie.gap,direction:Ie.direction}:Xe=Ie,Ce.has(nt)?Ce.get(nt).push(Xe):Ce.set(nt,[Xe]),Ce.has(Xe.id)||Ce.set(Xe.id,[])):(nt=ge.get(ke)?ge.get(ke):ke,ge.get(Ie.id)?Xe={id:ge.get(Ie.id),gap:Ie.gap,direction:Ie.direction}:Xe=Ie,Se.has(nt)?Se.get(nt).push(Xe):Se.set(nt,[Xe]),Se.has(Xe.id)||Se.set(Xe.id,[]))})},Ae=!0,xe=!1,Be=void 0;try{for(var Me=H.keys()[Symbol.iterator](),Fe;!(Ae=(Fe=Me.next()).done);Ae=!0){var ze=Fe.value;De(ze)}}catch(He){xe=!0,Be=He}finally{try{!Ae&&Me.return&&Me.return()}finally{if(xe)throw Be}}var Ge=A(Ce),Pe=A(Se),Re=C(Ge),Ve=C(Pe),Ye=S(Ce),Ue=S(Se),Ke=[],Ze=[];Re.forEach(function(He,ke){Ke[ke]=[],He.forEach(function(Ie){Ye.get(Ie).length==0&&Ke[ke].push(Ie)})}),Ve.forEach(function(He,ke){Ze[ke]=[],He.forEach(function(Ie){Ue.get(Ie).length==0&&Ze[ke].push(Ie)})});var Je=L(Ce,"horizontal",_e,Ee,Ke),je=L(Se,"vertical",Te,be,Ze),it=function(ke){le.get(ke)?le.get(ke).forEach(function(Ie){b[y.get(Ie)]=Je.get(ke)}):b[y.get(ke)]=Je.get(ke)},et=!0,tt=!1,ct=void 0;try{for(var Qe=Je.keys()[Symbol.iterator](),ot;!(et=(ot=Qe.next()).done);et=!0){var rt=ot.value;it(rt)}}catch(He){tt=!0,ct=He}finally{try{!et&&Qe.return&&Qe.return()}finally{if(tt)throw ct}}var ft=function(ke){ye.get(ke)?ye.get(ke).forEach(function(Ie){E[y.get(Ie)]=je.get(ke)}):E[y.get(ke)]=je.get(ke)},st=!0,dt=!1,We=void 0;try{for(var at=je.keys()[Symbol.iterator](),lt;!(st=(lt=at.next()).done);st=!0){var rt=lt.value;ft(rt)}}catch(He){dt=!0,We=He}finally{try{!st&&at.return&&at.return()}finally{if(dt)throw We}}}()}for(var fe=0;fe<w.length;fe++){var he=w[fe];he.getChild()==null&&he.setCenter(b[y.get(he.id)],E[y.get(he.id)])}},n.exports=d},function(n,a,o){var s=o(0).FDLayout,l=o(4),u=o(3),c=o(5),f=o(2),d=o(1),g=o(6),v=o(0).FDLayoutConstants,m=o(0).LayoutConstants,y=o(0).Point,b=o(0).PointD,E=o(0).DimensionD,w=o(0).Layout,_=o(0).Integer,T=o(0).IGeometry,O=o(0).LGraph,D=o(0).Transform,x=o(0).LinkedList;function L(){s.call(this),this.toBeTiled={},this.constraints={}}L.prototype=Object.create(s.prototype);for(var R in s)L[R]=s[R];L.prototype.newGraphManager=function(){var C=new l(this);return this.graphManager=C,C},L.prototype.newGraph=function(C){return new u(null,this.graphManager,C)},L.prototype.newNode=function(C){return new c(this.graphManager,C)},L.prototype.newEdge=function(C){return new f(null,null,C)},L.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.isSubLayout||(d.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=d.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=d.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=v.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=v.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=v.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},L.prototype.initSpringEmbedder=function(){s.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/v.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},L.prototype.layout=function(){var C=m.DEFAULT_CREATE_BENDS_AS_NEEDED;return C&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},L.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(d.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),S=this.nodesWithGravity.filter(function(B){return A.has(B)});this.graphManager.setAllNodesToApplyGravitation(S)}}else{var C=this.getFlatForest();if(C.length>0)this.positionNodesRadially(C);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),S=this.nodesWithGravity.filter(function(N){return A.has(N)});this.graphManager.setAllNodesToApplyGravitation(S),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(g.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),d.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},L.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%v.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var C=new Set(this.getAllNodes()),A=this.nodesWithGravity.filter(function($){return C.has($)});this.graphManager.setAllNodesToApplyGravitation(A),this.graphManager.updateBounds(),this.updateGrid(),d.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),d.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var S=!this.isTreeGrowing&&!this.isGrowthFinished,N=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(S,N),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},L.prototype.getPositionsData=function(){for(var C=this.graphManager.getAllNodes(),A={},S=0;S<C.length;S++){var N=C[S].rect,$=C[S].id;A[$]={id:$,x:N.getCenterX(),y:N.getCenterY(),w:N.width,h:N.height}}return A},L.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var C=!1;if(v.ANIMATE==="during")this.emit("layoutstarted");else{for(;!C;)C=this.tick();this.graphManager.updateBounds()}},L.prototype.moveNodes=function(){for(var C=this.getAllNodes(),A,S=0;S<C.length;S++)A=C[S],A.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var S=0;S<C.length;S++)A=C[S],A.move()},L.prototype.initConstraintVariables=function(){var C=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var A=this.graphManager.getAllNodes(),S=0;S<A.length;S++){var N=A[S];this.idToNodeMap.set(N.id,N)}var $=function V(Y){for(var F=Y.getChild().getNodes(),j,J=0,de=0;de<F.length;de++)j=F[de],j.getChild()==null?C.fixedNodeSet.has(j.id)&&(J+=100):J+=V(j);return J};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(F){C.fixedNodeSet.add(F.nodeId)});for(var A=this.graphManager.getAllNodes(),N,S=0;S<A.length;S++)if(N=A[S],N.getChild()!=null){var B=$(N);B>0&&(N.fixedNodeWeight=B)}}if(this.constraints.relativePlacementConstraint){var P=new Map,k=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(V){C.fixedNodesOnHorizontal.add(V),C.fixedNodesOnVertical.add(V)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var H=this.constraints.alignmentConstraint.vertical,S=0;S<H.length;S++)this.dummyToNodeForVerticalAlignment.set("dummy"+S,[]),H[S].forEach(function(Y){P.set(Y,"dummy"+S),C.dummyToNodeForVerticalAlignment.get("dummy"+S).push(Y),C.fixedNodeSet.has(Y)&&C.fixedNodesOnHorizontal.add("dummy"+S)});if(this.constraints.alignmentConstraint.horizontal)for(var G=this.constraints.alignmentConstraint.horizontal,S=0;S<G.length;S++)this.dummyToNodeForHorizontalAlignment.set("dummy"+S,[]),G[S].forEach(function(Y){k.set(Y,"dummy"+S),C.dummyToNodeForHorizontalAlignment.get("dummy"+S).push(Y),C.fixedNodeSet.has(Y)&&C.fixedNodesOnVertical.add("dummy"+S)})}if(d.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(V){var Y,F,j;for(j=V.length-1;j>=2*V.length/3;j--)Y=Math.floor(Math.random()*(j+1)),F=V[j],V[j]=V[Y],V[Y]=F;return V},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(V){if(V.left){var Y=P.has(V.left)?P.get(V.left):V.left,F=P.has(V.right)?P.get(V.right):V.right;C.nodesInRelativeHorizontal.includes(Y)||(C.nodesInRelativeHorizontal.push(Y),C.nodeToRelativeConstraintMapHorizontal.set(Y,[]),C.dummyToNodeForVerticalAlignment.has(Y)?C.nodeToTempPositionMapHorizontal.set(Y,C.idToNodeMap.get(C.dummyToNodeForVerticalAlignment.get(Y)[0]).getCenterX()):C.nodeToTempPositionMapHorizontal.set(Y,C.idToNodeMap.get(Y).getCenterX())),C.nodesInRelativeHorizontal.includes(F)||(C.nodesInRelativeHorizontal.push(F),C.nodeToRelativeConstraintMapHorizontal.set(F,[]),C.dummyToNodeForVerticalAlignment.has(F)?C.nodeToTempPositionMapHorizontal.set(F,C.idToNodeMap.get(C.dummyToNodeForVerticalAlignment.get(F)[0]).getCenterX()):C.nodeToTempPositionMapHorizontal.set(F,C.idToNodeMap.get(F).getCenterX())),C.nodeToRelativeConstraintMapHorizontal.get(Y).push({right:F,gap:V.gap}),C.nodeToRelativeConstraintMapHorizontal.get(F).push({left:Y,gap:V.gap})}else{var j=k.has(V.top)?k.get(V.top):V.top,J=k.has(V.bottom)?k.get(V.bottom):V.bottom;C.nodesInRelativeVertical.includes(j)||(C.nodesInRelativeVertical.push(j),C.nodeToRelativeConstraintMapVertical.set(j,[]),C.dummyToNodeForHorizontalAlignment.has(j)?C.nodeToTempPositionMapVertical.set(j,C.idToNodeMap.get(C.dummyToNodeForHorizontalAlignment.get(j)[0]).getCenterY()):C.nodeToTempPositionMapVertical.set(j,C.idToNodeMap.get(j).getCenterY())),C.nodesInRelativeVertical.includes(J)||(C.nodesInRelativeVertical.push(J),C.nodeToRelativeConstraintMapVertical.set(J,[]),C.dummyToNodeForHorizontalAlignment.has(J)?C.nodeToTempPositionMapVertical.set(J,C.idToNodeMap.get(C.dummyToNodeForHorizontalAlignment.get(J)[0]).getCenterY()):C.nodeToTempPositionMapVertical.set(J,C.idToNodeMap.get(J).getCenterY())),C.nodeToRelativeConstraintMapVertical.get(j).push({bottom:J,gap:V.gap}),C.nodeToRelativeConstraintMapVertical.get(J).push({top:j,gap:V.gap})}});else{var W=new Map,U=new Map;this.constraints.relativePlacementConstraint.forEach(function(V){if(V.left){var Y=P.has(V.left)?P.get(V.left):V.left,F=P.has(V.right)?P.get(V.right):V.right;W.has(Y)?W.get(Y).push(F):W.set(Y,[F]),W.has(F)?W.get(F).push(Y):W.set(F,[Y])}else{var j=k.has(V.top)?k.get(V.top):V.top,J=k.has(V.bottom)?k.get(V.bottom):V.bottom;U.has(j)?U.get(j).push(J):U.set(j,[J]),U.has(J)?U.get(J).push(j):U.set(J,[j])}});var X=function(Y,F){var j=[],J=[],de=new x,re=new Set,ve=0;return Y.forEach(function(z,I){if(!re.has(I)){j[ve]=[],J[ve]=!1;var q=I;for(de.push(q),re.add(q),j[ve].push(q);de.length!=0;){q=de.shift(),F.has(q)&&(J[ve]=!0);var ie=Y.get(q);ie.forEach(function(oe){re.has(oe)||(de.push(oe),re.add(oe),j[ve].push(oe))})}ve++}}),{components:j,isFixed:J}},ee=X(W,C.fixedNodesOnHorizontal);this.componentsOnHorizontal=ee.components,this.fixedComponentsOnHorizontal=ee.isFixed;var te=X(U,C.fixedNodesOnVertical);this.componentsOnVertical=te.components,this.fixedComponentsOnVertical=te.isFixed}}},L.prototype.updateDisplacements=function(){var C=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(te){var V=C.idToNodeMap.get(te.nodeId);V.displacementX=0,V.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var A=this.constraints.alignmentConstraint.vertical,S=0;S<A.length;S++){for(var N=0,$=0;$<A[S].length;$++){if(this.fixedNodeSet.has(A[S][$])){N=0;break}N+=this.idToNodeMap.get(A[S][$]).displacementX}for(var B=N/A[S].length,$=0;$<A[S].length;$++)this.idToNodeMap.get(A[S][$]).displacementX=B}if(this.constraints.alignmentConstraint.horizontal)for(var P=this.constraints.alignmentConstraint.horizontal,S=0;S<P.length;S++){for(var k=0,$=0;$<P[S].length;$++){if(this.fixedNodeSet.has(P[S][$])){k=0;break}k+=this.idToNodeMap.get(P[S][$]).displacementY}for(var H=k/P[S].length,$=0;$<P[S].length;$++)this.idToNodeMap.get(P[S][$]).displacementY=H}}if(this.constraints.relativePlacementConstraint)if(d.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(te){if(!C.fixedNodesOnHorizontal.has(te)){var V=0;C.dummyToNodeForVerticalAlignment.has(te)?V=C.idToNodeMap.get(C.dummyToNodeForVerticalAlignment.get(te)[0]).displacementX:V=C.idToNodeMap.get(te).displacementX,C.nodeToRelativeConstraintMapHorizontal.get(te).forEach(function(Y){if(Y.right){var F=C.nodeToTempPositionMapHorizontal.get(Y.right)-C.nodeToTempPositionMapHorizontal.get(te)-V;F<Y.gap&&(V-=Y.gap-F)}else{var F=C.nodeToTempPositionMapHorizontal.get(te)-C.nodeToTempPositionMapHorizontal.get(Y.left)+V;F<Y.gap&&(V+=Y.gap-F)}}),C.nodeToTempPositionMapHorizontal.set(te,C.nodeToTempPositionMapHorizontal.get(te)+V),C.dummyToNodeForVerticalAlignment.has(te)?C.dummyToNodeForVerticalAlignment.get(te).forEach(function(Y){C.idToNodeMap.get(Y).displacementX=V}):C.idToNodeMap.get(te).displacementX=V}}),this.nodesInRelativeVertical.forEach(function(te){if(!C.fixedNodesOnHorizontal.has(te)){var V=0;C.dummyToNodeForHorizontalAlignment.has(te)?V=C.idToNodeMap.get(C.dummyToNodeForHorizontalAlignment.get(te)[0]).displacementY:V=C.idToNodeMap.get(te).displacementY,C.nodeToRelativeConstraintMapVertical.get(te).forEach(function(Y){if(Y.bottom){var F=C.nodeToTempPositionMapVertical.get(Y.bottom)-C.nodeToTempPositionMapVertical.get(te)-V;F<Y.gap&&(V-=Y.gap-F)}else{var F=C.nodeToTempPositionMapVertical.get(te)-C.nodeToTempPositionMapVertical.get(Y.top)+V;F<Y.gap&&(V+=Y.gap-F)}}),C.nodeToTempPositionMapVertical.set(te,C.nodeToTempPositionMapVertical.get(te)+V),C.dummyToNodeForHorizontalAlignment.has(te)?C.dummyToNodeForHorizontalAlignment.get(te).forEach(function(Y){C.idToNodeMap.get(Y).displacementY=V}):C.idToNodeMap.get(te).displacementY=V}});else{for(var S=0;S<this.componentsOnHorizontal.length;S++){var G=this.componentsOnHorizontal[S];if(this.fixedComponentsOnHorizontal[S])for(var $=0;$<G.length;$++)this.dummyToNodeForVerticalAlignment.has(G[$])?this.dummyToNodeForVerticalAlignment.get(G[$]).forEach(function(Y){C.idToNodeMap.get(Y).displacementX=0}):this.idToNodeMap.get(G[$]).displacementX=0;else{for(var W=0,U=0,$=0;$<G.length;$++)if(this.dummyToNodeForVerticalAlignment.has(G[$])){var X=this.dummyToNodeForVerticalAlignment.get(G[$]);W+=X.length*this.idToNodeMap.get(X[0]).displacementX,U+=X.length}else W+=this.idToNodeMap.get(G[$]).displacementX,U++;for(var ee=W/U,$=0;$<G.length;$++)this.dummyToNodeForVerticalAlignment.has(G[$])?this.dummyToNodeForVerticalAlignment.get(G[$]).forEach(function(Y){C.idToNodeMap.get(Y).displacementX=ee}):this.idToNodeMap.get(G[$]).displacementX=ee}}for(var S=0;S<this.componentsOnVertical.length;S++){var G=this.componentsOnVertical[S];if(this.fixedComponentsOnVertical[S])for(var $=0;$<G.length;$++)this.dummyToNodeForHorizontalAlignment.has(G[$])?this.dummyToNodeForHorizontalAlignment.get(G[$]).forEach(function(F){C.idToNodeMap.get(F).displacementY=0}):this.idToNodeMap.get(G[$]).displacementY=0;else{for(var W=0,U=0,$=0;$<G.length;$++)if(this.dummyToNodeForHorizontalAlignment.has(G[$])){var X=this.dummyToNodeForHorizontalAlignment.get(G[$]);W+=X.length*this.idToNodeMap.get(X[0]).displacementY,U+=X.length}else W+=this.idToNodeMap.get(G[$]).displacementY,U++;for(var ee=W/U,$=0;$<G.length;$++)this.dummyToNodeForHorizontalAlignment.has(G[$])?this.dummyToNodeForHorizontalAlignment.get(G[$]).forEach(function(de){C.idToNodeMap.get(de).displacementY=ee}):this.idToNodeMap.get(G[$]).displacementY=ee}}}},L.prototype.calculateNodesToApplyGravitationTo=function(){var C=[],A,S=this.graphManager.getGraphs(),N=S.length,$;for($=0;$<N;$++)A=S[$],A.updateConnected(),A.isConnected||(C=C.concat(A.getNodes()));return C},L.prototype.createBendpoints=function(){var C=[];C=C.concat(this.graphManager.getAllEdges());var A=new Set,S;for(S=0;S<C.length;S++){var N=C[S];if(!A.has(N)){var $=N.getSource(),B=N.getTarget();if($==B)N.getBendpoints().push(new b),N.getBendpoints().push(new b),this.createDummyNodesForBendpoints(N),A.add(N);else{var P=[];if(P=P.concat($.getEdgeListToNode(B)),P=P.concat(B.getEdgeListToNode($)),!A.has(P[0])){if(P.length>1){var k;for(k=0;k<P.length;k++){var H=P[k];H.getBendpoints().push(new b),this.createDummyNodesForBendpoints(H)}}P.forEach(function(G){A.add(G)})}}}if(A.size==C.length)break}},L.prototype.positionNodesRadially=function(C){for(var A=new y(0,0),S=Math.ceil(Math.sqrt(C.length)),N=0,$=0,B=0,P=new b(0,0),k=0;k<C.length;k++){k%S==0&&(B=0,$=N,k!=0&&($+=d.DEFAULT_COMPONENT_SEPERATION),N=0);var H=C[k],G=w.findCenterOfTree(H);A.x=B,A.y=$,P=L.radialLayout(H,G,A),P.y>N&&(N=Math.floor(P.y)),B=Math.floor(P.x+d.DEFAULT_COMPONENT_SEPERATION)}this.transform(new b(m.WORLD_CENTER_X-P.x/2,m.WORLD_CENTER_Y-P.y/2))},L.radialLayout=function(C,A,S){var N=Math.max(this.maxDiagonalInTree(C),d.DEFAULT_RADIAL_SEPARATION);L.branchRadialLayout(A,null,0,359,0,N);var $=O.calculateBounds(C),B=new D;B.setDeviceOrgX($.getMinX()),B.setDeviceOrgY($.getMinY()),B.setWorldOrgX(S.x),B.setWorldOrgY(S.y);for(var P=0;P<C.length;P++){var k=C[P];k.transform(B)}var H=new b($.getMaxX(),$.getMaxY());return B.inverseTransformPoint(H)},L.branchRadialLayout=function(C,A,S,N,$,B){var P=(N-S+1)/2;P<0&&(P+=180);var k=(P+S)%360,H=k*T.TWO_PI/360,G=$*Math.cos(H),W=$*Math.sin(H);C.setCenter(G,W);var U=[];U=U.concat(C.getEdges());var X=U.length;A!=null&&X--;for(var ee=0,te=U.length,V,Y=C.getEdgesBetween(A);Y.length>1;){var F=Y[0];Y.splice(0,1);var j=U.indexOf(F);j>=0&&U.splice(j,1),te--,X--}A!=null?V=(U.indexOf(Y[0])+1)%te:V=0;for(var J=Math.abs(N-S)/X,de=V;ee!=X;de=++de%te){var re=U[de].getOtherEnd(C);if(re!=A){var ve=(S+ee*J)%360,z=(ve+J)%360;L.branchRadialLayout(re,C,ve,z,$+B,B),ee++}}},L.maxDiagonalInTree=function(C){for(var A=_.MIN_VALUE,S=0;S<C.length;S++){var N=C[S],$=N.getDiagonal();$>A&&(A=$)}return A},L.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},L.prototype.groupZeroDegreeMembers=function(){var C=this,A={};this.memberGroups={},this.idToDummyNode={};for(var S=[],N=this.graphManager.getAllNodes(),$=0;$<N.length;$++){var B=N[$],P=B.getParent();this.getNodeDegreeWithChildren(B)===0&&(P.id==null||!this.getToBeTiled(P))&&S.push(B)}for(var $=0;$<S.length;$++){var B=S[$],k=B.getParent().id;typeof A[k]=="undefined"&&(A[k]=[]),A[k]=A[k].concat(B)}Object.keys(A).forEach(function(H){if(A[H].length>1){var G="DummyCompound_"+H;C.memberGroups[G]=A[H];var W=A[H][0].getParent(),U=new c(C.graphManager);U.id=G,U.paddingLeft=W.paddingLeft||0,U.paddingRight=W.paddingRight||0,U.paddingBottom=W.paddingBottom||0,U.paddingTop=W.paddingTop||0,C.idToDummyNode[G]=U;var X=C.getGraphManager().add(C.newGraph(),U),ee=W.getChild();ee.add(U);for(var te=0;te<A[H].length;te++){var V=A[H][te];ee.remove(V),X.add(V)}}})},L.prototype.clearCompounds=function(){var C={},A={};this.performDFSOnCompounds();for(var S=0;S<this.compoundOrder.length;S++)A[this.compoundOrder[S].id]=this.compoundOrder[S],C[this.compoundOrder[S].id]=[].concat(this.compoundOrder[S].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[S].getChild()),this.compoundOrder[S].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(C,A)},L.prototype.clearZeroDegreeMembers=function(){var C=this,A=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(S){var N=C.idToDummyNode[S];if(A[S]=C.tileNodes(C.memberGroups[S],N.paddingLeft+N.paddingRight),N.rect.width=A[S].width,N.rect.height=A[S].height,N.setCenter(A[S].centerX,A[S].centerY),N.labelMarginLeft=0,N.labelMarginTop=0,d.NODE_DIMENSIONS_INCLUDE_LABELS){var $=N.rect.width,B=N.rect.height;N.labelWidth&&(N.labelPosHorizontal=="left"?(N.rect.x-=N.labelWidth,N.setWidth($+N.labelWidth),N.labelMarginLeft=N.labelWidth):N.labelPosHorizontal=="center"&&N.labelWidth>$?(N.rect.x-=(N.labelWidth-$)/2,N.setWidth(N.labelWidth),N.labelMarginLeft=(N.labelWidth-$)/2):N.labelPosHorizontal=="right"&&N.setWidth($+N.labelWidth)),N.labelHeight&&(N.labelPosVertical=="top"?(N.rect.y-=N.labelHeight,N.setHeight(B+N.labelHeight),N.labelMarginTop=N.labelHeight):N.labelPosVertical=="center"&&N.labelHeight>B?(N.rect.y-=(N.labelHeight-B)/2,N.setHeight(N.labelHeight),N.labelMarginTop=(N.labelHeight-B)/2):N.labelPosVertical=="bottom"&&N.setHeight(B+N.labelHeight))}})},L.prototype.repopulateCompounds=function(){for(var C=this.compoundOrder.length-1;C>=0;C--){var A=this.compoundOrder[C],S=A.id,N=A.paddingLeft,$=A.paddingTop,B=A.labelMarginLeft,P=A.labelMarginTop;this.adjustLocations(this.tiledMemberPack[S],A.rect.x,A.rect.y,N,$,B,P)}},L.prototype.repopulateZeroDegreeMembers=function(){var C=this,A=this.tiledZeroDegreePack;Object.keys(A).forEach(function(S){var N=C.idToDummyNode[S],$=N.paddingLeft,B=N.paddingTop,P=N.labelMarginLeft,k=N.labelMarginTop;C.adjustLocations(A[S],N.rect.x,N.rect.y,$,B,P,k)})},L.prototype.getToBeTiled=function(C){var A=C.id;if(this.toBeTiled[A]!=null)return this.toBeTiled[A];var S=C.getChild();if(S==null)return this.toBeTiled[A]=!1,!1;for(var N=S.getNodes(),$=0;$<N.length;$++){var B=N[$];if(this.getNodeDegree(B)>0)return this.toBeTiled[A]=!1,!1;if(B.getChild()==null){this.toBeTiled[B.id]=!1;continue}if(!this.getToBeTiled(B))return this.toBeTiled[A]=!1,!1}return this.toBeTiled[A]=!0,!0},L.prototype.getNodeDegree=function(C){C.id;for(var A=C.getEdges(),S=0,N=0;N<A.length;N++){var $=A[N];$.getSource().id!==$.getTarget().id&&(S=S+1)}return S},L.prototype.getNodeDegreeWithChildren=function(C){var A=this.getNodeDegree(C);if(C.getChild()==null)return A;for(var S=C.getChild().getNodes(),N=0;N<S.length;N++){var $=S[N];A+=this.getNodeDegreeWithChildren($)}return A},L.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},L.prototype.fillCompexOrderByDFS=function(C){for(var A=0;A<C.length;A++){var S=C[A];S.getChild()!=null&&this.fillCompexOrderByDFS(S.getChild().getNodes()),this.getToBeTiled(S)&&this.compoundOrder.push(S)}},L.prototype.adjustLocations=function(C,A,S,N,$,B,P){A+=N+B,S+=$+P;for(var k=A,H=0;H<C.rows.length;H++){var G=C.rows[H];A=k;for(var W=0,U=0;U<G.length;U++){var X=G[U];X.rect.x=A,X.rect.y=S,A+=X.rect.width+C.horizontalPadding,X.rect.height>W&&(W=X.rect.height)}S+=W+C.verticalPadding}},L.prototype.tileCompoundMembers=function(C,A){var S=this;this.tiledMemberPack=[],Object.keys(C).forEach(function(N){var $=A[N];if(S.tiledMemberPack[N]=S.tileNodes(C[N],$.paddingLeft+$.paddingRight),$.rect.width=S.tiledMemberPack[N].width,$.rect.height=S.tiledMemberPack[N].height,$.setCenter(S.tiledMemberPack[N].centerX,S.tiledMemberPack[N].centerY),$.labelMarginLeft=0,$.labelMarginTop=0,d.NODE_DIMENSIONS_INCLUDE_LABELS){var B=$.rect.width,P=$.rect.height;$.labelWidth&&($.labelPosHorizontal=="left"?($.rect.x-=$.labelWidth,$.setWidth(B+$.labelWidth),$.labelMarginLeft=$.labelWidth):$.labelPosHorizontal=="center"&&$.labelWidth>B?($.rect.x-=($.labelWidth-B)/2,$.setWidth($.labelWidth),$.labelMarginLeft=($.labelWidth-B)/2):$.labelPosHorizontal=="right"&&$.setWidth(B+$.labelWidth)),$.labelHeight&&($.labelPosVertical=="top"?($.rect.y-=$.labelHeight,$.setHeight(P+$.labelHeight),$.labelMarginTop=$.labelHeight):$.labelPosVertical=="center"&&$.labelHeight>P?($.rect.y-=($.labelHeight-P)/2,$.setHeight($.labelHeight),$.labelMarginTop=($.labelHeight-P)/2):$.labelPosVertical=="bottom"&&$.setHeight(P+$.labelHeight))}})},L.prototype.tileNodes=function(C,A){var S=d.TILING_PADDING_VERTICAL,N=d.TILING_PADDING_HORIZONTAL,$={rows:[],rowWidth:[],rowHeight:[],width:0,height:A,verticalPadding:S,horizontalPadding:N,centerX:0,centerY:0};C.sort(function(G,W){return G.rect.width*G.rect.height>W.rect.width*W.rect.height?-1:G.rect.width*G.rect.height<W.rect.width*W.rect.height?1:0});for(var B=0,P=0,k=0;k<C.length;k++){var H=C[k];B+=H.getCenterX(),P+=H.getCenterY()}$.centerX=B/C.length,$.centerY=P/C.length;for(var k=0;k<C.length;k++){var H=C[k];$.rows.length==0?this.insertNodeToRow($,H,0,A):this.canAddHorizontal($,H.rect.width,H.rect.height)?this.insertNodeToRow($,H,this.getShortestRowIndex($),A):this.insertNodeToRow($,H,$.rows.length,A),this.shiftToLastRow($)}return $},L.prototype.insertNodeToRow=function(C,A,S,N){var $=N;if(S==C.rows.length){var B=[];C.rows.push(B),C.rowWidth.push($),C.rowHeight.push(0)}var P=C.rowWidth[S]+A.rect.width;C.rows[S].length>0&&(P+=C.horizontalPadding),C.rowWidth[S]=P,C.width<P&&(C.width=P);var k=A.rect.height;S>0&&(k+=C.verticalPadding);var H=0;k>C.rowHeight[S]&&(H=C.rowHeight[S],C.rowHeight[S]=k,H=C.rowHeight[S]-H),C.height+=H,C.rows[S].push(A)},L.prototype.getShortestRowIndex=function(C){for(var A=-1,S=Number.MAX_VALUE,N=0;N<C.rows.length;N++)C.rowWidth[N]<S&&(A=N,S=C.rowWidth[N]);return A},L.prototype.getLongestRowIndex=function(C){for(var A=-1,S=Number.MIN_VALUE,N=0;N<C.rows.length;N++)C.rowWidth[N]>S&&(A=N,S=C.rowWidth[N]);return A},L.prototype.canAddHorizontal=function(C,A,S){var N=this.getShortestRowIndex(C);if(N<0)return!0;var $=C.rowWidth[N];if($+C.horizontalPadding+A<=C.width)return!0;var B=0;C.rowHeight[N]<S&&N>0&&(B=S+C.verticalPadding-C.rowHeight[N]);var P;C.width-$>=A+C.horizontalPadding?P=(C.height+B)/($+A+C.horizontalPadding):P=(C.height+B)/C.width,B=S+C.verticalPadding;var k;return C.width<A?k=(C.height+B)/A:k=(C.height+B)/C.width,k<1&&(k=1/k),P<1&&(P=1/P),P<k},L.prototype.shiftToLastRow=function(C){var A=this.getLongestRowIndex(C),S=C.rowWidth.length-1,N=C.rows[A],$=N[N.length-1],B=$.width+C.horizontalPadding;if(C.width-C.rowWidth[S]>B&&A!=S){N.splice(-1,1),C.rows[S].push($),C.rowWidth[A]=C.rowWidth[A]-B,C.rowWidth[S]=C.rowWidth[S]+B,C.width=C.rowWidth[instance.getLongestRowIndex(C)];for(var P=Number.MIN_VALUE,k=0;k<N.length;k++)N[k].height>P&&(P=N[k].height);A>0&&(P+=C.verticalPadding);var H=C.rowHeight[A]+C.rowHeight[S];C.rowHeight[A]=P,C.rowHeight[S]<$.height+C.verticalPadding&&(C.rowHeight[S]=$.height+C.verticalPadding);var G=C.rowHeight[A]+C.rowHeight[S];C.height+=G-H,this.shiftToLastRow(C)}},L.prototype.tilingPreLayout=function(){d.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},L.prototype.tilingPostLayout=function(){d.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},L.prototype.reduceTrees=function(){for(var C=[],A=!0,S;A;){var N=this.graphManager.getAllNodes(),$=[];A=!1;for(var B=0;B<N.length;B++)if(S=N[B],S.getEdges().length==1&&!S.getEdges()[0].isInterGraph&&S.getChild()==null){if(d.PURE_INCREMENTAL){var P=S.getEdges()[0].getOtherEnd(S),k=new E(S.getCenterX()-P.getCenterX(),S.getCenterY()-P.getCenterY());$.push([S,S.getEdges()[0],S.getOwner(),k])}else $.push([S,S.getEdges()[0],S.getOwner()]);A=!0}if(A==!0){for(var H=[],G=0;G<$.length;G++)$[G][0].getEdges().length==1&&(H.push($[G]),$[G][0].getOwner().remove($[G][0]));C.push(H),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=C},L.prototype.growTree=function(C){for(var A=C.length,S=C[A-1],N,$=0;$<S.length;$++)N=S[$],this.findPlaceforPrunedNode(N),N[2].add(N[0]),N[2].add(N[1],N[1].source,N[1].target);C.splice(C.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},L.prototype.findPlaceforPrunedNode=function(C){var A,S,N=C[0];if(N==C[1].source?S=C[1].target:S=C[1].source,d.PURE_INCREMENTAL)N.setCenter(S.getCenterX()+C[3].getWidth(),S.getCenterY()+C[3].getHeight());else{var $=S.startX,B=S.finishX,P=S.startY,k=S.finishY,H=0,G=0,W=0,U=0,X=[H,W,G,U];if(P>0)for(var ee=$;ee<=B;ee++)X[0]+=this.grid[ee][P-1].length+this.grid[ee][P].length-1;if(B<this.grid.length-1)for(var ee=P;ee<=k;ee++)X[1]+=this.grid[B+1][ee].length+this.grid[B][ee].length-1;if(k<this.grid[0].length-1)for(var ee=$;ee<=B;ee++)X[2]+=this.grid[ee][k+1].length+this.grid[ee][k].length-1;if($>0)for(var ee=P;ee<=k;ee++)X[3]+=this.grid[$-1][ee].length+this.grid[$][ee].length-1;for(var te=_.MAX_VALUE,V,Y,F=0;F<X.length;F++)X[F]<te?(te=X[F],V=1,Y=F):X[F]==te&&V++;if(V==3&&te==0)X[0]==0&&X[1]==0&&X[2]==0?A=1:X[0]==0&&X[1]==0&&X[3]==0?A=0:X[0]==0&&X[2]==0&&X[3]==0?A=3:X[1]==0&&X[2]==0&&X[3]==0&&(A=2);else if(V==2&&te==0){var j=Math.floor(Math.random()*2);X[0]==0&&X[1]==0?j==0?A=0:A=1:X[0]==0&&X[2]==0?j==0?A=0:A=2:X[0]==0&&X[3]==0?j==0?A=0:A=3:X[1]==0&&X[2]==0?j==0?A=1:A=2:X[1]==0&&X[3]==0?j==0?A=1:A=3:j==0?A=2:A=3}else if(V==4&&te==0){var j=Math.floor(Math.random()*4);A=j}else A=Y;A==0?N.setCenter(S.getCenterX(),S.getCenterY()-S.getHeight()/2-v.DEFAULT_EDGE_LENGTH-N.getHeight()/2):A==1?N.setCenter(S.getCenterX()+S.getWidth()/2+v.DEFAULT_EDGE_LENGTH+N.getWidth()/2,S.getCenterY()):A==2?N.setCenter(S.getCenterX(),S.getCenterY()+S.getHeight()/2+v.DEFAULT_EDGE_LENGTH+N.getHeight()/2):N.setCenter(S.getCenterX()-S.getWidth()/2-v.DEFAULT_EDGE_LENGTH-N.getWidth()/2,S.getCenterY())}},n.exports=L},function(n,a,o){var s={};s.layoutBase=o(0),s.CoSEConstants=o(1),s.CoSEEdge=o(2),s.CoSEGraph=o(3),s.CoSEGraphManager=o(4),s.CoSELayout=o(7),s.CoSENode=o(5),s.ConstraintHandler=o(6),n.exports=s}])})})(coseBase);(function(t,e){(function(n,a){t.exports=a(coseBase.exports)})(self,function(r){return(()=>{var n={658:l=>{l.exports=Object.assign!=null?Object.assign.bind(Object):function(u){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return f.forEach(function(g){Object.keys(g).forEach(function(v){return u[v]=g[v]})}),u}},548:(l,u,c)=>{var f=c(281).layoutBase.LinkedList,d={};d.getTopMostNodes=function(g){for(var v={},m=0;m<g.length;m++)v[g[m].id()]=!0;var y=g.filter(function(b,E){typeof b=="number"&&(b=E);for(var w=b.parent()[0];w!=null;){if(v[w.id()])return!1;w=w.parent()[0]}return!0});return y},d.connectComponents=function(g,v,m,y){var b=new f,E=new Set,w=[],_=void 0,T=void 0,O=void 0,D=!1,x=1,L=[],R=[],C=function(){var S=g.collection();R.push(S);var N=m[0],$=g.collection();$.merge(N).merge(N.descendants().intersection(v)),w.push(N),$.forEach(function(k){b.push(k),E.add(k),S.merge(k)});for(var B=function(){N=b.shift();var H=g.collection();N.neighborhood().nodes().forEach(function(X){v.intersection(N.edgesWith(X)).length>0&&H.merge(X)});for(var G=0;G<H.length;G++){var W=H[G];if(_=m.intersection(W.union(W.ancestors())),_!=null&&!E.has(_[0])){var U=_.union(_.descendants());U.forEach(function(X){b.push(X),E.add(X),S.merge(X),m.has(X)&&w.push(X)})}}};b.length!=0;)B();if(S.forEach(function(k){v.intersection(k.connectedEdges()).forEach(function(H){S.has(H.source())&&S.has(H.target())&&S.merge(H)})}),w.length==m.length&&(D=!0),!D||D&&x>1){T=w[0],O=T.connectedEdges().length,w.forEach(function(k){k.connectedEdges().length<O&&(O=k.connectedEdges().length,T=k)}),L.push(T.id());var P=g.collection();P.merge(w[0]),w.forEach(function(k){P.merge(k)}),w=[],m=m.difference(P),x++}};do C();while(!D);return y&&L.length>0&&y.set("dummy"+(y.size+1),L),R},d.calcBoundingBox=function(g,v,m,y){for(var b=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,w=Number.MAX_SAFE_INTEGER,_=Number.MIN_SAFE_INTEGER,T=void 0,O=void 0,D=void 0,x=void 0,L=g.descendants().not(":parent"),R=L.length,C=0;C<R;C++){var A=L[C];T=v[y.get(A.id())]-A.width()/2,O=v[y.get(A.id())]+A.width()/2,D=m[y.get(A.id())]-A.height()/2,x=m[y.get(A.id())]+A.height()/2,b>T&&(b=T),E<O&&(E=O),w>D&&(w=D),_<x&&(_=x)}var S={};return S.topLeftX=b,S.topLeftY=w,S.width=E-b,S.height=_-w,S},l.exports=d},816:(l,u,c)=>{var f=c(548),d=c(281).CoSELayout,g=c(281).CoSENode,v=c(281).layoutBase.PointD,m=c(281).layoutBase.DimensionD,y=c(281).layoutBase.LayoutConstants,b=c(281).layoutBase.FDLayoutConstants,E=c(281).CoSEConstants,w=function(T,O){var D=T.eles,x=D.nodes(),L=D.edges(),R=void 0,C=void 0,A=void 0,S={};T.randomize&&(R=O.nodeIndexes,C=O.xCoords,A=O.yCoords);var N=function(U){return typeof U=="function"},$=function(U,X){return N(U)?U(X):U},B=function W(U,X,ee,te){for(var V=X.length,Y=0;Y<V;Y++){var F=X[Y],j=F.children(),J=void 0,de=F.layoutDimensions({nodeDimensionsIncludeLabels:te.nodeDimensionsIncludeLabels});if(F.outerWidth()!=null&&F.outerHeight()!=null)if(te.randomize)if(!F.isParent())J=U.add(new g(ee.graphManager,new v(C[R.get(F.id())]-de.w/2,A[R.get(F.id())]-de.h/2),new m(parseFloat(de.w),parseFloat(de.h))));else{var re=f.calcBoundingBox(F,C,A,R);J=U.add(new g(ee.graphManager,new v(re.topLeftX,re.topLeftY),new m(re.width,re.height)))}else J=U.add(new g(ee.graphManager,new v(F.position("x")-de.w/2,F.position("y")-de.h/2),new m(parseFloat(de.w),parseFloat(de.h))));else J=U.add(new g(this.graphManager));if(J.id=F.data("id"),J.nodeRepulsion=$(te.nodeRepulsion,F),J.paddingLeft=parseInt(F.css("padding")),J.paddingTop=parseInt(F.css("padding")),J.paddingRight=parseInt(F.css("padding")),J.paddingBottom=parseInt(F.css("padding")),te.nodeDimensionsIncludeLabels&&(J.labelWidth=F.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,J.labelHeight=F.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,J.labelPosVertical=F.css("text-valign"),J.labelPosHorizontal=F.css("text-halign")),S[F.data("id")]=J,isNaN(J.rect.x)&&(J.rect.x=0),isNaN(J.rect.y)&&(J.rect.y=0),j!=null&&j.length>0){var ve=void 0;ve=ee.getGraphManager().add(ee.newGraph(),J),W(ve,j,ee,te)}}},P=function(U,X,ee){for(var te=0,V=0,Y=0;Y<ee.length;Y++){var F=ee[Y],j=S[F.data("source")],J=S[F.data("target")];if(j!==J&&j.getEdgesBetween(J).length==0){var de=X.add(U.newEdge(),j,J);de.id=F.id(),de.idealLength=$(T.idealEdgeLength,F),de.edgeElasticity=$(T.edgeElasticity,F),te+=de.idealLength,V++}}T.idealEdgeLength!=null&&(V>0?E.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=te/V:N(T.idealEdgeLength)?E.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=50:E.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=T.idealEdgeLength,E.MIN_REPULSION_DIST=b.MIN_REPULSION_DIST=b.DEFAULT_EDGE_LENGTH/10,E.DEFAULT_RADIAL_SEPARATION=b.DEFAULT_EDGE_LENGTH)},k=function(U,X){X.fixedNodeConstraint&&(U.constraints.fixedNodeConstraint=X.fixedNodeConstraint),X.alignmentConstraint&&(U.constraints.alignmentConstraint=X.alignmentConstraint),X.relativePlacementConstraint&&(U.constraints.relativePlacementConstraint=X.relativePlacementConstraint)};T.nestingFactor!=null&&(E.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=b.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=T.nestingFactor),T.gravity!=null&&(E.DEFAULT_GRAVITY_STRENGTH=b.DEFAULT_GRAVITY_STRENGTH=T.gravity),T.numIter!=null&&(E.MAX_ITERATIONS=b.MAX_ITERATIONS=T.numIter),T.gravityRange!=null&&(E.DEFAULT_GRAVITY_RANGE_FACTOR=b.DEFAULT_GRAVITY_RANGE_FACTOR=T.gravityRange),T.gravityCompound!=null&&(E.DEFAULT_COMPOUND_GRAVITY_STRENGTH=b.DEFAULT_COMPOUND_GRAVITY_STRENGTH=T.gravityCompound),T.gravityRangeCompound!=null&&(E.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=b.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=T.gravityRangeCompound),T.initialEnergyOnIncremental!=null&&(E.DEFAULT_COOLING_FACTOR_INCREMENTAL=b.DEFAULT_COOLING_FACTOR_INCREMENTAL=T.initialEnergyOnIncremental),T.quality=="proof"?y.QUALITY=2:y.QUALITY=0,E.NODE_DIMENSIONS_INCLUDE_LABELS=b.NODE_DIMENSIONS_INCLUDE_LABELS=y.NODE_DIMENSIONS_INCLUDE_LABELS=T.nodeDimensionsIncludeLabels,E.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=!T.randomize,E.ANIMATE=b.ANIMATE=y.ANIMATE=T.animate,E.TILE=T.tile,E.TILING_PADDING_VERTICAL=typeof T.tilingPaddingVertical=="function"?T.tilingPaddingVertical.call():T.tilingPaddingVertical,E.TILING_PADDING_HORIZONTAL=typeof T.tilingPaddingHorizontal=="function"?T.tilingPaddingHorizontal.call():T.tilingPaddingHorizontal,E.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=!0,E.PURE_INCREMENTAL=!T.randomize,y.DEFAULT_UNIFORM_LEAF_NODE_SIZES=T.uniformNodeDimensions,T.step=="transformed"&&(E.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,E.ENFORCE_CONSTRAINTS=!1,E.APPLY_LAYOUT=!1),T.step=="enforced"&&(E.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,E.ENFORCE_CONSTRAINTS=!0,E.APPLY_LAYOUT=!1),T.step=="cose"&&(E.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,E.ENFORCE_CONSTRAINTS=!1,E.APPLY_LAYOUT=!0),T.step=="all"&&(T.randomize?E.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:E.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,E.ENFORCE_CONSTRAINTS=!0,E.APPLY_LAYOUT=!0),T.fixedNodeConstraint||T.alignmentConstraint||T.relativePlacementConstraint?E.TREE_REDUCTION_ON_INCREMENTAL=!1:E.TREE_REDUCTION_ON_INCREMENTAL=!0;var H=new d,G=H.newGraphManager();return B(G.addRoot(),f.getTopMostNodes(x),H,T),P(H,G,L),k(H,T),H.runLayout(),S};l.exports={coseLayout:w}},212:(l,u,c)=>{var f=function(){function T(O,D){for(var x=0;x<D.length;x++){var L=D[x];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(O,L.key,L)}}return function(O,D,x){return D&&T(O.prototype,D),x&&T(O,x),O}}();function d(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}var g=c(658),v=c(548),m=c(657),y=m.spectralLayout,b=c(816),E=b.coseLayout,w=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(O){return 4500},idealEdgeLength:function(O){return 50},edgeElasticity:function(O){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),_=function(){function T(O){d(this,T),this.options=g({},w,O)}return f(T,[{key:"run",value:function(){var D=this,x=this.options,L=x.cy,R=x.eles,C=[],A=[],S=void 0;x.fixedNodeConstraint&&(!Array.isArray(x.fixedNodeConstraint)||x.fixedNodeConstraint.length==0)&&(x.fixedNodeConstraint=void 0),x.alignmentConstraint&&(x.alignmentConstraint.vertical&&(!Array.isArray(x.alignmentConstraint.vertical)||x.alignmentConstraint.vertical.length==0)&&(x.alignmentConstraint.vertical=void 0),x.alignmentConstraint.horizontal&&(!Array.isArray(x.alignmentConstraint.horizontal)||x.alignmentConstraint.horizontal.length==0)&&(x.alignmentConstraint.horizontal=void 0)),x.relativePlacementConstraint&&(!Array.isArray(x.relativePlacementConstraint)||x.relativePlacementConstraint.length==0)&&(x.relativePlacementConstraint=void 0);var N=x.fixedNodeConstraint||x.alignmentConstraint||x.relativePlacementConstraint;N&&(x.tile=!1,x.packComponents=!1);var $=void 0,B=!1;if(L.layoutUtilities&&x.packComponents&&($=L.layoutUtilities("get"),$||($=L.layoutUtilities()),B=!0),R.nodes().length>0){if(B){var k=v.getTopMostNodes(x.eles.nodes());if(S=v.connectComponents(L,x.eles,k),x.randomize&&S.forEach(function(ne){x.eles=ne,C.push(y(x))}),x.quality=="default"||x.quality=="proof"){var H=L.collection();if(x.tile){var G=new Map,W=[],U=[],X=0,ee={nodeIndexes:G,xCoords:W,yCoords:U},te=[];if(S.forEach(function(ne,ae){ne.edges().length==0&&(ne.nodes().forEach(function(pe,ue){H.merge(ne.nodes()[ue]),pe.isParent()||(ee.nodeIndexes.set(ne.nodes()[ue].id(),X++),ee.xCoords.push(ne.nodes()[0].position().x),ee.yCoords.push(ne.nodes()[0].position().y))}),te.push(ae))}),H.length>1){S.push(H),C.push(ee);for(var V=te.length-1;V>=0;V--)S.splice(te[V],1),C.splice(te[V],1)}}S.forEach(function(ne,ae){x.eles=ne,A.push(E(x,C[ae]))})}if(S.length>1){var Y=[];S.forEach(function(ne,ae){var pe=void 0;x.quality=="draft"&&(pe=C[ae].nodeIndexes);var ue={};ue.nodes=[],ue.edges=[];var se=void 0;ne.nodes().forEach(function(M){if(x.quality=="draft")if(!M.isParent())se=pe.get(M.id()),ue.nodes.push({x:C[ae].xCoords[se]-M.boundingbox().w/2,y:C[ae].yCoords[se]-M.boundingbox().h/2,width:M.boundingbox().w,height:M.boundingbox().h});else{var Z=v.calcBoundingBox(M,C[ae].xCoords,C[ae].yCoords,pe);ue.nodes.push({x:Z.topLeftX,y:Z.topLeftY,width:Z.width,height:Z.height})}else ue.nodes.push({x:A[ae][M.id()].getLeft(),y:A[ae][M.id()].getTop(),width:A[ae][M.id()].getWidth(),height:A[ae][M.id()].getHeight()})}),ne.edges().forEach(function(M){var Z=M.source(),fe=M.target();if(x.quality=="draft"){var he=pe.get(Z.id()),Q=pe.get(fe.id()),ge=[],le=[];if(Z.isParent()){var ye=v.calcBoundingBox(Z,C[ae].xCoords,C[ae].yCoords,pe);ge.push(ye.topLeftX+ye.width/2),ge.push(ye.topLeftY+ye.height/2)}else ge.push(C[ae].xCoords[he]),ge.push(C[ae].yCoords[he]);if(fe.isParent()){var Ee=v.calcBoundingBox(fe,C[ae].xCoords,C[ae].yCoords,pe);le.push(Ee.topLeftX+Ee.width/2),le.push(Ee.topLeftY+Ee.height/2)}else le.push(C[ae].xCoords[Q]),le.push(C[ae].yCoords[Q]);ue.edges.push({startX:ge[0],startY:ge[1],endX:le[0],endY:le[1]})}else ue.edges.push({startX:A[ae][Z.id()].getCenterX(),startY:A[ae][Z.id()].getCenterY(),endX:A[ae][fe.id()].getCenterX(),endY:A[ae][fe.id()].getCenterY()})}),Y.push(ue)});var F=$.packComponents(Y,x.randomize).shifts;x.quality=="draft"?C.forEach(function(ne,ae){var pe=ne.xCoords.map(function(se){return se+F[ae].dx}),ue=ne.yCoords.map(function(se){return se+F[ae].dy});ne.xCoords=pe,ne.yCoords=ue}):A.forEach(function(ne,ae){Object.keys(ne).forEach(function(pe){var ue=ne[pe];ue.setCenter(ue.getCenterX()+F[ae].dx,ue.getCenterY()+F[ae].dy)})})}}else{if(x.randomize){var P=y(x);C.push(P)}(x.quality=="default"||x.quality=="proof")&&A.push(E(x,C[0]))}if(x.randomize&&!x.fixedNodeConstraint){var j=Number.POSITIVE_INFINITY,J=Number.NEGATIVE_INFINITY,de=Number.POSITIVE_INFINITY,re=Number.NEGATIVE_INFINITY;if(x.quality=="draft"){C.forEach(function(ne){ne.xCoords.forEach(function(ae){ae<j&&(j=ae),ae>J&&(J=ae)}),ne.yCoords.forEach(function(ae){ae<de&&(de=ae),ae>re&&(re=ae)})});var ve=x.eles.boundingBox(),z=ve.x1+ve.w/2-(J+j)/2,I=ve.y1+ve.h/2-(re+de)/2;C.forEach(function(ne){ne.xCoords=ne.xCoords.map(function(ae){return ae+z}),ne.yCoords=ne.yCoords.map(function(ae){return ae+I})})}else{A.forEach(function(ne){Object.keys(ne).forEach(function(ae){var pe=ne[ae];pe.getCenterX()<j&&(j=pe.getCenterX()),pe.getCenterX()>J&&(J=pe.getCenterX()),pe.getCenterY()<de&&(de=pe.getCenterY()),pe.getCenterY()>re&&(re=pe.getCenterY())})});var q=x.eles.boundingBox(),ie=q.x1+q.w/2-(J+j)/2,oe=q.y1+q.h/2-(re+de)/2;A.forEach(function(ne,ae){Object.keys(ne).forEach(function(pe){var ue=ne[pe];ue.setCenter(ue.getCenterX()+ie,ue.getCenterY()+oe)})})}}}var ce=function(ae,pe){if(x.quality=="default"||x.quality=="proof"){typeof ae=="number"&&(ae=pe);var ue=void 0,se=void 0,M=ae.data("id");return A.forEach(function(fe){M in fe&&(ue={x:fe[M].getRect().getCenterX(),y:fe[M].getRect().getCenterY()},se=fe[M])}),x.nodeDimensionsIncludeLabels&&(se.labelWidth&&(se.labelPosHorizontal=="left"?ue.x+=se.labelWidth/2:se.labelPosHorizontal=="right"&&(ue.x-=se.labelWidth/2)),se.labelHeight&&(se.labelPosVertical=="top"?ue.y+=se.labelHeight/2:se.labelPosVertical=="bottom"&&(ue.y-=se.labelHeight/2))),{x:ue.x,y:ue.y}}else{var Z=void 0;return C.forEach(function(fe){var he=fe.nodeIndexes.get(ae.id());he!=null&&(Z={x:fe.xCoords[he],y:fe.yCoords[he]})}),Z==null&&(Z={x:ae.position("x"),y:ae.position("y")}),{x:Z.x,y:Z.y}}};x.quality=="default"||x.quality=="proof"||x.randomize?(x.eles=R,R.nodes().not(":parent").layoutPositions(D,x,ce)):console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),T}();l.exports=_},657:(l,u,c)=>{var f=c(548),d=c(281).layoutBase.Matrix,g=c(281).layoutBase.SVD,v=function(y){var b=y.cy,E=y.eles,w=E.nodes(),_=E.nodes(":parent"),T=new Map,O=new Map,D=new Map,x=[],L=[],R=[],C=[],A=[],S=[],N=[],$=[],B=void 0,P=1e8,k=1e-9,H=y.piTol,G=y.samplingType,W=y.nodeSeparation,U=void 0,X=function(){for(var be=0,_e=0,Te=!1;_e<U;){be=Math.floor(Math.random()*B),Te=!1;for(var me=0;me<_e;me++)if(C[me]==be){Te=!0;break}if(!Te)C[_e]=be,_e++;else continue}},ee=function(be,_e,Te){for(var me=[],we=0,$e=0,Oe=0,Le=void 0,Ne=[],Ce=0,Se=1,De=0;De<B;De++)Ne[De]=P;for(me[$e]=be,Ne[be]=0;$e>=we;){Oe=me[we++];for(var Ae=x[Oe],xe=0;xe<Ae.length;xe++)Le=O.get(Ae[xe]),Ne[Le]==P&&(Ne[Le]=Ne[Oe]+1,me[++$e]=Le);S[Oe][_e]=Ne[Oe]*W}if(Te){for(var Be=0;Be<B;Be++)S[Be][_e]<A[Be]&&(A[Be]=S[Be][_e]);for(var Me=0;Me<B;Me++)A[Me]>Ce&&(Ce=A[Me],Se=Me)}return Se},te=function(be){var _e=void 0;if(be){_e=Math.floor(Math.random()*B);for(var me=0;me<B;me++)A[me]=P;for(var we=0;we<U;we++)C[we]=_e,_e=ee(_e,we,be)}else{X();for(var Te=0;Te<U;Te++)ee(C[Te],Te,be)}for(var $e=0;$e<B;$e++)for(var Oe=0;Oe<U;Oe++)S[$e][Oe]*=S[$e][Oe];for(var Le=0;Le<U;Le++)N[Le]=[];for(var Ne=0;Ne<U;Ne++)for(var Ce=0;Ce<U;Ce++)N[Ne][Ce]=S[C[Ce]][Ne]},V=function(){for(var be=g.svd(N),_e=be.S,Te=be.U,me=be.V,we=_e[0]*_e[0]*_e[0],$e=[],Oe=0;Oe<U;Oe++){$e[Oe]=[];for(var Le=0;Le<U;Le++)$e[Oe][Le]=0,Oe==Le&&($e[Oe][Le]=_e[Oe]/(_e[Oe]*_e[Oe]+we/(_e[Oe]*_e[Oe])))}$=d.multMat(d.multMat(me,$e),d.transpose(Te))},Y=function(){for(var be=void 0,_e=void 0,Te=[],me=[],we=[],$e=[],Oe=0;Oe<B;Oe++)Te[Oe]=Math.random(),me[Oe]=Math.random();Te=d.normalize(Te),me=d.normalize(me);for(var Le=k,Ne=k,Ce=void 0;;){for(var Se=0;Se<B;Se++)we[Se]=Te[Se];if(Te=d.multGamma(d.multL(d.multGamma(we),S,$)),be=d.dotProduct(we,Te),Te=d.normalize(Te),Le=d.dotProduct(we,Te),Ce=Math.abs(Le/Ne),Ce<=1+H&&Ce>=1)break;Ne=Le}for(var De=0;De<B;De++)we[De]=Te[De];for(Ne=k;;){for(var Ae=0;Ae<B;Ae++)$e[Ae]=me[Ae];if($e=d.minusOp($e,d.multCons(we,d.dotProduct(we,$e))),me=d.multGamma(d.multL(d.multGamma($e),S,$)),_e=d.dotProduct($e,me),me=d.normalize(me),Le=d.dotProduct($e,me),Ce=Math.abs(Le/Ne),Ce<=1+H&&Ce>=1)break;Ne=Le}for(var xe=0;xe<B;xe++)$e[xe]=me[xe];L=d.multCons(we,Math.sqrt(Math.abs(be))),R=d.multCons($e,Math.sqrt(Math.abs(_e)))};f.connectComponents(b,E,f.getTopMostNodes(w),T),_.forEach(function(Ee){f.connectComponents(b,E,f.getTopMostNodes(Ee.descendants().intersection(E)),T)});for(var F=0,j=0;j<w.length;j++)w[j].isParent()||O.set(w[j].id(),F++);var J=!0,de=!1,re=void 0;try{for(var ve=T.keys()[Symbol.iterator](),z;!(J=(z=ve.next()).done);J=!0){var I=z.value;O.set(I,F++)}}catch(Ee){de=!0,re=Ee}finally{try{!J&&ve.return&&ve.return()}finally{if(de)throw re}}for(var q=0;q<O.size;q++)x[q]=[];_.forEach(function(Ee){for(var be=Ee.children().intersection(E);be.nodes(":childless").length==0;)be=be.nodes()[0].children().intersection(E);var _e=0,Te=be.nodes(":childless")[0].connectedEdges().length;be.nodes(":childless").forEach(function(me,we){me.connectedEdges().length<Te&&(Te=me.connectedEdges().length,_e=we)}),D.set(Ee.id(),be.nodes(":childless")[_e].id())}),w.forEach(function(Ee){var be=void 0;Ee.isParent()?be=O.get(D.get(Ee.id())):be=O.get(Ee.id()),Ee.neighborhood().nodes().forEach(function(_e){E.intersection(Ee.edgesWith(_e)).length>0&&(_e.isParent()?x[be].push(D.get(_e.id())):x[be].push(_e.id()))})});var ie=function(be){var _e=O.get(be),Te=void 0;T.get(be).forEach(function(me){b.getElementById(me).isParent()?Te=D.get(me):Te=me,x[_e].push(Te),x[O.get(Te)].push(be)})},oe=!0,ce=!1,ne=void 0;try{for(var ae=T.keys()[Symbol.iterator](),pe;!(oe=(pe=ae.next()).done);oe=!0){var ue=pe.value;ie(ue)}}catch(Ee){ce=!0,ne=Ee}finally{try{!oe&&ae.return&&ae.return()}finally{if(ce)throw ne}}B=O.size;var se=void 0;if(B>2){U=B<y.sampleSize?B:y.sampleSize;for(var M=0;M<B;M++)S[M]=[];for(var Z=0;Z<U;Z++)$[Z]=[];return y.quality=="draft"||y.step=="all"?(te(G),V(),Y(),se={nodeIndexes:O,xCoords:L,yCoords:R}):(O.forEach(function(Ee,be){L.push(b.getElementById(be).position("x")),R.push(b.getElementById(be).position("y"))}),se={nodeIndexes:O,xCoords:L,yCoords:R}),se}else{var fe=O.keys(),he=b.getElementById(fe.next().value),Q=he.position(),ge=he.outerWidth();if(L.push(Q.x),R.push(Q.y),B==2){var le=b.getElementById(fe.next().value),ye=le.outerWidth();L.push(Q.x+ge/2+ye/2+y.idealEdgeLength),R.push(Q.y)}return se={nodeIndexes:O,xCoords:L,yCoords:R},se}};l.exports={spectralLayout:v}},579:(l,u,c)=>{var f=c(212),d=function(v){!v||v("layout","fcose",f)};typeof cytoscape!="undefined"&&d(cytoscape),l.exports=d},281:l=>{l.exports=r}},a={};function o(l){var u=a[l];if(u!==void 0)return u.exports;var c=a[l]={exports:{}};return n[l](c,c.exports,o),c.exports}var s=o(579);return s})()})})(cytoscapeFcose);var fcose=cytoscapeFcose.exports,NodeAttributes_vue_vue_type_style_index_0_lang="";const _hoisted_1$f={class:"container",style:{"margin-bottom":"40px"}},_hoisted_2$e=["onClick"],_hoisted_3$d=["onClick"],_hoisted_4$e=["title","href"],_hoisted_5$c={key:1},_hoisted_6$c={key:2},_hoisted_7$6={class:"container",style:{"margin-top":"20px"}},_hoisted_8$6=["href"],_hoisted_9$6={key:3},_hoisted_10$6={key:0,class:"container",style:{"margin-top":"20px"}},_hoisted_11$6={class:"table"},_hoisted_12$6=createBaseVNode("th",{scope:"row"},"Path",-1),_hoisted_13$6=createBaseVNode("th",{scope:"row"},"Status",-1),_hoisted_14$6=createBaseVNode("th",{scope:"row"},"RestartCount",-1),_hoisted_15$5=createBaseVNode("th",{scope:"row"},"StartedAt",-1),_sfc_main$g={props:{editing:!1,attributes:{}},emits:["reLoadData"],setup(t,{emit:e}){const r=t,n=useRoute();ref(!1);var a=reactive({node:[],attributes:[],commits:[],inspect:{},_group:"",_access:"",current_field:{key:"",value:""}});const o=["label","@rid","@type","parent","id","group"];watch(()=>r.attributes,async(d,g)=>{d&&(f(),await c())}),onMounted(async()=>{n.query.node&&f(),await c()});function s(d){a.current_field.key==d.key?a.current_field.key="":(a.current_field.key=d.key,a.current_field.value=d.value)}async function l(){await web.setNodeAttribute(store.current().data.id,a.current_field),a.current_field.key="",e("reLoadData",n.query.node)}async function u(){a.commits=await web.getGitlabCommits(a.node[0].id)}async function c(){a.node.length&&a.node[0]["@type"]=="Container"&&(a.inspect=await web.getDockerContainerInspect(a.node[0].id))}function f(){if(a.commits=[],a.inspect={},a.logs=[],a.attributes=[],r.attributes){for(var d in r.attributes)o.includes(d)||a.attributes.push({key:d,value:r.attributes[d]}),d=="_group"&&(a._group=r.attributes[d]),d=="_access"&&(a._access=r.attributes[d]);Object.keys(r.attributes).includes("description")||a.attributes.push({key:"description",value:""})}}return(d,g)=>(openBlock(),createElementBlock("div",_hoisted_1$f,[r.editing?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(unref(a).attributes,v=>(openBlock(),createElementBlock("div",{class:"attr-header",key:v.key},[v.key.startsWith("_")?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",null,[createBaseVNode("i",{onClick:m=>s(v),class:"bi-pen pointer float-end",style:{color:"blue"}},null,8,_hoisted_2$e)]),createBaseVNode("label",null,[createBaseVNode("b",null,toDisplayString(v.key),1)]),createBaseVNode("div",null,toDisplayString(v.value),1),unref(a).current_field.key==v.key?(openBlock(),createElementBlock(Fragment,{key:0},[["description","query"].includes(unref(a).current_field.key)?withDirectives((openBlock(),createElementBlock("textarea",{key:0,"onUpdate:modelValue":g[0]||(g[0]=m=>unref(a).current_field.value=m),class:"form-control",id:"editorInput",rows:"3"},null,512)),[[vModelText,unref(a).current_field.value]]):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":g[1]||(g[1]=m=>unref(a).current_field.value=m)},null,512)),[[vModelText,unref(a).current_field.value]]),createBaseVNode("button",{onClick:m=>s(v),class:"btn btn-secondary"},"cancel",8,_hoisted_3$d),createBaseVNode("button",{onClick:g[2]||(g[2]=m=>l()),class:"btn btn-primary"},"save")],64)):createCommentVNode("",!0)],64))]))),128)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(unref(a).attributes,v=>(openBlock(),createElementBlock("div",{class:"attribute",key:v.key},[!v.key.startsWith("_")&&v.value!=""?(openBlock(),createElementBlock(Fragment,{key:0},[v.key.toLowerCase().includes("url")?(openBlock(),createElementBlock("a",{key:0,title:v.key,href:v.value,target:"_BLANK"},toDisplayString(v.value),9,_hoisted_4$e)):(openBlock(),createElementBlock("div",_hoisted_5$c,[createBaseVNode("div",null,[createBaseVNode("i",null,toDisplayString(v.key),1)]),createBaseVNode("b",null,toDisplayString(v.value),1)]))],64)):createCommentVNode("",!0)]))),128)),unref(a).node.length&&unref(a).node[0]["@type"]=="Repository"?(openBlock(),createElementBlock("div",_hoisted_6$c,[createBaseVNode("button",{onClick:g[3]||(g[3]=v=>u()),class:"btn btn-secondary float-end"},"show commits"),createBaseVNode("div",_hoisted_7$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(a).commits,v=>(openBlock(),createElementBlock("div",{key:v.url},[createBaseVNode("a",{href:v.url,target:"_BLANK"},toDisplayString(v.title),9,_hoisted_8$6),createTextVNode(" ("+toDisplayString(v.author)+") "+toDisplayString(v.date),1)]))),128))])])):createCommentVNode("",!0),unref(a).node.length&&unref(a).node[0]["@type"]=="Container"?(openBlock(),createElementBlock("div",_hoisted_9$6,[unref(a).inspect.State?(openBlock(),createElementBlock("div",_hoisted_10$6,[createBaseVNode("table",_hoisted_11$6,[createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_12$6,createBaseVNode("td",null,toDisplayString(unref(a).inspect.Path),1)]),createBaseVNode("tr",null,[_hoisted_13$6,createBaseVNode("td",null,toDisplayString(unref(a).inspect.State.Status),1)]),createBaseVNode("tr",null,[_hoisted_14$6,createBaseVNode("td",null,toDisplayString(unref(a).inspect.RestartCount),1)]),createBaseVNode("tr",null,[_hoisted_15$5,createBaseVNode("td",null,toDisplayString(unref(a).inspect.State.StartedAt.split(".")[0]),1)])])])])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))}};var NodeCard_vue_vue_type_style_index_0_lang="";const _hoisted_1$e={key:0,class:"card"},_hoisted_2$d={class:"card-header"},_hoisted_3$c={class:"d-flex bd-highlight"},_hoisted_4$d=["src"],_hoisted_5$b=["src"],_hoisted_6$b={class:normalizeClass(["card-title","p-2","flex-grow-1"])},_hoisted_7$5={key:2},_hoisted_8$5={key:1},_hoisted_9$5={class:"mb-3"},_hoisted_10$5=createBaseVNode("label",{for:"formFile",class:"form-label"},"Square images works best (.jpeg or .png)",-1),_hoisted_11$5={class:"clearfix"},_hoisted_12$5={key:0,class:"form-check form-switch float-end"},_hoisted_13$5=createBaseVNode("label",{class:"form-check-label",for:"flexSwitchCheckChecked"},"Active",-1),_hoisted_14$5={class:"clearfix"},_hoisted_15$4={key:3},_hoisted_16$4=createBaseVNode("i",{class:"bi bi-pen",style:{"font-size":"1rem",color:"white"}},null,-1),_hoisted_17$4=[_hoisted_16$4],_hoisted_18$4={key:4,class:"alert alert-warning"},_hoisted_19$3={key:0,class:"relation-group"},_hoisted_20$3={key:1},_hoisted_21$3={key:0,class:"relation-title"},_hoisted_22$3=["onClick"],_hoisted_23$3=createTextVNode(")"),_hoisted_24$3=createBaseVNode("i",{class:"float-end bi bi-pen"},null,-1),_hoisted_25$3={key:0},_hoisted_26$2=["onChange"],_hoisted_27$2=createBaseVNode("option",null,null,-1),_hoisted_28$2=["value"],_hoisted_29$2=["onClick"],_hoisted_30$2=["title"],_hoisted_31$2={key:1},_hoisted_32$2={style:{position:"initial"}},_hoisted_33$2=createTextVNode(")"),_hoisted_34$1=["onClick"],_hoisted_35$1={key:0},_hoisted_36$1={key:0},_hoisted_37$1=["onClick"],_hoisted_38$1={key:1},_hoisted_39$1=createBaseVNode("i",null,"info",-1),_hoisted_40$1=["onClick"],_hoisted_41$1={key:2},_hoisted_42$1=["onUpdate:modelValue"],_hoisted_43$1=createBaseVNode("br",null,null,-1),_hoisted_44$1=["onClick"],_hoisted_45$1=["onClick"],_hoisted_46$1={key:0,class:"form-check form-switch"},_hoisted_47$1=["onClick","onUpdate:modelValue"],_hoisted_48$1=createBaseVNode("label",{class:"form-check-label",for:"flexSwitchCheckChecked"},null,-1),_hoisted_49$1=["onClick"],_hoisted_50$1={key:1,class:"form-check form-switch"},_hoisted_51$1=["onClick"],_hoisted_52$1={key:2,class:"form-check form-switch"},_hoisted_53$1=["onClick"],_hoisted_54$1={key:3,class:"form-check form-switch"},_hoisted_55$1=["onClick"],_hoisted_56$1={key:1,class:"relation-title"},_hoisted_57$1=["onClick"],_hoisted_58$1=createTextVNode(") "),_hoisted_59$1=createBaseVNode("i",{class:"float-end bi bi-pen"},null,-1),_hoisted_60$1={key:0,style:{"margin-bottom":"60px"}},_hoisted_61$1=["onChange"],_hoisted_62$1=createBaseVNode("option",null,null,-1),_hoisted_63$1=["value"],_hoisted_64$1=["onClick"],_hoisted_65$1=["title"],_hoisted_66$1={class:"card-footer"},_hoisted_67$1={key:0,class:"btn-group",role:"group"},_hoisted_68$1=createBaseVNode("br",null,null,-1),_hoisted_69$1=createBaseVNode("i",{class:"bi bi-snow"},null,-1),_hoisted_70$1=[_hoisted_69$1],_hoisted_71$1={key:0,class:"card border-danger"},_hoisted_72=createBaseVNode("div",{class:"card-header"}," User settings ",-1),_hoisted_73={class:"card-body"},_hoisted_74=createBaseVNode("h5",null,"User group (visibility group)",-1),_hoisted_75=["value"],_hoisted_76=createBaseVNode("h5",null,"User Permissions",-1),_hoisted_77={key:0},_hoisted_78=["value"],_hoisted_79={key:1},_hoisted_80={key:2},_hoisted_81=createBaseVNode("hr",null,null,-1),_hoisted_82={key:0},_hoisted_83={key:1},_sfc_main$f={emits:["fitGraph","saveLayout","setGraphOptions"],setup(t,{emit:e}){const r=useRoute(),n=useRouter();var a=reactive({editing:!1,active:!0,selected:null,admin_edit:!1,image_edit:!1,_group:null,_access:null});reactive({result:[]});var o=reactive({result:[]});reactive({data:{}});var s=ref("");const l=ref(null);reactive({type:"",label:""}),reactive([]);var u=reactive({relation:{data:[]},data:[],current_node:"",current_rel_id:"",current_rel_attr:"",user_groups:[]});const c=["user","creator","admin"];onMounted(async()=>{r.query.node&&v(r.query.node)}),watch(()=>r.query.node,async(S,N)=>{console.log("ROUTER: on query.node"),S?v(S):o.result=[]}),watch(()=>store.current_node,async(S,N)=>{console.log("ROUTER: on current_node"),g(),S?v(store.current().data.id):o.result=[]}),watch(()=>store.update,async(S,N)=>{if(await v(r.query.node),u.relation.type){var $=await web.getListOfNonConnected(u.relation.target,u.relation.type,r.query.node);u.data=$.data;for(var B of o.result)B.type==u.relation.type&&(u.relation=B)}});function f(){return store.current().data.id=="#"+r.query.node&&(store.current().data.id==store.user.rid||store.user.access=="admin")}function d(){g()}function g(){a.editing=!1,a.admin_edit=!1,a.image_edit=!1,a.selected="",store.new_node_type="",u.current_rel=""}async function v(S){console.log("loading node data..."),o.result=await web.getSchemaAndData(S),y()}async function m(){if(l.value.files.length)try{await web.uploadImage(l.value.files[0]),await web.setNodeAttribute(store.current().data.id,{key:"_image",value:"images/"+store.current().data.id.replace("#","")+".png"}),window.location.reload()}catch(S){S.response&&S.response.data.error?alert(S.response.data.error):alert(S)}}function y(){a._group=null,a._access=null,o.result._attributes&&o.result._attributes["@type"]=="Person"&&(a._group=o.result._attributes._group,a._access=o.result._attributes._access)}function b(S){store.new_node_type=S.target,store.new_node_label=S.target_label,store.new_node_relation=S,store.node_creator_open=!0}async function E(S){if(u.relation==S){u.relation=null,u.data=[];return}u.relation=S;var N=await web.getListOfNonConnected(S.target,S.type,r.query.node);u.data=N.data}async function w(S,N){N=N.replace("#",""),S=="QueryMap"?n.push({name:"graph",query:{map:N}}):r.query.map?(e("fitGraph",N),n.push({name:"graph",query:{map:r.query.map,focus:N}})):n.push({name:"graph",query:{node:N}})}async function _(){await web.setNodeAttribute(store.current().data.id,{key:"label",value:s.value}),s.value="",store.reload()}async function T(S){await web.setNodeAttribute(store.current().data.id,{key:S,value:a[S]}),a.node=await web.getNodeAttributes(r.query.node),store.reload()}function O(){s.value==""?s.value=store.current().data.name:s.value=""}async function D(S){S.rel_active=!S.rel_active,await web.setRelationAttribute(S.rel_id,{name:"_active",value:S.rel_active}),store.reload()}async function x(){a.active=!a.active,await web.setNodeAttribute(store.current().data.id,{key:"_active",value:a.active}),store.reload()}async function L(S){await web.setRelationAttribute(u.current_rel_id,{name:"attr",value:S}),u.current_rel_id=0,u.current_rel_attr=""}async function R(S){var N=a.selected;S.reverse?await web.connect(N,S.type,r.query.node):await web.connect(r.query.node,S.type,N),store.reload()}async function C(S){await web.removeEdgeByRID(S),store.reload()}function A(S,N){n.push({name:"maps",query:{map:S.replace("#",""),focus:r.query.node,relation:N.replace("#","")}})}return(S,N)=>unref(store).current_node&&unref(o).result._attributes?(openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("div",_hoisted_2$d,[unref(store).current().data.type=="Person"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(unref(o).result._attributes.id),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(unref(store).current().data.type_label),1)],64)),createBaseVNode("div",_hoisted_3$c,[unref(store).current().data.type=="Person"?(openBlock(),createElementBlock(Fragment,{key:0},[unref(store).current().data.image?(openBlock(),createElementBlock("img",{key:0,class:"person-photo",src:unref(store).current().data.image},null,8,_hoisted_4$d)):(openBlock(),createElementBlock("img",{key:1,class:"person-photo",src:"icons/person_icon.svg"},null,8,_hoisted_5$b)),createBaseVNode("h4",_hoisted_6$b,[createTextVNode(toDisplayString(unref(o).result._attributes.label)+" ",1),unref(a).editing&&unref(o).result._attributes._active?(openBlock(),createElementBlock("i",{key:0,onClick:N[0]||(N[0]=$=>O()),class:"bi bi-pen pointer",style:{"font-size":"0.9rem",color:"blue","margin-left":"10px"}})):createCommentVNode("",!0),unref(a).editing&&unref(s)?withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":N[1]||(N[1]=$=>isRef(s)?s.value=$:s=$),onKeyup:N[2]||(N[2]=withKeys($=>_(),["enter"]))},null,544)),[[vModelText,unref(s)]]):createCommentVNode("",!0)])],64)):(openBlock(),createElementBlock("h4",{key:1,class:normalizeClass(["card-title","p-2","flex-grow-1",unref(store).current().data.type])},[createTextVNode(toDisplayString(unref(o).result._attributes.label)+" ",1),unref(a).editing&&unref(o).result._attributes._active?(openBlock(),createElementBlock("i",{key:0,onClick:N[3]||(N[3]=$=>O()),class:"bi bi-pen pointer",style:{"font-size":"0.9rem",color:"blue","margin-left":"10px"}})):createCommentVNode("",!0),unref(a).editing&&unref(s)?withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":N[4]||(N[4]=$=>isRef(s)?s.value=$:s=$),onKeyup:N[5]||(N[5]=withKeys($=>_(),["enter"]))},null,544)),[[vModelText,unref(s)]]):createCommentVNode("",!0)],2))]),unref(a).editing?(openBlock(),createElementBlock("div",_hoisted_7$5,[unref(store).current().data.id==unref(store).user.rid?(openBlock(),createElementBlock("button",{key:0,onClick:N[6]||(N[6]=$=>unref(a).image_edit=!unref(a).image_edit)},"change image")):createCommentVNode("",!0),unref(a).image_edit?(openBlock(),createElementBlock("div",_hoisted_8$5,[createBaseVNode("div",_hoisted_9$5,[_hoisted_10$5,createBaseVNode("input",{class:"form-control",type:"file",id:"image",ref_key:"image_file",ref:l},null,512)]),createBaseVNode("button",{onClick:N[7]||(N[7]=$=>m()),class:"btn btn-primary"},"send image")])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_11$5,[unref(store).current().data.id!==unref(store).user.rid?(openBlock(),createElementBlock("div",_hoisted_12$5,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":N[8]||(N[8]=$=>unref(o).result._attributes._active=$),onClick:N[9]||(N[9]=$=>x()),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked"},null,512),[[vModelCheckbox,unref(o).result._attributes._active]]),_hoisted_13$5])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_14$5,[createBaseVNode("div",{style:{width:"120px"},role:"button",onClick:N[10]||(N[10]=$=>d()),class:"btn btn-primary float-end"},"Ready")])])):f()?(openBlock(),createElementBlock("div",_hoisted_15$4,[createBaseVNode("div",{role:"button",onClick:N[11]||(N[11]=$=>unref(a).editing=!0),class:"btn btn-primary float-end",title:"Edit item"},_hoisted_17$4)])):createCommentVNode("",!0),unref(o).result._attributes._active?createCommentVNode("",!0):(openBlock(),createElementBlock("i",_hoisted_18$4,"Inactive"))]),unref(o).result._attributes?(openBlock(),createBlock(_sfc_main$g,{key:0,editing:unref(a).editing,attributes:unref(o).result._attributes,onReLoadData:v},null,8,["editing","attributes"])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["card-body overflow-auto",unref(o).result._attributes._active?"":"disabled"])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(o).result.tags,($,B)=>(openBlock(),createElementBlock("div",{key:B},[B!="default_display"?(openBlock(),createElementBlock(Fragment,{key:0},[unref(a).editing?(openBlock(),createElementBlock("h4",_hoisted_19$3,toDisplayString($.label),1)):$.count!==0?(openBlock(),createElementBlock("h4",_hoisted_20$3,toDisplayString($.label),1)):createCommentVNode("",!0)],64)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList($.relations,P=>(openBlock(),createElementBlock("div",{key:P.type},[P.data.length>0?(openBlock(),createElementBlock("ol",{key:0,class:normalizeClass(["list-group",unref(u).relation==P?"selected":""])},[unref(a).editing&&unref(o).result._attributes._active?(openBlock(),createElementBlock("div",_hoisted_21$3,[createBaseVNode("div",{onClick:k=>E(P),class:"pointer",style:{position:"initial"}},[createTextVNode(toDisplayString(P.label)+" (",1),createBaseVNode("b",null,toDisplayString(P.target_label),1),_hoisted_23$3,_hoisted_24$3],8,_hoisted_22$3),unref(u).relation==P?(openBlock(),createElementBlock("div",_hoisted_25$3,[createBaseVNode("div",null,[withDirectives(createBaseVNode("select",{class:"form-select","onUpdate:modelValue":N[12]||(N[12]=k=>unref(a).selected=k),onChange:k=>R(P)},[_hoisted_27$2,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(u).data,k=>(openBlock(),createElementBlock("option",{value:k.value},toDisplayString(k.text),9,_hoisted_28$2))),256))],40,_hoisted_26$2),[[vModelSelect,unref(a).selected]]),unref(store).user.access!="user"?(openBlock(),createElementBlock("div",{key:0,onClick:k=>b(P),title:"lis\xE4\xE4 node",type:"button",class:"btn btn-primary float-end"},[createBaseVNode("i",{title:"create "+P.target_label,class:"float-end bi bi-plus-circle pointer",style:{"font-size":"1rem",color:"white"}},null,8,_hoisted_30$2)],8,_hoisted_29$2)):createCommentVNode("",!0)])])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_31$2,[createBaseVNode("div",_hoisted_32$2,[createTextVNode(toDisplayString(P.label)+" (",1),createBaseVNode("b",null,toDisplayString(P.target_label),1),_hoisted_33$2])])),(openBlock(!0),createElementBlock(Fragment,null,renderList(P.data,k=>(openBlock(),createElementBlock("li",{class:"list-group-item d-flex justify-content-between align-items-start border-0",key:k.label},[createBaseVNode("div",{class:normalizeClass(["me-auto",k.rel_active?"active":"disabled"])},[createBaseVNode("div",{onClick:H=>w(k.type,k.id),class:normalizeClass(["node",k.type,"pointer"])},toDisplayString(k.label),11,_hoisted_34$1),!unref(a).editing&&k.rel_attr?(openBlock(),createElementBlock("div",_hoisted_35$1,[createBaseVNode("i",null,toDisplayString(k.rel_attr),1)])):createCommentVNode("",!0),unref(a).editing&&unref(a).active?(openBlock(),createElementBlock(Fragment,{key:1},[k.rel_attr?(openBlock(),createElementBlock("div",_hoisted_36$1,[createTextVNode(toDisplayString(k.rel_attr)+" ",1),createBaseVNode("i",{onClick:H=>{unref(u).current_rel_id=k.rel_id,unref(u).current_rel_attr=k.rel_attr},class:"bi bi-pen pointer",style:{"font-size":"0.7rem",color:"blue","margin-left":"10px"}},null,8,_hoisted_37$1)])):(openBlock(),createElementBlock("div",_hoisted_38$1,[_hoisted_39$1,createBaseVNode("i",{onClick:H=>unref(u).current_rel_id=k.rel_id,class:"bi bi-pen pointer",style:{"font-size":"0.7rem",color:"blue","margin-left":"10px"}},null,8,_hoisted_40$1)]))],64)):createCommentVNode("",!0),unref(a).editing&&unref(u).current_rel_id==k.rel_id?(openBlock(),createElementBlock("div",_hoisted_41$1,[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":H=>k.rel_attr=H,rows:"3",cols:"30"},null,8,_hoisted_42$1),[[vModelText,k.rel_attr]]),_hoisted_43$1,createBaseVNode("button",{onClick:H=>{unref(u).current_rel_id="",k.rel_attr=unref(u).current_rel_attr},class:"btn btn-secondary"},"peru",8,_hoisted_44$1),createBaseVNode("button",{onClick:H=>L(k.rel_attr),class:"btn btn-primary"},"tallenna",8,_hoisted_45$1)])):createCommentVNode("",!0)],2),unref(a).editing&&unref(o).result._attributes._active&&unref(u).relation==P?(openBlock(),createElementBlock("div",_hoisted_46$1,[withDirectives(createBaseVNode("input",{onClick:H=>D(k),"onUpdate:modelValue":H=>k.rel_active=H,class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:""},null,8,_hoisted_47$1),[[vModelCheckbox,k.rel_active]]),_hoisted_48$1,createBaseVNode("i",{onClick:H=>C(k.rel_id),class:"float-end bi-x-circle pointer"},null,8,_hoisted_49$1)])):createCommentVNode("",!0),unref(o).result._attributes._active&&unref(store).current_node.data.type=="QueryMap"?(openBlock(),createElementBlock("div",_hoisted_50$1,[createBaseVNode("i",{onClick:H=>S.fitGraph(unref(store).current_node.data.id,k.id),class:"bi bi-geo-alt-fill float-end text-primary pointer fs-5"},null,8,_hoisted_51$1)])):createCommentVNode("",!0),unref(a).editing&&unref(o).result._attributes._active&&k.type=="QueryMap"&&unref(u).relation==P?(openBlock(),createElementBlock("div",_hoisted_52$1,[createBaseVNode("i",{title:"muuta sijaintia",onClick:H=>A(k.id,k.rel_id),class:"bi bi-geo-alt-fill float-end text-primary pointer fs-5"},null,8,_hoisted_53$1)])):createCommentVNode("",!0),unref(a).editing&&unref(o).result._attributes._active&&k.type=="QueryMap"&&!k.rel_x?(openBlock(),createElementBlock("div",_hoisted_54$1,[createBaseVNode("button",{onClick:H=>A(k.id,k.rel_id),class:"bi bi-geo-alt-fill float-end btn btn-danger pointer fs-5"},"aseta sijainti",8,_hoisted_55$1)])):createCommentVNode("",!0)]))),128))],2)):unref(a).editing&&unref(o).result._attributes._active?(openBlock(),createElementBlock("div",_hoisted_56$1,[createBaseVNode("div",{onClick:k=>E(P),class:"pointer",style:{position:"initial"}},[createTextVNode(toDisplayString(P.label)+" (",1),createBaseVNode("b",null,toDisplayString(P.target_label),1),_hoisted_58$1,_hoisted_59$1],8,_hoisted_57$1),unref(u).relation==P?(openBlock(),createElementBlock("div",_hoisted_60$1,[createBaseVNode("div",null,[withDirectives(createBaseVNode("select",{class:"form-select","onUpdate:modelValue":N[13]||(N[13]=k=>unref(a).selected=k),onChange:k=>R(P)},[_hoisted_62$1,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(u).data,k=>(openBlock(),createElementBlock("option",{value:k.value},toDisplayString(k.text),9,_hoisted_63$1))),256))],40,_hoisted_61$1),[[vModelSelect,unref(a).selected]]),unref(store).user.access!="user"||P.target_publicity?(openBlock(),createElementBlock("div",{key:0,onClick:k=>b(P),title:"lis\xE4\xE4 node",type:"button",class:"btn btn-primary float-end"},[createBaseVNode("i",{title:"create "+P.target_label,class:"float-end bi bi-plus-circle pointer",style:{"font-size":"1rem",color:"white"}},null,8,_hoisted_65$1)],8,_hoisted_64$1)):createCommentVNode("",!0)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))),128))]))),128))],2),createBaseVNode("div",_hoisted_66$1,[unref(r).query.map?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_67$1,[createBaseVNode("button",{class:"btn",title:"layout cose",onClick:N[14]||(N[14]=$=>S.$emit("setGraphOptions","cose"))},"A1"),createBaseVNode("button",{class:"btn",title:"layout cola",onClick:N[15]||(N[15]=$=>S.$emit("setGraphOptions","cola"))},"A2"),createBaseVNode("button",{class:"btn",title:"layout fcose",onClick:N[16]||(N[16]=$=>S.$emit("setGraphOptions","fcose"))},"A3"),createBaseVNode("button",{class:"btn",title:"layout grid",onClick:N[17]||(N[17]=$=>S.$emit("setGraphOptions","grid"))},"grid"),createBaseVNode("button",{class:"btn",title:"oma asettelu",onClick:N[18]||(N[18]=$=>S.$emit("setGraphOptions","preset"))},"my"),_hoisted_68$1,createBaseVNode("button",{onClick:N[19]||(N[19]=$=>S.$emit("saveLayout")),class:"btn btn-secondary",title:"save layout"},_hoisted_70$1)])),unref(a).admin_edit?(openBlock(),createElementBlock(Fragment,{key:1},[unref(store).current().data.type=="Person"&&unref(store).user.access=="admin"?(openBlock(),createElementBlock("div",_hoisted_71$1,[_hoisted_72,createBaseVNode("div",_hoisted_73,[_hoisted_74,withDirectives(createBaseVNode("select",{onChange:N[20]||(N[20]=$=>T("_group")),class:"form-select","aria-label":"Default select example","onUpdate:modelValue":N[21]||(N[21]=$=>unref(a)._group=$)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(store).groups,$=>(openBlock(),createElementBlock("option",{key:$.id,value:$.id},toDisplayString($.label),9,_hoisted_75))),128))],544),[[vModelSelect,unref(a)._group]]),_hoisted_76,unref(store).current().data.id!==unref(store).user.rid?(openBlock(),createElementBlock("div",_hoisted_77,[withDirectives(createBaseVNode("select",{onChange:N[22]||(N[22]=$=>T("_access")),class:"form-select","aria-label":"Default select example","onUpdate:modelValue":N[23]||(N[23]=$=>unref(a)._access=$)},[(openBlock(),createElementBlock(Fragment,null,renderList(c,$=>createBaseVNode("option",{key:$,value:$},toDisplayString($),9,_hoisted_78)),64))],544),[[vModelSelect,unref(a)._access]])])):(openBlock(),createElementBlock("div",_hoisted_79," Can't set your own access level. "))])])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),unref(store).user?(openBlock(),createElementBlock("div",_hoisted_80,[_hoisted_81,unref(a).editing&&unref(store).current().data.type=="Person"&&unref(store).user.access=="admin"?(openBlock(),createElementBlock("div",_hoisted_82,[createBaseVNode("a",{href:"#",onClick:N[24]||(N[24]=withModifiers($=>unref(a).admin_edit=!unref(a).admin_edit,["prevent"]))},toDisplayString(unref(store).user.id)+" ["+toDisplayString(unref(store).user.group)+" : "+toDisplayString(unref(store).user.access)+"]",1)])):(openBlock(),createElementBlock("div",_hoisted_83,toDisplayString(unref(store).user.id)+" ["+toDisplayString(unref(store).user.group)+" : "+toDisplayString(unref(store).user.access)+"] ",1))])):createCommentVNode("",!0)])])):createCommentVNode("",!0)}},_hoisted_1$d=createBaseVNode("p",null,[createBaseVNode("button",{class:"btn btn-secondary",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseSettings","aria-expanded":"false","aria-controls":"collapseSettings"}," Settings ")],-1),_hoisted_2$c={class:"collapse",id:"collapseSettings"},_hoisted_3$b={class:"card card-body"},_hoisted_4$c={class:"form-check",title:"Check this is you want that everyone can add new nodes of this type"},_hoisted_5$a=createBaseVNode("label",{class:"form-check-label",for:"flexCheckDefault"}," Anyone can create ",-1),_hoisted_6$a=createBaseVNode("h5",{class:"mt-5"},"Graph Style",-1),_hoisted_7$4={class:"form-floating"},_hoisted_8$4=createBaseVNode("label",{for:"floatingTextarea2"},"cytoscape.js style",-1),_hoisted_9$4=createBaseVNode("p",{class:"alert alert-info"},[createTextVNode("Must be valid JSON. "),createBaseVNode("a",{href:"https://js.cytoscape.org/#style",target:"_blank"},"https://js.cytoscape.org/#style")],-1),_hoisted_10$4=createBaseVNode("h4",{class:"card-title"},"Attributes ",-1),_hoisted_11$4=createBaseVNode("p",null,[createBaseVNode("b",null,"Label"),createTextVNode(" and "),createBaseVNode("b",null,"description"),createTextVNode(" attributes are available for all nodes by default.")],-1),_hoisted_12$4={class:"list-group"},_hoisted_13$4={key:0},_hoisted_14$4={key:0},_hoisted_15$3=createBaseVNode("button",{class:"btn btn-primary float-end"},"save",-1),_hoisted_16$3={key:1},_hoisted_17$3=["onClick"],_hoisted_18$3=createBaseVNode("i",{class:"fs-8 bi-pen",style:{color:"cornflowerblue"}},null,-1),_hoisted_19$2=[_hoisted_18$3],_hoisted_20$2={key:1},_hoisted_21$2=createBaseVNode("i",{class:"fs-5 bi-plus-circle",style:{color:"blue"}},null,-1),_hoisted_22$2=[_hoisted_21$2],_hoisted_23$2={key:1,class:"clearfix me-5"},_hoisted_24$2={class:"form-floating mb-3"},_hoisted_25$2=createBaseVNode("label",{for:"floatingInput"},"name of attribute",-1),_sfc_main$e={props:{editing:!1},setup(t){const e=t;var r=reactive({current_attr:{key:""},showNewEditor:!1,new_attr:{key:"",value:""}});const n=useRoute();var a=reactive({node:[],attributes:[],_public:!1});const o=["label","@rid","@type","parent","id"];watch(()=>n.query.node,async(g,v)=>{g&&(a.node=await web.getNodeAttributes(n.query.node),d())}),onMounted(async()=>{n.query.node&&(a.node=await web.getNodeAttributes(n.query.node)),d()});function s(g){r.current_attr.key?r.current_attr.key="":r.current_attr.key=g.key}function l(){r.showNewAttributeEditor?r.showNewAttributeEditor=!1:r.showNewAttributeEditor=!0}async function u(){try{var g=JSON.parse(a._style),v=a._style.replace(/\'/g,"##"),v=v.replace(/\\"/g,"##");await web.setNodeAttribute(store.current().data.id,{key:"_style",value:v})}catch(m){alert("Style must be valid JSON!"),console.log(m)}}async function c(){await web.setNodeAttribute(store.current().data.id,{key:"_public",value:a._public})}async function f(){if(r.new_attr.key.startsWith("_")){alert("'_' is reserved for internal attributes");return}try{await web.setNodeAttribute(store.current().data.id,r.new_attr),r.showNewAttributeEditor=!1,a.node=await web.getNodeAttributes(n.query.node),d()}catch(g){alert("Attribute creation failed! "+g),console.log(g)}}function d(){if(a.attributes=[],a.node.length)for(var g of a.node)for(var v of Object.keys(g)){if(v=="_public"&&(a._public=g[v]),v=="_style"){var m=g[v].replace(/##/g,"'");a._style=JSON.stringify(JSON.parse(m),null,2)}o.includes(v)||a.attributes.push({key:v,value:g[v]})}}return(g,v)=>(openBlock(),createElementBlock("div",null,[t.editing&&unref(store).user.access=="admin"?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_1$d,createBaseVNode("div",_hoisted_2$c,[createBaseVNode("div",_hoisted_3$b,[createBaseVNode("div",_hoisted_4$c,[withDirectives(createBaseVNode("input",{onChange:v[0]||(v[0]=m=>c()),"onUpdate:modelValue":v[1]||(v[1]=m=>unref(a)._public=m),class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault"},null,544),[[vModelCheckbox,unref(a)._public]]),_hoisted_5$a]),_hoisted_6$a,createBaseVNode("div",_hoisted_7$4,[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":v[2]||(v[2]=m=>unref(a)._style=m),class:"form-control",placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"250px"}},null,512),[[vModelText,unref(a)._style]]),_hoisted_8$4]),createBaseVNode("button",{onClick:v[3]||(v[3]=m=>u()),class:"btn btn-primary"},"save"),_hoisted_9$4])]),_hoisted_10$4,_hoisted_11$4,createBaseVNode("ol",_hoisted_12$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(a).attributes,m=>(openBlock(),createElementBlock(Fragment,{key:m.key},[m.key.startsWith("_")?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[t.editing&&unref(store).user.access=="admin"?(openBlock(),createElementBlock("div",_hoisted_13$4,[unref(r).current_attr.key==m.key?(openBlock(),createElementBlock("div",_hoisted_14$4,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":v[4]||(v[4]=y=>unref(r).current_attr.key=y),type:"text",class:"form-control","aria-label":"key"},null,512),[[vModelText,unref(r).current_attr.key]]),_hoisted_15$3,createBaseVNode("button",{class:"btn btn-secondary float-end",onClick:v[5]||(v[5]=y=>unref(r).current_attr.key="")},"cancel")])):(openBlock(),createElementBlock("div",_hoisted_16$3,[createBaseVNode("div",null,[createTextVNode(toDisplayString(m.key)+" ",1),e.editing?(openBlock(),createElementBlock("div",{key:0,role:"button",onClick:y=>s(m),class:"float-end"},_hoisted_19$2,8,_hoisted_17$3)):createCommentVNode("",!0)])]))])):(openBlock(),createElementBlock("div",_hoisted_20$2,toDisplayString(m.key),1))],64))],64))),128))]),e.editing?(openBlock(),createElementBlock("div",{key:0,onClick:v[6]||(v[6]=m=>l()),title:"add attribute",role:"button",class:"float-end"},_hoisted_22$2)):createCommentVNode("",!0),unref(r).showNewAttributeEditor?(openBlock(),createElementBlock("div",_hoisted_23$2,[createBaseVNode("div",_hoisted_24$2,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":v[7]||(v[7]=m=>unref(r).new_attr.key=m),type:"text",class:"form-control",id:"floatingInput",placeholder:"name of attribute"},null,512),[[vModelText,unref(r).new_attr.key]]),_hoisted_25$2]),createBaseVNode("button",{onClick:v[8]||(v[8]=m=>f())},"Create attribute")])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)]))}};var SchemaRelationCreator_vue_vue_type_style_index_0_scoped_true_lang="";const _withScopeId=t=>(pushScopeId("data-v-308aeaf0"),t=t(),popScopeId(),t),_hoisted_1$c={key:0,class:"offcanvas offcanvas-end",tabindex:"-1",id:"schemaRelationEditor","aria-labelledby":"offcanvasRightLabel",style:{width:"450px"}},_hoisted_2$b=_withScopeId(()=>createBaseVNode("div",{class:"offcanvas-header"},[createBaseVNode("h5",{id:"offcanvasRightLabel"},"Schema Relation Editor"),createBaseVNode("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),_hoisted_3$a={class:"offcanvas-body"},_hoisted_4$b={key:0},_hoisted_5$9=createTextVNode("from "),_hoisted_6$9=createTextVNode(" to: "),_hoisted_7$3=_withScopeId(()=>createBaseVNode("option",{value:""},"choose target",-1)),_hoisted_8$3=["value"],_hoisted_9$3={key:1,class:normalizeClass(["node-plain"])},_hoisted_10$3={key:0},_hoisted_11$3=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-arrow-left-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_12$3=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-arrow-left-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_13$3={key:1},_hoisted_14$3=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-arrow-right-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_15$2=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-arrow-right-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_16$2=_withScopeId(()=>createBaseVNode("div",{class:"alert alert-info mt-4"}," Relation labels are human friendly way to present directional graph. You can change relation labels any time.",-1)),_hoisted_17$2=createTextVNode(" Graph label "),_hoisted_18$2={class:normalizeClass(["input-group","mb-3"])},_hoisted_19$1=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-arrow-left-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_20$1=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-arrow-left-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_21$1=createTextVNode(" List label "),_hoisted_22$1={class:normalizeClass(["input-group","mb-3"])},_hoisted_23$1=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-arrow-right-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_24$1=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-arrow-right-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_25$1=createTextVNode(" Graph label "),_hoisted_26$1={class:normalizeClass(["input-group","mb-3"])},_hoisted_27$1=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-arrow-right-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_28$1=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-arrow-right-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_29$1=createTextVNode(" List label "),_hoisted_30$1={class:normalizeClass(["input-group","mb-3"])},_hoisted_31$1=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-arrow-left-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_32$1=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-arrow-left-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_33$1=createTextVNode(" Inactive Graph Label "),_hoisted_34={class:normalizeClass(["input-group","mb-3"])},_hoisted_35=_withScopeId(()=>createBaseVNode("div",{class:"alert alert-info mt-4"},"Relationg Tags allow grouping of relations for easier browsing of graph. ",-1)),_hoisted_36={key:4},_hoisted_37={class:"badge bg-secondary"},_hoisted_38=["onClick"],_hoisted_39=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-x-circle pointer",style:{"font-size":"1rem",color:"red"}},null,-1)),_hoisted_40=[_hoisted_39],_hoisted_41={key:5},_hoisted_42={class:"badge bg-secondary"},_hoisted_43=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-x-circle pointer",style:{"font-size":"1rem",color:"red"}},null,-1)),_hoisted_44=[_hoisted_43],_hoisted_45=_withScopeId(()=>createBaseVNode("option",{value:""},"choose tag (optional)",-1)),_hoisted_46=["value"],_hoisted_47=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-plus-circle",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_48=[_hoisted_47],_hoisted_49={key:6,class:"input-group mb-3"},_hoisted_50=_withScopeId(()=>createBaseVNode("div",{class:"alert alert-info mt-4"},[createTextVNode("When Compound is set, it means that the "),createBaseVNode("b",null,"target node"),createTextVNode(" is rendered as compound node that visually includes nodes with this relation. This can be changed any time.")],-1)),_hoisted_51={class:"form-check"},_hoisted_52=_withScopeId(()=>createBaseVNode("label",{class:"form-check-label",for:"flexCheckDefault"}," Compound ",-1)),_hoisted_53=_withScopeId(()=>createBaseVNode("div",{class:"alert alert-info mt-4"},[createTextVNode("If your remove schema relation, then existing relations are NOT REMOVED. "),createBaseVNode("b",null,"They are shown in graph but they are not listed on node's relation listing"),createTextVNode(". ")],-1)),_hoisted_54=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-trash",style:{"font-size":"1rem",color:"white"}},null,-1)),_hoisted_55=[_hoisted_54],_hoisted_56=_withScopeId(()=>createBaseVNode("div",{class:"mt-4"},'Descriptive Relation ID (like "IS_PART_OF")',-1)),_hoisted_57=_withScopeId(()=>createBaseVNode("div",{class:"mt-4"},"Link label shown in graph visualisation (forward)",-1)),_hoisted_58={class:"input-group mb-3"},_hoisted_59=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-arrow-right-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_60=_withScopeId(()=>createBaseVNode("i",{class:"pl-4 bi bi-arrow-right-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_61=_withScopeId(()=>createBaseVNode("div",{class:"mt-4"},"Link label shown in list view (reverse)",-1)),_hoisted_62={class:"input-group mb-3"},_hoisted_63=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-arrow-left-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_64=_withScopeId(()=>createBaseVNode("i",{class:"bi bi-arrow-left-short",style:{"font-size":"1rem",color:"blue"}},null,-1)),_hoisted_65=_withScopeId(()=>createBaseVNode("div",{class:"alert alert-info mt-4"},"Relation groups is used to define what relations are offered to users. ",-1)),_hoisted_66=_withScopeId(()=>createBaseVNode("div",null,"Relation Group",-1)),_hoisted_67=_withScopeId(()=>createBaseVNode("div",{class:"alert alert-danger"},"aseta editoinnin kautta",-1)),_hoisted_68=_withScopeId(()=>createBaseVNode("div",{class:"alert alert-info mt-4"},"Parent/Child relation are rendered as compound nodes. This setting can be changed any time.",-1)),_hoisted_69={class:"form-check"},_hoisted_70=_withScopeId(()=>createBaseVNode("label",{class:"form-check-label",for:"flexCheckDefault"}," Parent/Child relation ",-1)),_hoisted_71={class:"mt-4"},_sfc_main$d={props:{editor:{}},setup(t){const e=t,r=useRoute();useRouter();const n=reactive({schemas:[],target:"",new_tag:{id:"",label:""},selected_tag:"",tag_editor_open:!1}),a=reactive({tag:"",type:"",attributes:{label:"",label_rev:"",label_inactive:"",compound:"",tags:[]}});watch(()=>r.query.node,async(g,v)=>{n.schemas=await web.getSchemas(),n.tags=await web.getTags(),d()});async function o(){var g=n.schemas.find(v=>v.type==n.target);a.attributes.tags=[],await web.connectSchema(r.query.node,a,g.rid),n.target=null,store.reload()}async function s(g){var v=[].concat(e.editor.current_rel.tags);v.push(n.selected_tag),e.editor.current_rel.tags=[...new Set(v)],await c("tags"),n.selected_tag=""}async function l(g){var v=[].concat(e.editor.current_rel.tags);console.log(g);var m=v.filter(y=>y!==g);e.editor.current_rel.tags=m,m.length===0&&(m=null,e.editor.current_rel.tags=[]),await c("tags")}async function u(){n.new_tag.id!=""&&n.new_tag.label!=""?(await web.createNode({type:"Tag",label:n.new_tag.label,id:n.new_tag.id}),n.new_tag={id:""},store.tags=await web.getTags()):alert("Give both ID and name!")}async function c(g){await web.setRelationAttribute(e.editor.current_rel.rid,{name:g,value:e.editor.current_rel[g]}),store.reload()}async function f(g){await web.removeEdgeByRID(g),e.editor.current_rel=null,store.reload()}function d(){a.tag="",a.type="",a.target="",a.attributes={label:"",label_rev:"",compound:"",tags:""}}return onMounted(async()=>{n.schemas=await web.getSchemas(),d()}),(g,v)=>t.editor?(openBlock(),createElementBlock("div",_hoisted_1$c,[_hoisted_2$b,createBaseVNode("div",_hoisted_3$a,[t.editor.current_rel?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_4$b,[_hoisted_5$9,createBaseVNode("b",null,toDisplayString(unref(store).current().data.name),1),_hoisted_6$9,withDirectives(createBaseVNode("select",{"onUpdate:modelValue":v[0]||(v[0]=m=>unref(n).target=m)},[_hoisted_7$3,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).schemas,m=>(openBlock(),createElementBlock("option",{key:m.type,value:m.type},toDisplayString(m.label),9,_hoisted_8$3))),128))],512),[[vModelSelect,unref(n).target]])])),t.editor.current_rel?(openBlock(),createElementBlock("div",_hoisted_9$3,[t.editor.current_rel.direction=="incoming"?(openBlock(),createElementBlock("h5",_hoisted_10$3,[createTextVNode(toDisplayString(unref(store).current().data.name)+" ",1),_hoisted_11$3,createTextVNode(" "+toDisplayString(t.editor.current_rel.type)+" ",1),_hoisted_12$3,createTextVNode(" "+toDisplayString(t.editor.current_rel.target),1)])):createCommentVNode("",!0),t.editor.current_rel.direction=="outgoing"?(openBlock(),createElementBlock("h5",_hoisted_13$3,[createTextVNode(toDisplayString(unref(store).current().data.name)+" ",1),_hoisted_14$3,createTextVNode(" "+toDisplayString(t.editor.current_rel.type)+" ",1),_hoisted_15$2,createTextVNode(" "+toDisplayString(t.editor.current_rel.target),1)])):createCommentVNode("",!0),_hoisted_16$2,t.editor.current_rel.direction=="incoming"?(openBlock(),createElementBlock(Fragment,{key:2},[_hoisted_17$2,createBaseVNode("div",_hoisted_18$2,[createBaseVNode("span",{class:normalizeClass(["input-group-text",["node",unref(store).current().data.name]]),id:"basic-addon1"},[createTextVNode(toDisplayString(unref(store).current().data.name)+" ",1),_hoisted_19$1],2),withDirectives(createBaseVNode("input",{onBlur:v[1]||(v[1]=m=>c("label")),"onUpdate:modelValue":v[2]||(v[2]=m=>t.editor.current_rel.label=m),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"basic-addon1"},null,544),[[vModelText,t.editor.current_rel.label]]),createBaseVNode("span",{class:normalizeClass(["input-group-text",["node",t.editor.current_rel.target]])},[_hoisted_20$1,createTextVNode(" "+toDisplayString(t.editor.current_rel.target),1)],2)]),_hoisted_21$1,createBaseVNode("div",_hoisted_22$1,[createBaseVNode("span",{class:normalizeClass(["input-group-text",["node",unref(store).current().data.name]]),id:"basic-addon1"},[createTextVNode(toDisplayString(unref(store).current().data.name)+" ",1),_hoisted_23$1],2),withDirectives(createBaseVNode("input",{onBlur:v[3]||(v[3]=m=>c("label_rev")),"onUpdate:modelValue":v[4]||(v[4]=m=>t.editor.current_rel.label_rev=m),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"basic-addon1"},null,544),[[vModelText,t.editor.current_rel.label_rev]]),createBaseVNode("span",{class:normalizeClass(["input-group-text",["node",t.editor.current_rel.target]])},[_hoisted_24$1,createTextVNode(" "+toDisplayString(t.editor.current_rel.target),1)],2)])],64)):(openBlock(),createElementBlock(Fragment,{key:3},[_hoisted_25$1,createBaseVNode("div",_hoisted_26$1,[createBaseVNode("span",{class:normalizeClass(["input-group-text",["node",unref(store).current().data.name]]),id:"basic-addon1"},[createTextVNode(toDisplayString(unref(store).current().data.name)+" ",1),_hoisted_27$1],2),withDirectives(createBaseVNode("input",{onBlur:v[5]||(v[5]=m=>c("label")),"onUpdate:modelValue":v[6]||(v[6]=m=>t.editor.current_rel.label=m),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"basic-addon1"},null,544),[[vModelText,t.editor.current_rel.label]]),createBaseVNode("span",{class:normalizeClass(["input-group-text",["node",t.editor.current_rel.target]])},[_hoisted_28$1,createTextVNode(" "+toDisplayString(t.editor.current_rel.target),1)],2)]),_hoisted_29$1,createBaseVNode("div",_hoisted_30$1,[createBaseVNode("span",{class:normalizeClass(["input-group-text",["node",unref(store).current().data.name]]),id:"basic-addon1"},[createTextVNode(toDisplayString(unref(store).current().data.name)+" ",1),_hoisted_31$1],2),withDirectives(createBaseVNode("input",{onBlur:v[7]||(v[7]=m=>c("label_rev")),"onUpdate:modelValue":v[8]||(v[8]=m=>t.editor.current_rel.label_rev=m),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"basic-addon1"},null,544),[[vModelText,t.editor.current_rel.label_rev]]),createBaseVNode("span",{class:normalizeClass(["input-group-text",["node",t.editor.current_rel.target]])},[_hoisted_32$1,createTextVNode(" "+toDisplayString(t.editor.current_rel.target),1)],2)]),_hoisted_33$1,createBaseVNode("div",_hoisted_34,[withDirectives(createBaseVNode("input",{onBlur:v[9]||(v[9]=m=>c("label_inactive")),"onUpdate:modelValue":v[10]||(v[10]=m=>t.editor.current_rel.label_inactive=m),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"basic-addon1"},null,544),[[vModelText,t.editor.current_rel.label_inactive]])])],64)),_hoisted_35,Array.isArray(t.editor.current_rel.tags)?(openBlock(),createElementBlock("ul",_hoisted_36,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.editor.current_rel.tags,m=>(openBlock(),createElementBlock("li",_hoisted_37,[createTextVNode(toDisplayString(m)+" ",1),createBaseVNode("div",{role:"button",onClick:y=>l(m)},_hoisted_40,8,_hoisted_38)]))),256))])):t.editor.current_rel.tags.trim()!="cypher.null"?(openBlock(),createElementBlock("ul",_hoisted_41,[createBaseVNode("li",_hoisted_42,[createTextVNode(toDisplayString(t.editor.current_rel.tags)+" ",1),createBaseVNode("div",{role:"button",onClick:v[11]||(v[11]=m=>l(t.editor.current_rel.tags))},_hoisted_44)])])):createCommentVNode("",!0),withDirectives(createBaseVNode("select",{onChange:v[12]||(v[12]=m=>s()),"onUpdate:modelValue":v[13]||(v[13]=m=>unref(n).selected_tag=m)},[_hoisted_45,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(store).tags,m=>(openBlock(),createElementBlock("option",{key:m.label,value:m.id},toDisplayString(m.label),9,_hoisted_46))),128))],544),[[vModelSelect,unref(n).selected_tag]]),createBaseVNode("div",{role:"button",onClick:v[14]||(v[14]=m=>unref(n).tag_editor_open=!unref(n).tag_editor_open),class:"ms-2",title:"create new tag"},_hoisted_48),unref(n).tag_editor_open?(openBlock(),createElementBlock("div",_hoisted_49,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":v[15]||(v[15]=m=>unref(n).new_tag.id=m),type:"text",class:"form-control","aria-label":"tagid","aria-describedby":"basic-addon1",placeholder:"tag ID"},null,512),[[vModelText,unref(n).new_tag.id]]),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":v[16]||(v[16]=m=>unref(n).new_tag.label=m),type:"text",class:"form-control","aria-label":"taglabel",placeholder:"tag name","aria-describedby":"basic-addon1"},null,512),[[vModelText,unref(n).new_tag.label]]),createBaseVNode("div",{role:"button",onClick:v[17]||(v[17]=m=>u()),class:"btn btn-primary float-end"},"Create tag")])):createCommentVNode("",!0),_hoisted_50,createBaseVNode("div",_hoisted_51,[withDirectives(createBaseVNode("input",{onChange:v[18]||(v[18]=m=>c("compound")),class:"form-check-input",type:"checkbox",id:"flexCheckDefault","onUpdate:modelValue":v[19]||(v[19]=m=>t.editor.current_rel.compound=m)},null,544),[[vModelCheckbox,t.editor.current_rel.compound]]),_hoisted_52]),_hoisted_53,createBaseVNode("button",{onClick:v[20]||(v[20]=m=>f(t.editor.current_rel.rid)),type:"button",class:"btn btn-danger float-end mt-4"},_hoisted_55)])):createCommentVNode("",!0),unref(n).target?(openBlock(),createElementBlock(Fragment,{key:2},[_hoisted_56,withDirectives(createBaseVNode("input",{"onUpdate:modelValue":v[21]||(v[21]=m=>unref(a).type=m),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"basic-addon1"},null,512),[[vModelText,unref(a).type]]),_hoisted_57,createBaseVNode("div",_hoisted_58,[createBaseVNode("span",{class:normalizeClass(["input-group-text",["node",unref(store).current().data.name]]),id:"basic-addon1"},[createTextVNode(toDisplayString(unref(store).current().data.name)+" ",1),_hoisted_59],2),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":v[22]||(v[22]=m=>unref(a).attributes.label=m),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"basic-addon1"},null,512),[[vModelText,unref(a).attributes.label]]),createBaseVNode("span",{class:normalizeClass(["input-group-text",["node",unref(n).target]])},[_hoisted_60,createTextVNode(" "+toDisplayString(unref(n).target),1)],2)]),_hoisted_61,createBaseVNode("div",_hoisted_62,[createBaseVNode("span",{class:normalizeClass(["input-group-text",["node",unref(store).current().data.name]]),id:"basic-addon1"},[createTextVNode(toDisplayString(unref(store).current().data.name)+" ",1),_hoisted_63],2),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":v[23]||(v[23]=m=>unref(a).attributes.label_rev=m),type:"text",class:"form-control","aria-label":"Username","aria-describedby":"basic-addon1"},null,512),[[vModelText,unref(a).attributes.label_rev]]),createBaseVNode("span",{class:normalizeClass(["input-group-text",["node",unref(n).target]])},[_hoisted_64,createTextVNode(" "+toDisplayString(unref(n).target),1)],2)]),_hoisted_65,_hoisted_66,_hoisted_67,_hoisted_68,createBaseVNode("div",_hoisted_69,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox",value:"parent",id:"flexCheckDefault","onUpdate:modelValue":v[24]||(v[24]=m=>unref(a).attributes.compound=m)},null,512),[[vModelCheckbox,unref(a).attributes.compound]]),_hoisted_70]),createBaseVNode("div",_hoisted_71,[createBaseVNode("div",{role:"button",onClick:v[25]||(v[25]=m=>o()),class:"btn btn-primary float-end"},"Create relation")])],64)):createCommentVNode("",!0)])])):createCommentVNode("",!0)}};var RelationCreator=_export_sfc(_sfc_main$d,[["__scopeId","data-v-308aeaf0"]]);const _hoisted_1$b={key:0,class:"card"},_hoisted_2$a={class:"card-header"},_hoisted_3$9={class:"d-flex bd-highlight"},_hoisted_4$a={key:0},_hoisted_5$8={key:1,class:"float-end"},_hoisted_6$8=createBaseVNode("i",{class:"bi bi-pen",style:{"font-size":"1rem",color:"white"}},null,-1),_hoisted_7$2=[_hoisted_6$8],_hoisted_8$2={class:"card-body overflow-auto"},_hoisted_9$2=createBaseVNode("h4",{class:"card-title"},"Relations",-1),_hoisted_10$2={key:0,class:"list-group"},_hoisted_11$2=["onClick"],_hoisted_12$2=createBaseVNode("i",{class:"bi bi-arrow-right-short",style:{"font-size":"1rem",color:"blue"}},null,-1),_hoisted_13$2=createBaseVNode("i",{class:"bi bi-arrow-right-short",style:{"font-size":"1rem",color:"blue"}},null,-1),_hoisted_14$2={class:"badge bg-secondary"},_hoisted_15$1={key:1,class:"badge bg-secondary"},_hoisted_16$1=["onClick"],_hoisted_17$1=createBaseVNode("i",{class:"bi bi-arrow-right-short",style:{"font-size":"1rem",color:"blue"}},null,-1),_hoisted_18$1=createBaseVNode("i",{class:"bi bi-arrow-right-short",style:{"font-size":"1rem",color:"blue"}},null,-1),_hoisted_19={class:"badge bg-secondary"},_hoisted_20={key:1,class:"badge bg-secondary"},_hoisted_21={key:0},_hoisted_22=["onClick"],_hoisted_23={key:0,class:"float-end bi bi-node-plus-fill",style:{"font-size":"2rem",color:"cornflowerblue","margin-right":"10px","margin-top":"10px"}},_hoisted_24={class:"card-footer"},_hoisted_25={class:"btn-group",role:"group"},_hoisted_26=createBaseVNode("br",null,null,-1),_hoisted_27=createBaseVNode("i",{class:"bi bi-snow"},null,-1),_hoisted_28=[_hoisted_27],_hoisted_29={key:0},_hoisted_30={key:1,class:"card"},_hoisted_31=createBaseVNode("div",{class:"card-header"},[createBaseVNode("div",null,"KuKaKo"),createBaseVNode("h4",null,"Schema")],-1),_hoisted_32=createBaseVNode("div",{class:"card-body"},[createBaseVNode("p",null,[createBaseVNode("b",null,"Schema"),createTextVNode(" is a special graph which defines what nodes are available and how they can be linked together.")]),createBaseVNode("p",null,"Double click any node to see and edit node's relationships.")],-1),_hoisted_33=[_hoisted_31,_hoisted_32],_sfc_main$c={emits:["setGraphOptions"],setup(t,{emit:e}){const r=useRoute(),n=useRouter();reactive({result:[]});var a=reactive({result:[]});reactive({data:{}});var o=reactive({label:"",editing:!1});reactive({type:"",label:""}),reactive([]);var s=reactive({current_rel:""});onMounted(async()=>{r.query.node&&c(),a.result=await web.getSchemaLinks(r.query.node)}),watch(()=>r.query.node,async(v,m)=>{console.log("query node changed"),c(),a.result=await web.getSchemaLinks(r.query.node)}),watch(()=>store.update,async(v,m)=>{a.result=await web.getSchemaLinks(r.query.node)});function l(){return store.current().data.id=="#"+r.query.node&&store.user.access=="admin"}function u(){c(),o.editing?o.editing=!1:o.editing=!0}function c(){s.current_rel="",s.relation={data:[]}}function f(){o.label==""?o.label=store.current().data.name:o.label=""}async function d(v){n.push({name:"schema",query:{node:v.replace("#","")}})}async function g(v){await web.setNodeAttribute(store.current().data.id,{key:v,value:o.label}),o.label="",store.reload()}return(v,m)=>unref(store).current_node&&unref(store).current_node.data&&unref(store).current_node.data.type?(openBlock(),createElementBlock("div",_hoisted_1$b,[createBaseVNode("div",_hoisted_2$a,[createTextVNode(" Schema ID: "+toDisplayString(unref(store).current().data.type)+" ",1),createBaseVNode("div",_hoisted_3$9,[createBaseVNode("h4",{class:normalizeClass(["card-title","p-2","flex-grow-1",unref(store).current().data.type])},[createTextVNode(toDisplayString(unref(store).current().data.name)+" ",1),unref(o).editing?(openBlock(),createElementBlock("i",{key:0,onClick:m[0]||(m[0]=y=>f()),class:"bi bi-pen pointer",style:{"font-size":"0.9rem",color:"blue","margin-left":"10px"}})):createCommentVNode("",!0),unref(o).editing&&unref(o).label?withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":m[1]||(m[1]=y=>unref(o).label=y),onKeyup:m[2]||(m[2]=withKeys(y=>g("label"),["enter"]))},null,544)),[[vModelText,unref(o).label]]):createCommentVNode("",!0)],2),unref(o).editing?(openBlock(),createElementBlock("div",_hoisted_4$a,[createBaseVNode("div",{role:"button",onClick:m[3]||(m[3]=y=>u()),class:"btn btn-primary float-end"},"Valmis")])):l()?(openBlock(),createElementBlock("div",_hoisted_5$8,[createBaseVNode("div",{role:"button",onClick:m[4]||(m[4]=y=>unref(o).editing=!0),class:"btn btn-primary"},_hoisted_7$2)])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_8$2,[createVNode(_sfc_main$e,{editing:unref(o).editing,class:"mb-5"},null,8,["editing"]),_hoisted_9$2,unref(a).result.data?(openBlock(),createElementBlock("ol",_hoisted_10$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(a).result.data.result,y=>(openBlock(),createElementBlock("li",{class:"list-group-item d-flex justify-content-between align-items-start",key:y.type},[createBaseVNode("div",null,[y.direction=="incoming"?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",{onClick:b=>d(y.target_id),style:{"font-weight":"normal"},class:normalizeClass(["node",y.target,"pointer"])},[createBaseVNode("span",null,toDisplayString(y.label_rev),1),_hoisted_12$2,createBaseVNode("span",null,[createBaseVNode("b",null,toDisplayString(y.target),1)]),_hoisted_13$2,createTextVNode(" "+toDisplayString(y.label),1)],10,_hoisted_11$2),Array.isArray(y.tags)?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(y.tags,b=>(openBlock(),createElementBlock("span",_hoisted_14$2,toDisplayString(b),1))),256)):y.tags.trim()!="cypher.null"?(openBlock(),createElementBlock("span",_hoisted_15$1,toDisplayString(y.tags),1)):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",{onClick:b=>d(y.target_id),style:{"font-weight":"normal"},class:normalizeClass(["node",y.target,"pointer"])},[createTextVNode(toDisplayString(y.label)+" ",1),_hoisted_17$1,createBaseVNode("span",null,[createBaseVNode("b",null,toDisplayString(y.target),1)]),_hoisted_18$1,createBaseVNode("span",null,toDisplayString(y.label_rev),1)],10,_hoisted_16$1),Array.isArray(y.tags)?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(y.tags,b=>(openBlock(),createElementBlock("span",_hoisted_19,toDisplayString(b),1))),256)):y.tags.trim()!="cypher.null"?(openBlock(),createElementBlock("span",_hoisted_20,toDisplayString(y.tags),1)):createCommentVNode("",!0)],64))]),unref(o).editing?(openBlock(),createElementBlock("span",_hoisted_21,[createBaseVNode("i",{onClick:b=>unref(s).current_rel=qe({},y),class:"bi bi-pen pointer",style:{"font-size":"1rem",color:"blue","margin-left":"10px"},"data-bs-toggle":"offcanvas","data-bs-target":"#schemaRelationEditor"},null,8,_hoisted_22)])):createCommentVNode("",!0)]))),128))])):createCommentVNode("",!0),createBaseVNode("a",{onClick:m[5]||(m[5]=y=>unref(s).current_rel=""),href:"#","data-bs-toggle":"offcanvas","data-bs-target":"#schemaRelationEditor",title:"lis\xE4\xE4 liitos"},[unref(o).editing?(openBlock(),createElementBlock("i",_hoisted_23)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_24,[createBaseVNode("div",_hoisted_25,[createBaseVNode("button",{class:"btn",title:"layout cose",onClick:m[6]||(m[6]=y=>v.$emit("setGraphOptions","cose"))},"A1"),createBaseVNode("button",{class:"btn",title:"layout cola",onClick:m[7]||(m[7]=y=>v.$emit("setGraphOptions","cola"))},"A2"),createBaseVNode("button",{class:"btn",title:"layout fcose",onClick:m[8]||(m[8]=y=>v.$emit("setGraphOptions","fcose"))},"A3"),createBaseVNode("button",{class:"btn",title:"layout grid",onClick:m[9]||(m[9]=y=>v.$emit("setGraphOptions","grid"))},"grid"),createBaseVNode("button",{class:"btn",title:"oma asettelu",onClick:m[10]||(m[10]=y=>v.$emit("setGraphOptions","preset"))},"oma"),_hoisted_26,createBaseVNode("button",{onClick:m[11]||(m[11]=y=>v.$emit("saveLayout")),class:"btn btn-secondary",title:"talleta asettelu"},_hoisted_28)]),unref(store).user?(openBlock(),createElementBlock("div",_hoisted_29,toDisplayString(unref(store).user.id)+" : "+toDisplayString(unref(store).user.group)+" : "+toDisplayString(unref(store).user.access),1)):createCommentVNode("",!0)]),createVNode(RelationCreator,{editor:unref(s)},null,8,["editor"])])):(openBlock(),createElementBlock("div",_hoisted_30,_hoisted_33))}},_hoisted_1$a={class:"card"},_hoisted_2$9=createStaticVNode('<div class="card-header"><div>KuKaKo</div><h4>Navigation Graph</h4></div><div class="card-body"><p>Navigation of KuKaKo is a special graph with <b>Menus</b>, <b>Queries</b> and <b>User Groups</b>. Browse the graph on the left and you&#39;ll figure out it very quickly.</p><p><b>Queries</b> are the main tool for providing sensible navigation to users. They are written with Open Cypher.</p><p><b>Menus</b> makes queries accessible to users.</p><p><b>UserGroups</b>, on the other hand, makes menus visible to users that belong to that UserGroup. Default user group is &quot;Basic&quot;.</p><p>Relationships between navigation nodes (aka navigatioon graph) are created just like any other relationship in KuKaKo.</p><p class="alert alert-info">Double click a node in order to edit it.</p></div>',2),_hoisted_4$9=[_hoisted_2$9],_sfc_main$b={setup(t){return reactive({queries:[],current:null,groups:[]}),(e,r)=>(openBlock(),createElementBlock("div",_hoisted_1$a,_hoisted_4$9))}},_hoisted_1$9={class:"card"},_hoisted_2$8=createBaseVNode("div",{class:"card-header bg-primary text-white"},[createBaseVNode("div",null,"Kartta"),createBaseVNode("h4",null,"Sijainti")],-1),_hoisted_3$8={class:"card-body"},_hoisted_4$8=createBaseVNode("div",{class:"alert alert-info"}," Raahaa itsesi oikeaan kohtaan kartalla ja klikkaa OK. ",-1),_hoisted_5$7=createBaseVNode("div",{class:"mt-2"},"Karttaa voi raahata hiirell\xE4 ja zoomata hiiren rullalla.",-1),_hoisted_6$7={class:"btn-group float-end mt-4",role:"group","aria-label":"Basic example"},_sfc_main$a={setup(t){const e=useRouter(),r=useRoute();reactive({node:{}});async function n(){r.query.relation&&(await web.setRelationAttribute(r.query.relation,{name:"x",value:store.x}),await web.setRelationAttribute(r.query.relation,{name:"y",value:store.y}),e.go(-1))}return(a,o)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$9,[_hoisted_2$8,createBaseVNode("div",_hoisted_3$8,[_hoisted_4$8,_hoisted_5$7,createBaseVNode("div",_hoisted_6$7,[createBaseVNode("button",{onClick:o[0]||(o[0]=s=>unref(e).go(-1)),type:"button",class:"btn btn-secondary"},"peru"),createBaseVNode("button",{onClick:o[1]||(o[1]=s=>n()),type:"button",class:"btn btn-primary"},"OK")])])])]))}},_sfc_main$9={},_hoisted_1$8={class:"card"},_hoisted_2$7=createBaseVNode("div",{class:"card-header"},[createBaseVNode("div",null,"About"),createBaseVNode("h4",null,"KuKaKo")],-1),_hoisted_3$7={class:"card-body"},_hoisted_4$7=createBaseVNode("div",{class:"alert alert-success"},[createTextVNode("KuKaKo is a visual, open source tool for "),createBaseVNode("br"),createBaseVNode("b",null,"communicating (sometimes messy) connections between things"),createTextVNode("."),createBaseVNode("br"),createBaseVNode("i",{class:"bi bi-arrow-left",style:{"font-size":"1.2rem","margin-left":"10px"}}," checkout the graph! ")],-1),_hoisted_5$6={class:"accordion",id:"accordionExample"},_hoisted_6$6=createStaticVNode('<div class="accordion-item"><h2 class="accordion-header" id="headingOne"><button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne"> How KuKaKo works? </button></h2><div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample"><div class="accordion-body"><p>&quot;Things&quot; (or nodes) can be persons, www-sites, it-systems, dogs, art , mountain bikes or whatever. These <b>things can be connected with named relationship</b>. Together nodes and relationships forms a database (a graph) that can be queried, filtered and visualised many ways.</p><p>In more technical terms, KuKaKo uses directed graphs. &quot;Directed&quot; here means that every link between nodes has direction: link starts from node A and ends with node B. </p></div></div></div>',1),_hoisted_7$1={class:"accordion-item"},_hoisted_8$1=createBaseVNode("h2",{class:"accordion-header",id:"headingTwo"},[createBaseVNode("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"},' How to define what kind of "things" can be saved? ')],-1),_hoisted_9$1={id:"collapseTwo",class:"accordion-collapse collapse","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample"},_hoisted_10$1={class:"accordion-body"},_hoisted_11$1=createTextVNode(" There is a special graph in KuKaKo called "),_hoisted_12$1=createTextVNode("Schema"),_hoisted_13$1=createTextVNode('. This graph defines what type of nodes there can be (like "Person", "Team", etc,) and how they can be linked. '),_hoisted_14$1=createStaticVNode('<div class="accordion-item"><h2 class="accordion-header" id="headingThree"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree"> Tech stuff </button></h2><div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample"><div class="accordion-body"><p>KuKaKo uses <a href="https://arcadedb.com/" target="_blank">ArcadeDB</a> as graph database and <a href="https://js.cytoscape.org/" target="_blank">cytoscape.js</a> for rendering graphs. User interface is Vue 3 and backend runs on NodeJS. </p><p> KuKaKo is develop by <a href="https://osc.jyu.fi/en/" target="_blank">Open Science Centre of University of Jyv\xE4skyl\xE4</a>. </p></div></div></div>',1);function _sfc_render(t,e){const r=resolveComponent("router-link");return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$8,[_hoisted_2$7,createBaseVNode("div",_hoisted_3$7,[_hoisted_4$7,createBaseVNode("div",_hoisted_5$6,[_hoisted_6$6,createBaseVNode("div",_hoisted_7$1,[_hoisted_8$1,createBaseVNode("div",_hoisted_9$1,[createBaseVNode("div",_hoisted_10$1,[createBaseVNode("p",null,[_hoisted_11$1,createVNode(r,{to:"schema"},{default:withCtx(()=>[_hoisted_12$1]),_:1}),_hoisted_13$1])])])]),_hoisted_14$1])])])])}var AboutCard=_export_sfc(_sfc_main$9,[["render",_sfc_render]]);const getLayoutSettings=function(t){return t?layouts[t]:layouts.fcose},layouts={preset:{layout:{name:"preset",fit:!0}},grid:{layout:{name:"grid",fit:!0}},circle:{layout:{name:"circle",fit:!0}},cose:{layout:{name:"cose",spacingFactor:1.5,avoidOverlap:!0,fit:!0}},fcose:{layout:{name:"fcose",fit:!0,animate:!1,randomize:!0,idealEdgeLength:t=>120}},cola:{layout:{name:"cola",spacingFactor:1.5,rankDir:"LR",fit:!0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!0,nodeSpacing:function(t){return 30},idealEdgeLength:function(t){switch(t.data().type){case 1:return 30;case 2:case 3:return 120;case 0:default:return 45}},edgeElasticity:function(t){switch(t.data().type){case 1:return 50;case 2:case 3:return 200;case 0:default:return 100}},nestingFactor:1.2,initialTemp:1e3,coolingFactor:.99,minTemp:1,gravity:1.4}}};var cytoscapeCanvas={exports:{}};(function(t){(function(){var e=function(n){if(!!n){var a=function(s){var l=this,u=l.container(),c=document.createElement("canvas");u.appendChild(c);var f={zIndex:1,pixelRatio:"auto"},d=Object.assign({},f,s);d.pixelRatio==="auto"&&(d.pixelRatio=window.devicePixelRatio||1);function g(){var v=u.offsetWidth,m=u.offsetHeight,y=v*d.pixelRatio,b=m*d.pixelRatio;c.width=y,c.height=b,c.style.width=v+"px",c.style.height=m+"px",l.trigger("cyCanvas.resize")}return l.on("resize",function(){g()}),c.setAttribute("style","position:absolute; top:0; left:0; z-index:"+d.zIndex+";"),g(),{getCanvas:function(){return c},clear:function(m){var y=l.width(),b=l.height();m.save(),m.setTransform(1,0,0,1,0,0),m.clearRect(0,0,y*d.pixelRatio,b*d.pixelRatio),m.restore()},resetTransform:function(m){m.setTransform(1,0,0,1,0,0)},setTransform:function(m){var y=l.pan(),b=l.zoom();m.setTransform(1,0,0,1,0,0),m.translate(y.x*d.pixelRatio,y.y*d.pixelRatio),m.scale(b*d.pixelRatio,b*d.pixelRatio)}}};n("core","cyCanvas",a)}};t.exports&&(t.exports=function(r){e(r)}),typeof cytoscape!="undefined"&&e(cytoscape)})()})(cytoscapeCanvas);var cyCanvas=cytoscapeCanvas.exports,GraphDisplay_vue_vue_type_style_index_0_lang="";const _hoisted_1$7={id:"container"},_hoisted_2$6={class:"row h-100"},_hoisted_3$6=createBaseVNode("div",{class:"col-9"},[createBaseVNode("div",{id:"cy",class:"cy"})],-1),_hoisted_4$6={class:"col-3 sidebar p-0 h-100"},_sfc_main$8={props:{mode:""},setup(t){const e=t;cyCanvas(cytoscape_cjs),cytoscape_cjs.use(cola),cytoscape_cjs.use(fcose);const r=1,n=useRoute(),a=useRouter();reactive({});var o=reactive({position:{}}),s=reactive({result:[]});reactive({result:[]}),reactive({result:[]});var l=reactive({data:{}});ref(!1);let u;watch(()=>n.query,async(N,$)=>{N.node||N.type||N.tag||N.query||N.map?(console.log("GraphDisplay: route.path: "+n.path),console.log("GraphDisplay: on route.query: newValue"),N&&console.log(Object.keys(N)),console.log("GraphDisplay: on route.query: oldValue"),$&&console.log($),N.map&&$.map&&N.map==$.map||c(n,$)):console.log("Wait for route change...")}),watch(()=>store.update,async(N,$)=>{c(n,$)});async function c(N,$){var B="";if(s.result=[],N.query.node)N.query.node=="me"?(l.data=await web.getMe(),a.push({name:"graph",query:{node:l.data.rid.replace("#","")}})):(console.log("loading graph..."),s.result=await web.getGraph(`MATCH (p) WHERE id(p) = "#${N.query.node}" OPTIONAL MATCH (p)-[r]-(t) RETURN p,r,t`,N.query.node,r),store.current_node=O(N.query.node));else if(N.query.tag){var P=JSON.parse(JSON.stringify(store.tags)),k=P.find(te=>te["@rid"]=="#"+N.query.tag);if(k){var H=await web.rawQuery(`match (s)-[r]->(t) where "${k.id}" in r.tags return type(r) as rel`),G=[];for(var W of H.result)G.push(W.rel);G.length?(s.result=await web.getGraph(`MATCH  (s)-[r:${G.join("|:")}]->(t) WHERE not s:Schema return s,r,t, t.label as l`),k.layout&&(B=k.layout)):s.result.data={nodes:[],edges:[]}}}else if(N.query.type){var k=store.schemas.find(V=>V.rid=="#"+N.query.type);s.result=await web.getGraph(`MATCH (p:${k.label}) OPTIONAL MATCH (p)-[r]-(t) RETURN p,r,t`)}else if(N.query.query){var U=await web.getNodeAttributes(N.query.query);s.result=await web.getGraph(U[0].query)}else if(N.query.cluster){var X=N.query.cluster.split("__"),ee="#"+X[0],W=X[1];s.result=await web.getGraph(`MATCH (p) WHERE id(p) = "${ee}" OPTIONAL MATCH (p)-[r:${W}]-(t) RETURN p,r,t`)}else N.query.map&&(console.log("map"),s.result=await web.getGraph(`MATCH (node)-[r]-(map:QueryMap) WHERE id(map) = "#${N.query.map}" RETURN node`),store.current_node={data:{id:N.query.map,type:"QueryMap",type_label:"Kartta"}});f(B,N,$)}async function f(N,$,B){var P=getLayoutSettings(N),k=await L();if(k&&store.current_node.data&&store.current_node.data.type!=="QueryMap"&&(P=getLayoutSettings("preset"),D(k)),(!s.result.data||s.result.data.nodes&&!s.result.data.nodes.length)&&(s.result.data={},s.result.data.nodes=[{data:{id:"not found",name:"not found",type_label:"empty",type:"empty",active:!0}}]),store.current_node&&store.current_node.data&&$.query.map&&(s.result.data.edges=[],await g(),P=getLayoutSettings("preset")),document.getElementById("cy").replaceChildren(),u=cytoscape_cjs({container:document.getElementById("cy"),boxSelectionEnabled:!1,autounselectify:!0,wheelSensitivity:.2,style:store.graph_style,elements:{nodes:s.result.data.nodes,edges:s.result.data.edges},layout:P.layout}),e.mode!="about"&&(u.on("cxttap","node",async function(G){var W=G.target.data().id.replace("#",""),U=await w(W);u.add(U),R("fcose")}),u.on("dblclick","node",async function(G){console.log("**********************"),console.log(G.target.data("type")),console.log(G.keycode),G.target.data("type")=="Cluster"?a.push({name:e.mode,query:{cluster:this.id().replace("#","")}}):G.target.data("type")=="QueryMap"?a.push({name:e.mode,query:{map:this.id().replace("#","")}}):e.mode=="queries"?a.push({name:"graph",query:{node:this.id().replace("#","")}}):a.push({name:e.mode,query:{node:this.id().replace("#","")}})}),u.on("oneclick",async function(G){if(G.target.data().id){var W=G.target.data().id.replace("#","");console.log(W);var U=O(G.target.data().id);U?store.current_node=U:store.current_node={data:{id:"#"+W}}}else store.current_node=null}),u.on("dragfreeon","node",async function(G){var W=u.nodes("[id = '"+G.target.data().id+"']");o.position.x=W.position().x,o.position.y=W.position().y,store.x=W.position().x,store.y=W.position().y})),$.query.map){const G=await web.getMapData($.query.map);console.log(G),v(G),u.nodes().forEach(function(W){W.lock()}),e.mode=="maps"&&u.nodes().forEach(function(W){W.id()!="#"+$.query.focus?W.data("active",!1):W.unlock()}),B&&B.node?u.fit(u.$('node[idc="#'+B.node.replace(":","_")+'"]'),250):$.query.focus&&u.fit(u.$('node[idc="#'+$.query.focus.replace(":","_")+'"]'),250)}}function d(N){N=N.replace("#",""),u.fit(u.$('node[idc="#'+N.replace(":","_")+'"]'),250)}async function g(){var N=await web.rawQuery("MATCH (n)-[r]-(map:QueryMap) RETURN r.x as x, r.y as y, id(n) as id");console.log(N);var $=0;for(var B of s.result.data.nodes){var P=B.data.id;B.position={x:$,y:0},$=$+100;var k=!1;for(var H of N.result)H.id==P&&H.x!="  cypher.null"&&(B.position={x:H.x,y:H.y},k=!0);k||(B.style={"background-color":"red"})}}function v(N){var $=u.container();for(const P of $.children)console.log(P.tagName);const B=new Image(60,45);B.onload=m(B,N.scale),console.log(N.image),B.src="maps/"+N.image}function m(N,$){const B=u.container(),P=document.createElement("canvas");P.setAttribute("id","backgroundCanvas"),B.firstChild.appendChild(P);const H=Object.assign({},{zIndex:0,pixelRatio:"auto"});H.pixelRatio==="auto"&&(H.pixelRatio=window.devicePixelRatio||1);function G(){const U=B.offsetWidth,X=B.offsetHeight;console.log(U),console.log(X),console.log(window.devicePixelRatio);const ee=U*H.pixelRatio,te=X*H.pixelRatio;P.width=ee,P.height=te,P.style.width=`${U}px`,P.style.height=`${X}px`,u.trigger("cyCanvas.resize")}u.on("resize",()=>{G()}),P.setAttribute("style",`position:absolute; top:0; left:0; z-index:${H.zIndex};`),G();var W=P.getContext("2d");u.on("render cyCanvas.resize",function(U){b(W),y(W,H),E(W,H),W.save(),W.drawImage(N,N.width*$*-1,N.height*$*-1,N.width*$,N.height*$)})}function y(N,$){const B=u.width(),P=u.height();N.save(),N.setTransform(1,0,0,1,0,0),N.clearRect(0,0,B*$.pixelRatio,P*$.pixelRatio),N.restore()}function b(N,$){N.setTransform(1,0,0,1,0,0)}function E(N,$){const B=u.pan(),P=u.zoom();N.setTransform(1,0,0,1,0,0),N.translate(B.x*$.pixelRatio,B.y*$.pixelRatio),N.scale(P*$.pixelRatio,P*$.pixelRatio)}async function w(N){var $=await web.getGraph(`match (s)-[r]-(t) WHERE id(s) = "#${N}" RETURN s,r,t`);return $.data}async function _(){s.result=await web.getGraph('match (s:Schema) WHERE NOT s._type IN ["Menu", "Query", "UserGroup", "Tag", "NodeGroup"] return s'),f("fcose",n)}async function T(){s.result=await web.getGraph("match (s) WHERE s:Query OR s:Menu OR s:UserGroup  OPTIONAL MATCH (s)-[]-(p) OPTIONAL MATCH (p)-[]-(group) return s,p, group"),f("fcose",n)}function O(N){var $=null;N.startsWith("#")&&(N=N.replace("#",""));for(var B of s.result.data.nodes)B.data.id=="#"+N&&($=B);return $}function D(N){var $=0;for(var B of s.result.data.nodes){var P=B.data.id.replace("#","node").replace(":","_");N.positions[P]?B.position={x:N.positions[P].x,y:N.positions[P].y}:$++}return $}function x(N,$){N.positions&&u.nodes().positions(function(B,P){var k=B.id().replace("#","node").replace(":","_");if(N.positions[k])return{x:N.positions[k].x,y:N.positions[k].y}}),$.run()}async function L(){var N=n.query.node;if(n.query.query?N=n.query.query:n.query.tag?N=n.query.tag:n.query.cluster?N=n.query.cluster:e.mode=="schema"&&(N=e.mode),N){var $=await web.getLayoutByTarget(N);if($.positions)return $}return 0}async function R(N){console.log(N);const $=getLayoutSettings(N),B=u.layout($.layout);if(N==="preset"){var P=await L();x(P,B)}else B.run()}async function C(){var N={};u.nodes().forEach(function($){$.isParent()||(N[$.id()]=$.position())}),n.query.node?web.saveLayout(N,n.query.node):n.query.query?web.saveLayout(N,n.query.query):n.query.tag?web.saveLayout(N,n.query.tag):n.query.cluster?web.saveLayout(N,n.query.cluster):e.mode=="schema"&&web.saveLayout(N,e.mode)}function A(){s.result.data={nodes:[{data:{id:"cat",name:"Mirri",type:"Cat",type_label:"Kissa",active:!0}},{data:{id:"dog",name:"Musti",type:"Dog",type_label:"Koira",active:!0}},{data:{id:"bird",name:"I'm innocent little bird",type:"Bird",type_label:"Lintu",active:!0}},{data:{id:"person1",name:"Kuka Kukako",type:"Person",type_label:"Henkil\xF6",active:!0}},{data:{id:"person2",name:"Sima Kukako",type:"Person",type_label:"Henkil\xF6",active:!0}},{data:{id:"person3",name:"Joku Kukako",type:"Person",type_label:"Henkil\xF6",active:!0}},{data:{id:"db1",name:"Dog Shit database",type:"Database",type_label:"Tietokanta",active:!0}},{data:{id:"journal",name:"Shit&Fans",type:"Journal",type_label:"Lehti",active:!0}},{data:{id:"article",name:"Origin of Poo",type:"Article",type_label:"Artikkeli",active:!0}}],edges:[{data:{source:"cat",target:"bird",label:"EATS",active:!0}},{data:{source:"person1",target:"cat",label:"SORT OF OWNS",active:!0}},{data:{source:"cat",target:"person1",label:"OWNS",active:!0}},{data:{source:"person1",target:"dog",label:"OWNS",active:!0}},{data:{source:"person1",target:"dog",label:"LOVES",active:!0}},{data:{source:"person2",target:"dog",label:"IS SCARED OF",active:!0}},{data:{source:"dog",target:"cat",label:"IS SCARED OF",active:!0}},{data:{source:"person2",target:"db1",label:"UPDATES",active:!0}},{data:{source:"person2",target:"db1",label:"OWNS",active:!0}},{data:{source:"person2",target:"article",label:"IS_AUTHOR_OF",active:!0}},{data:{source:"article",target:"journal",label:"IS_PUBLISHED_IN",active:!0}},{data:{source:"person3",target:"journal",label:"PUBLISHES",active:!0}},{data:{source:"person1",target:"journal",label:"IS SUBSCRIBER",active:!0}},{data:{source:"person1",target:"person2",label:"IS FATHER OF",active:!0}}]}}async function S(){store.user||(store.user=await web.getMe()),console.log(e.mode),store.schemas.length==0&&(store.schemas=await web.getSchemas()),store.tags.length==0&&(store.tags=await web.getTags()),store.graph_style.length==0&&(store.graph_style=await web.getStyle()),!e.mode&&n.path=="/"?a.push({name:"graph",query:{}}):e.mode=="graph"?n.query.tag||n.query.node||n.query.type||n.query.query||n.query.cluster||n.query.map?c(n):(l.data=await web.getMe(),a.push({name:e.mode,query:{node:l.data.rid.replace("#","")}})):e.mode=="schema"?n.query.node?c(n):(store.current_node={},await _()):e.mode=="queries"?T():e.mode=="about"?(A(),f("fcose",n)):e.mode=="maps"&&c(n),store.queries=await web.getQueries()}return onMounted(async()=>{S()}),(N,$)=>(openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("div",_hoisted_2$6,[_hoisted_3$6,createBaseVNode("div",_hoisted_4$6,[e.mode=="graph"?(openBlock(),createBlock(_sfc_main$f,{key:0,onSetGraphOptions:R,onSaveLayout:C,onFitGraph:d,class:"h-100 w-100 position-absolute"})):createCommentVNode("",!0),e.mode=="schema"?(openBlock(),createBlock(_sfc_main$c,{key:1,onSetGraphOptions:R,onSaveLayout:C,class:"h-100 w-100 position-absolute"})):createCommentVNode("",!0),e.mode=="queries"?(openBlock(),createBlock(_sfc_main$b,{key:2,class:"h-100 w-100 position-absolute"})):createCommentVNode("",!0),e.mode=="maps"?(openBlock(),createBlock(_sfc_main$a,{key:3,class:"h-100 w-100 position-absolute"})):createCommentVNode("",!0),e.mode=="about"?(openBlock(),createBlock(AboutCard,{key:4,class:"h-100 w-100 position-absolute"})):createCommentVNode("",!0)])])]))}},_hoisted_1$6={key:0,class:"modal modal-lg fade show",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"}},_hoisted_2$5={class:"modal-dialog"},_hoisted_3$5={class:"modal-content"},_hoisted_4$5={class:"modal-header"},_hoisted_5$5={class:"modal-title",id:"exampleModalLabel"},_hoisted_6$5={key:0},_hoisted_7={key:1},_hoisted_8={class:"modal-body"},_hoisted_9=createBaseVNode("br",null,null,-1),_hoisted_10=createBaseVNode("option",{value:""},"choose type",-1),_hoisted_11=["value"],_hoisted_12={key:1},_hoisted_13=createBaseVNode("br",null,null,-1),_hoisted_14={class:"input-group mb-3"},_hoisted_15=["onUpdate:modelValue","placeholder"],_hoisted_16=["onUpdate:modelValue","placeholder"],_hoisted_17={class:"modal-footer"},_hoisted_18={key:1,class:"alert alert-danger"},_sfc_main$7={props:{mode:""},emits:["createConnection"],setup(t,{emit:e}){const r=t,n=useRouter();var a=reactive({schemas:[],current_type:"",current_schema:null,new_node:{},error:""});reactive({}),reactive([]),watch(()=>a.current_type,(u,c)=>{if(u==""){a.current_schema=null;return}a.current_schema=a.schemas.find(g=>g.type==u);var f={};for(var d in a.current_schema.schema)["@rid","@type","_type","_active"].includes(d)||(f[d]="");f.label="",f.description="",f.type=a.current_type,a.new_node=f}),watch(()=>store.new_node_type,async(u,c)=>{a.current_type=store.new_node_type});function o(u){return a.schemas.find(c=>c.type==u)}async function s(){if(a.error="",r.mode=="schema"&&(a.new_node.type="Schema"),typeof a.new_node.label!="undefined"&&a.new_node.label==""){a.error="Label is required value!";return}if(typeof a.new_node.id!="undefined"&&a.new_node.id==""){a.error="ID is required value!";return}var u=await web.createNode(a.new_node),c=u.data.result[0];r.mode=="graph"&&store.new_node_relation?(e("createConnection",c["@rid"],store.new_node_relation),l()):a.new_node.type=="Schema"?(l(),n.push({name:"schema",query:{node:c["@rid"].replace("#","")}})):(l(),n.push({name:"graph",query:{node:c["@rid"].replace("#","")}}))}function l(){store.new_node_type="",store.new_node_relation=null,store.node_creator_open=!1}return onMounted(async()=>{a.schemas=await web.getSchemas()}),(u,c)=>unref(store).node_creator_open?(openBlock(),createElementBlock("div",_hoisted_1$6,[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("div",_hoisted_3$5,[createBaseVNode("div",_hoisted_4$5,[createBaseVNode("h4",_hoisted_5$5,[unref(store).new_node_relation?(openBlock(),createElementBlock("span",_hoisted_6$5,toDisplayString(unref(store).new_node_relation.label)+" - ",1)):createCommentVNode("",!0),unref(store).new_node_type?(openBlock(),createElementBlock("span",_hoisted_7,toDisplayString(o(unref(store).new_node_type).label),1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_8,[r.mode=="schema"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(r.mode)+" ",1),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=f=>unref(a).new_node._type=f),class:"form-control",placeholder:"type","aria-label":"name","aria-describedby":"basic-addon1"},null,512),[[vModelText,unref(a).new_node._type]]),_hoisted_9,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":c[1]||(c[1]=f=>unref(a).new_node.label=f),class:"form-control",placeholder:"label","aria-label":"name","aria-describedby":"basic-addon1"},null,512),[[vModelText,unref(a).new_node.label]])],64)):(openBlock(),createElementBlock(Fragment,{key:1},[unref(store).new_node_type==""?withDirectives((openBlock(),createElementBlock("select",{key:0,"onUpdate:modelValue":c[2]||(c[2]=f=>unref(store).new_node_type=f),class:"w-100 custom-select",id:"inputGroupSelect04"},[_hoisted_10,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(a).schemas,f=>(openBlock(),createElementBlock("option",{key:f.type,value:f.type},toDisplayString(f.label),9,_hoisted_11))),128))],512)),[[vModelSelect,unref(store).new_node_type]]):createCommentVNode("",!0),unref(a).current_schema?(openBlock(),createElementBlock("div",_hoisted_12,[_hoisted_13,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(a).new_node,(f,d)=>(openBlock(),createElementBlock("div",_hoisted_14,[d=="description"?withDirectives((openBlock(),createElementBlock("textarea",{key:0,"onUpdate:modelValue":g=>unref(a).new_node[d]=g,rows:"3",cols:"30",placeholder:d,class:"form-control"},null,8,_hoisted_15)),[[vModelText,unref(a).new_node[d]]]):(openBlock(),createElementBlock(Fragment,{key:1},[d!="type"&&!d.startsWith("_")?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"text","onUpdate:modelValue":g=>unref(a).new_node[d]=g,class:"form-control",placeholder:d,"aria-label":"name","aria-describedby":"basic-addon1"},null,8,_hoisted_16)),[[vModelText,unref(a).new_node[d]]]):createCommentVNode("",!0)],64))]))),256))])):createCommentVNode("",!0)],64))]),createBaseVNode("div",_hoisted_17,[createBaseVNode("button",{onClick:c[3]||(c[3]=f=>l()),type:"button",class:"btn btn-secondary"},"Cancel"),unref(a).current_schema||r.mode=="schema"?(openBlock(),createElementBlock("button",{key:0,onClick:c[4]||(c[4]=f=>s()),type:"button",class:"btn btn-primary"},"Create")):createCommentVNode("",!0),unref(a).error?(openBlock(),createElementBlock("div",_hoisted_18,toDisplayString(unref(a).error),1)):createCommentVNode("",!0)])])])])):createCommentVNode("",!0)}},_hoisted_1$5={class:"vh-100 container-fluid m-0 p-0"},_hoisted_2$4={class:"row h-100 w-100 m-0 p-0"},_hoisted_3$4={class:"col-12 m-0 p-0"},_hoisted_4$4={class:"h-100 d-flex flex-column w-100 m-0 p-0"},_hoisted_5$4={class:"row justify-content-center m-0 p-0"},_hoisted_6$4={class:"row m-0 p-0 flex-grow-1"},_sfc_main$6={setup(t){document.title="KuKaKo-OSC";const e=useRoute();async function r(n,a){a.reverse?await web.connect(n,a.type,e.query.node):await web.connect(e.query.node,a.type,n),store.reload()}return(n,a)=>(openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$4,[createBaseVNode("div",_hoisted_3$4,[createBaseVNode("div",_hoisted_4$4,[createBaseVNode("div",_hoisted_5$4,[createVNode(JYUHeader)]),createBaseVNode("div",_hoisted_6$4,[createVNode(_sfc_main$8,{mode:"graph"}),createVNode(_sfc_main$7,{mode:"graph",onCreateConnection:r})])])])])]))}};var SchemaMain_vue_vue_type_style_index_0_scoped_true_lang="";const _hoisted_1$4={class:"vh-100 container-fluid m-0 p-0"},_hoisted_2$3={class:"row h-100 w-100 m-0 p-0"},_hoisted_3$3={class:"col-12 m-0 p-0"},_hoisted_4$3={class:"h-100 d-flex flex-column w-100 m-0 p-0"},_hoisted_5$3={class:"row justify-content-center m-0 p-0"},_hoisted_6$3={class:"row m-0 p-0 flex-grow-1"},_sfc_main$5={setup(t){return document.title="KuKaKo-OSC Schema",onMounted(()=>{console.log("Schema main")}),(e,r)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$3,[createBaseVNode("div",_hoisted_3$3,[createBaseVNode("div",_hoisted_4$3,[createBaseVNode("div",_hoisted_5$3,[createVNode(JYUHeader)]),createBaseVNode("div",_hoisted_6$3,[createVNode(_sfc_main$8,{mode:"schema"}),createVNode(_sfc_main$7,{mode:"schema"})])])])])]))}};var SchemaMain=_export_sfc(_sfc_main$5,[["__scopeId","data-v-4c104367"]]),MapMain_vue_vue_type_style_index_0_scoped_true_lang="";const _hoisted_1$3={class:"vh-100 container-fluid m-0 p-0"},_hoisted_2$2={class:"row h-100 w-100 m-0 p-0"},_hoisted_3$2={class:"col-12 m-0 p-0"},_hoisted_4$2={class:"h-100 d-flex flex-column w-100 m-0 p-0"},_hoisted_5$2={class:"row justify-content-center m-0 p-0"},_hoisted_6$2={class:"row m-0 p-0 flex-grow-1"},_sfc_main$4={setup(t){return document.title="KuKaKo-OSC Map",(e,r)=>(openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$2,[createBaseVNode("div",_hoisted_5$2,[createVNode(JYUHeader)]),createBaseVNode("div",_hoisted_6$2,[createVNode(_sfc_main$8,{mode:"maps"})])])])])]))}};var MapMain=_export_sfc(_sfc_main$4,[["__scopeId","data-v-612e06df"]]);const _sfc_main$3={setup(t){var e=reactive({repos:[]});return onMounted(async()=>{e.repos=await web.getGitlabRepos()}),(r,n)=>(openBlock(),createElementBlock("div",null,[createVNode(JYUHeader),createBaseVNode("ol",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(e).repos.data,a=>(openBlock(),createElementBlock("li",{key:a.id},toDisplayString(a.name),1))),128))])]))}},_hoisted_1$2={class:"vh-100 container-fluid m-0 p-0"},_hoisted_2$1={class:"row h-100 w-100 m-0 p-0"},_hoisted_3$1={class:"col-12 m-0 p-0"},_hoisted_4$1={class:"h-100 d-flex flex-column w-100 m-0 p-0"},_hoisted_5$1={class:"row justify-content-center m-0 p-0"},_hoisted_6$1={class:"row m-0 p-0 flex-grow-1"},_sfc_main$2={setup(t){return document.title="KuKaKo-OSC",(e,r)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,[createBaseVNode("div",_hoisted_5$1,[createVNode(JYUHeader)]),createBaseVNode("div",_hoisted_6$1,[createVNode(_sfc_main$8,{mode:"queries"}),createVNode(_sfc_main$7,{mode:"queries"})])])])])]))}},_hoisted_1$1={class:"vh-100 container-fluid m-0 p-0"},_hoisted_2={class:"row h-100 w-100 m-0 p-0"},_hoisted_3={class:"col-12 m-0 p-0"},_hoisted_4={class:"h-100 d-flex flex-column w-100 m-0 p-0"},_hoisted_5={class:"row justify-content-center m-0 p-0"},_hoisted_6={class:"row m-0 p-0 flex-grow-1"},_sfc_main$1={setup(t){return document.title="About KuKaKo",(e,r)=>{const n=resolveComponent("NodeCreator");return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createBaseVNode("div",_hoisted_5,[createVNode(JYUHeader)]),createBaseVNode("div",_hoisted_6,[createVNode(_sfc_main$8,{mode:"about"}),createVNode(n)])])])])])}}};var bootstrap_min="",bootstrapIcons="",top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(t,e){return t.concat([e+"-"+start,e+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(t,e){return t.concat([e,e+"-"+start,e+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(t){return t?(t.nodeName||"").toLowerCase():null}function getWindow(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function isElement$1(t){var e=getWindow(t).Element;return t instanceof e||t instanceof Element}function isHTMLElement(t){var e=getWindow(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function isShadowRoot(t){if(typeof ShadowRoot=="undefined")return!1;var e=getWindow(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function applyStyles(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},a=e.attributes[r]||{},o=e.elements[r];!isHTMLElement(o)||!getNodeName(o)||(Object.assign(o.style,n),Object.keys(a).forEach(function(s){var l=a[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function effect$2(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var a=e.elements[n],o=e.attributes[n]||{},s=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),l=s.reduce(function(u,c){return u[c]="",u},{});!isHTMLElement(a)||!getNodeName(a)||(Object.assign(a.style,l),Object.keys(o).forEach(function(u){a.removeAttribute(u)}))})}}var applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(t){return t.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getBoundingClientRect(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),n=1,a=1;if(isHTMLElement(t)&&e){var o=t.offsetHeight,s=t.offsetWidth;s>0&&(n=round(r.width)/s||1),o>0&&(a=round(r.height)/o||1)}return{width:r.width/n,height:r.height/a,top:r.top/a,right:r.right/n,bottom:r.bottom/a,left:r.left/n,x:r.left/n,y:r.top/a}}function getLayoutRect(t){var e=getBoundingClientRect(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function contains(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&isShadowRoot(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function getComputedStyle$1(t){return getWindow(t).getComputedStyle(t)}function isTableElement(t){return["table","td","th"].indexOf(getNodeName(t))>=0}function getDocumentElement(t){return((isElement$1(t)?t.ownerDocument:t.document)||window.document).documentElement}function getParentNode(t){return getNodeName(t)==="html"?t:t.assignedSlot||t.parentNode||(isShadowRoot(t)?t.host:null)||getDocumentElement(t)}function getTrueOffsetParent(t){return!isHTMLElement(t)||getComputedStyle$1(t).position==="fixed"?null:t.offsetParent}function getContainingBlock(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&isHTMLElement(t)){var n=getComputedStyle$1(t);if(n.position==="fixed")return null}var a=getParentNode(t);for(isShadowRoot(a)&&(a=a.host);isHTMLElement(a)&&["html","body"].indexOf(getNodeName(a))<0;){var o=getComputedStyle$1(a);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return a;a=a.parentNode}return null}function getOffsetParent(t){for(var e=getWindow(t),r=getTrueOffsetParent(t);r&&isTableElement(r)&&getComputedStyle$1(r).position==="static";)r=getTrueOffsetParent(r);return r&&(getNodeName(r)==="html"||getNodeName(r)==="body"&&getComputedStyle$1(r).position==="static")?e:r||getContainingBlock(t)||e}function getMainAxisFromPlacement(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function within(t,e,r){return max(t,min(e,r))}function withinMaxClamp(t,e,r){var n=within(t,e,r);return n>r?r:n}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(t){return Object.assign({},getFreshSideObject(),t)}function expandToHashMap(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var toPaddingObject=function t(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,mergePaddingObject(typeof e!="number"?e:expandToHashMap(e,basePlacements))};function arrow(t){var e,r=t.state,n=t.name,a=t.options,o=r.elements.arrow,s=r.modifiersData.popperOffsets,l=getBasePlacement(r.placement),u=getMainAxisFromPlacement(l),c=[left,right].indexOf(l)>=0,f=c?"height":"width";if(!(!o||!s)){var d=toPaddingObject(a.padding,r),g=getLayoutRect(o),v=u==="y"?top:left,m=u==="y"?bottom:right,y=r.rects.reference[f]+r.rects.reference[u]-s[u]-r.rects.popper[f],b=s[u]-r.rects.reference[u],E=getOffsetParent(o),w=E?u==="y"?E.clientHeight||0:E.clientWidth||0:0,_=y/2-b/2,T=d[v],O=w-g[f]-d[m],D=w/2-g[f]/2+_,x=within(T,D,O),L=u;r.modifiersData[n]=(e={},e[L]=x,e.centerOffset=x-D,e)}}function effect$1(t){var e=t.state,r=t.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||!contains(e.elements.popper,a)||(e.elements.arrow=a))}var arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(t){return t.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(t){var e=t.x,r=t.y,n=window,a=n.devicePixelRatio||1;return{x:round(e*a)/a||0,y:round(r*a)/a||0}}function mapToStyles(t){var e,r=t.popper,n=t.popperRect,a=t.placement,o=t.variation,s=t.offsets,l=t.position,u=t.gpuAcceleration,c=t.adaptive,f=t.roundOffsets,d=t.isFixed,g=s.x,v=g===void 0?0:g,m=s.y,y=m===void 0?0:m,b=typeof f=="function"?f({x:v,y}):{x:v,y};v=b.x,y=b.y;var E=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),_=left,T=top,O=window;if(c){var D=getOffsetParent(r),x="clientHeight",L="clientWidth";if(D===getWindow(r)&&(D=getDocumentElement(r),getComputedStyle$1(D).position!=="static"&&l==="absolute"&&(x="scrollHeight",L="scrollWidth")),D=D,a===top||(a===left||a===right)&&o===end){T=bottom;var R=d&&D===O&&O.visualViewport?O.visualViewport.height:D[x];y-=R-n.height,y*=u?1:-1}if(a===left||(a===top||a===bottom)&&o===end){_=right;var C=d&&D===O&&O.visualViewport?O.visualViewport.width:D[L];v-=C-n.width,v*=u?1:-1}}var A=Object.assign({position:l},c&&unsetSides),S=f===!0?roundOffsetsByDPR({x:v,y}):{x:v,y};if(v=S.x,y=S.y,u){var N;return Object.assign({},A,(N={},N[T]=w?"0":"",N[_]=E?"0":"",N.transform=(O.devicePixelRatio||1)<=1?"translate("+v+"px, "+y+"px)":"translate3d("+v+"px, "+y+"px, 0)",N))}return Object.assign({},A,(e={},e[T]=w?y+"px":"",e[_]=E?v+"px":"",e.transform="",e))}function computeStyles(t){var e=t.state,r=t.options,n=r.gpuAcceleration,a=n===void 0?!0:n,o=r.adaptive,s=o===void 0?!0:o,l=r.roundOffsets,u=l===void 0?!0:l,c={placement:getBasePlacement(e.placement),variation:getVariation(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mapToStyles(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mapToStyles(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}},passive={passive:!0};function effect(t){var e=t.state,r=t.instance,n=t.options,a=n.scroll,o=a===void 0?!0:a,s=n.resize,l=s===void 0?!0:s,u=getWindow(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(f){f.addEventListener("scroll",r.update,passive)}),l&&u.addEventListener("resize",r.update,passive),function(){o&&c.forEach(function(f){f.removeEventListener("scroll",r.update,passive)}),l&&u.removeEventListener("resize",r.update,passive)}}var eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function t(){},effect,data:{}},hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,function(e){return hash$1[e]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(t){return t.replace(/start|end/g,function(e){return hash[e]})}function getWindowScroll(t){var e=getWindow(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function getWindowScrollBarX(t){return getBoundingClientRect(getDocumentElement(t)).left+getWindowScroll(t).scrollLeft}function getViewportRect(t){var e=getWindow(t),r=getDocumentElement(t),n=e.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,l=0;return n&&(a=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,l=n.offsetTop)),{width:a,height:o,x:s+getWindowScrollBarX(t),y:l}}function getDocumentRect(t){var e,r=getDocumentElement(t),n=getWindowScroll(t),a=(e=t.ownerDocument)==null?void 0:e.body,o=max(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=max(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-n.scrollLeft+getWindowScrollBarX(t),u=-n.scrollTop;return getComputedStyle$1(a||r).direction==="rtl"&&(l+=max(r.clientWidth,a?a.clientWidth:0)-o),{width:o,height:s,x:l,y:u}}function isScrollParent(t){var e=getComputedStyle$1(t),r=e.overflow,n=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function getScrollParent(t){return["html","body","#document"].indexOf(getNodeName(t))>=0?t.ownerDocument.body:isHTMLElement(t)&&isScrollParent(t)?t:getScrollParent(getParentNode(t))}function listScrollParents(t,e){var r;e===void 0&&(e=[]);var n=getScrollParent(t),a=n===((r=t.ownerDocument)==null?void 0:r.body),o=getWindow(n),s=a?[o].concat(o.visualViewport||[],isScrollParent(n)?n:[]):n,l=e.concat(s);return a?l:l.concat(listScrollParents(getParentNode(s)))}function rectToClientRect(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function getInnerBoundingClientRect(t){var e=getBoundingClientRect(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function getClientRectFromMixedType(t,e){return e===viewport?rectToClientRect(getViewportRect(t)):isElement$1(e)?getInnerBoundingClientRect(e):rectToClientRect(getDocumentRect(getDocumentElement(t)))}function getClippingParents(t){var e=listScrollParents(getParentNode(t)),r=["absolute","fixed"].indexOf(getComputedStyle$1(t).position)>=0,n=r&&isHTMLElement(t)?getOffsetParent(t):t;return isElement$1(n)?e.filter(function(a){return isElement$1(a)&&contains(a,n)&&getNodeName(a)!=="body"}):[]}function getClippingRect(t,e,r){var n=e==="clippingParents"?getClippingParents(t):[].concat(e),a=[].concat(n,[r]),o=a[0],s=a.reduce(function(l,u){var c=getClientRectFromMixedType(t,u);return l.top=max(c.top,l.top),l.right=min(c.right,l.right),l.bottom=min(c.bottom,l.bottom),l.left=max(c.left,l.left),l},getClientRectFromMixedType(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function computeOffsets(t){var e=t.reference,r=t.element,n=t.placement,a=n?getBasePlacement(n):null,o=n?getVariation(n):null,s=e.x+e.width/2-r.width/2,l=e.y+e.height/2-r.height/2,u;switch(a){case top:u={x:s,y:e.y-r.height};break;case bottom:u={x:s,y:e.y+e.height};break;case right:u={x:e.x+e.width,y:l};break;case left:u={x:e.x-r.width,y:l};break;default:u={x:e.x,y:e.y}}var c=a?getMainAxisFromPlacement(a):null;if(c!=null){var f=c==="y"?"height":"width";switch(o){case start:u[c]=u[c]-(e[f]/2-r[f]/2);break;case end:u[c]=u[c]+(e[f]/2-r[f]/2);break}}return u}function detectOverflow(t,e){e===void 0&&(e={});var r=e,n=r.placement,a=n===void 0?t.placement:n,o=r.boundary,s=o===void 0?clippingParents:o,l=r.rootBoundary,u=l===void 0?viewport:l,c=r.elementContext,f=c===void 0?popper:c,d=r.altBoundary,g=d===void 0?!1:d,v=r.padding,m=v===void 0?0:v,y=mergePaddingObject(typeof m!="number"?m:expandToHashMap(m,basePlacements)),b=f===popper?reference:popper,E=t.rects.popper,w=t.elements[g?b:f],_=getClippingRect(isElement$1(w)?w:w.contextElement||getDocumentElement(t.elements.popper),s,u),T=getBoundingClientRect(t.elements.reference),O=computeOffsets({reference:T,element:E,strategy:"absolute",placement:a}),D=rectToClientRect(Object.assign({},E,O)),x=f===popper?D:T,L={top:_.top-x.top+y.top,bottom:x.bottom-_.bottom+y.bottom,left:_.left-x.left+y.left,right:x.right-_.right+y.right},R=t.modifiersData.offset;if(f===popper&&R){var C=R[a];Object.keys(L).forEach(function(A){var S=[right,bottom].indexOf(A)>=0?1:-1,N=[top,bottom].indexOf(A)>=0?"y":"x";L[A]+=C[N]*S})}return L}function computeAutoPlacement(t,e){e===void 0&&(e={});var r=e,n=r.placement,a=r.boundary,o=r.rootBoundary,s=r.padding,l=r.flipVariations,u=r.allowedAutoPlacements,c=u===void 0?placements:u,f=getVariation(n),d=f?l?variationPlacements:variationPlacements.filter(function(m){return getVariation(m)===f}):basePlacements,g=d.filter(function(m){return c.indexOf(m)>=0});g.length===0&&(g=d);var v=g.reduce(function(m,y){return m[y]=detectOverflow(t,{placement:y,boundary:a,rootBoundary:o,padding:s})[getBasePlacement(y)],m},{});return Object.keys(v).sort(function(m,y){return v[m]-v[y]})}function getExpandedFallbackPlacements(t){if(getBasePlacement(t)===auto)return[];var e=getOppositePlacement(t);return[getOppositeVariationPlacement(t),e,getOppositeVariationPlacement(e)]}function flip(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var a=r.mainAxis,o=a===void 0?!0:a,s=r.altAxis,l=s===void 0?!0:s,u=r.fallbackPlacements,c=r.padding,f=r.boundary,d=r.rootBoundary,g=r.altBoundary,v=r.flipVariations,m=v===void 0?!0:v,y=r.allowedAutoPlacements,b=e.options.placement,E=getBasePlacement(b),w=E===b,_=u||(w||!m?[getOppositePlacement(b)]:getExpandedFallbackPlacements(b)),T=[b].concat(_).reduce(function(te,V){return te.concat(getBasePlacement(V)===auto?computeAutoPlacement(e,{placement:V,boundary:f,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:y}):V)},[]),O=e.rects.reference,D=e.rects.popper,x=new Map,L=!0,R=T[0],C=0;C<T.length;C++){var A=T[C],S=getBasePlacement(A),N=getVariation(A)===start,$=[top,bottom].indexOf(S)>=0,B=$?"width":"height",P=detectOverflow(e,{placement:A,boundary:f,rootBoundary:d,altBoundary:g,padding:c}),k=$?N?right:left:N?bottom:top;O[B]>D[B]&&(k=getOppositePlacement(k));var H=getOppositePlacement(k),G=[];if(o&&G.push(P[S]<=0),l&&G.push(P[k]<=0,P[H]<=0),G.every(function(te){return te})){R=A,L=!1;break}x.set(A,G)}if(L)for(var W=m?3:1,U=function(V){var Y=T.find(function(F){var j=x.get(F);if(j)return j.slice(0,V).every(function(J){return J})});if(Y)return R=Y,"break"},X=W;X>0;X--){var ee=U(X);if(ee==="break")break}e.placement!==R&&(e.modifiersData[n]._skip=!0,e.placement=R,e.reset=!0)}}var flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function isAnySideFullyClipped(t){return[top,right,bottom,left].some(function(e){return t[e]>=0})}function hide(t){var e=t.state,r=t.name,n=e.rects.reference,a=e.rects.popper,o=e.modifiersData.preventOverflow,s=detectOverflow(e,{elementContext:"reference"}),l=detectOverflow(e,{altBoundary:!0}),u=getSideOffsets(s,n),c=getSideOffsets(l,a,o),f=isAnySideFullyClipped(u),d=isAnySideFullyClipped(c);e.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}var hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(t,e,r){var n=getBasePlacement(t),a=[left,top].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,s=o[0],l=o[1];return s=s||0,l=(l||0)*a,[left,right].indexOf(n)>=0?{x:l,y:s}:{x:s,y:l}}function offset(t){var e=t.state,r=t.options,n=t.name,a=r.offset,o=a===void 0?[0,0]:a,s=placements.reduce(function(f,d){return f[d]=distanceAndSkiddingToXY(d,e.rects,o),f},{}),l=s[e.placement],u=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=s}var offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(t){var e=t.state,r=t.name;e.modifiersData[r]=computeOffsets({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(t){return t==="x"?"y":"x"}function preventOverflow(t){var e=t.state,r=t.options,n=t.name,a=r.mainAxis,o=a===void 0?!0:a,s=r.altAxis,l=s===void 0?!1:s,u=r.boundary,c=r.rootBoundary,f=r.altBoundary,d=r.padding,g=r.tether,v=g===void 0?!0:g,m=r.tetherOffset,y=m===void 0?0:m,b=detectOverflow(e,{boundary:u,rootBoundary:c,padding:d,altBoundary:f}),E=getBasePlacement(e.placement),w=getVariation(e.placement),_=!w,T=getMainAxisFromPlacement(E),O=getAltAxis(T),D=e.modifiersData.popperOffsets,x=e.rects.reference,L=e.rects.popper,R=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,C=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,S={x:0,y:0};if(!!D){if(o){var N,$=T==="y"?top:left,B=T==="y"?bottom:right,P=T==="y"?"height":"width",k=D[T],H=k+b[$],G=k-b[B],W=v?-L[P]/2:0,U=w===start?x[P]:L[P],X=w===start?-L[P]:-x[P],ee=e.elements.arrow,te=v&&ee?getLayoutRect(ee):{width:0,height:0},V=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Y=V[$],F=V[B],j=within(0,x[P],te[P]),J=_?x[P]/2-W-j-Y-C.mainAxis:U-j-Y-C.mainAxis,de=_?-x[P]/2+W+j+F+C.mainAxis:X+j+F+C.mainAxis,re=e.elements.arrow&&getOffsetParent(e.elements.arrow),ve=re?T==="y"?re.clientTop||0:re.clientLeft||0:0,z=(N=A==null?void 0:A[T])!=null?N:0,I=k+J-z-ve,q=k+de-z,ie=within(v?min(H,I):H,k,v?max(G,q):G);D[T]=ie,S[T]=ie-k}if(l){var oe,ce=T==="x"?top:left,ne=T==="x"?bottom:right,ae=D[O],pe=O==="y"?"height":"width",ue=ae+b[ce],se=ae-b[ne],M=[top,left].indexOf(E)!==-1,Z=(oe=A==null?void 0:A[O])!=null?oe:0,fe=M?ue:ae-x[pe]-L[pe]-Z+C.altAxis,he=M?ae+x[pe]+L[pe]-Z-C.altAxis:se,Q=v&&M?withinMaxClamp(fe,ae,he):within(v?fe:ue,ae,v?he:se);D[O]=Q,S[O]=Q-ae}e.modifiersData[n]=S}}var preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function getNodeScroll(t){return t===getWindow(t)||!isHTMLElement(t)?getWindowScroll(t):getHTMLElementScroll(t)}function isElementScaled(t){var e=t.getBoundingClientRect(),r=round(e.width)/t.offsetWidth||1,n=round(e.height)/t.offsetHeight||1;return r!==1||n!==1}function getCompositeRect(t,e,r){r===void 0&&(r=!1);var n=isHTMLElement(e),a=isHTMLElement(e)&&isElementScaled(e),o=getDocumentElement(e),s=getBoundingClientRect(t,a),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!r)&&((getNodeName(e)!=="body"||isScrollParent(o))&&(l=getNodeScroll(e)),isHTMLElement(e)?(u=getBoundingClientRect(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=getWindowScrollBarX(o))),{x:s.left+l.scrollLeft-u.x,y:s.top+l.scrollTop-u.y,width:s.width,height:s.height}}function order(t){var e=new Map,r=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function a(o){r.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!r.has(l)){var u=e.get(l);u&&a(u)}}),n.push(o)}return t.forEach(function(o){r.has(o.name)||a(o)}),n}function orderModifiers(t){var e=order(t);return modifierPhases.reduce(function(r,n){return r.concat(e.filter(function(a){return a.phase===n}))},[])}function debounce(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function mergeByName(t){var e=t.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function popperGenerator(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,a=e.defaultOptions,o=a===void 0?DEFAULT_OPTIONS:a;return function(l,u,c){c===void 0&&(c=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,o),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},d=[],g=!1,v={state:f,setOptions:function(E){var w=typeof E=="function"?E(f.options):E;y(),f.options=Object.assign({},o,f.options,w),f.scrollParents={reference:isElement$1(l)?listScrollParents(l):l.contextElement?listScrollParents(l.contextElement):[],popper:listScrollParents(u)};var _=orderModifiers(mergeByName([].concat(n,f.options.modifiers)));return f.orderedModifiers=_.filter(function(T){return T.enabled}),m(),v.update()},forceUpdate:function(){if(!g){var E=f.elements,w=E.reference,_=E.popper;if(!!areValidElements(w,_)){f.rects={reference:getCompositeRect(w,getOffsetParent(_),f.options.strategy==="fixed"),popper:getLayoutRect(_)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(C){return f.modifiersData[C.name]=Object.assign({},C.data)});for(var T=0;T<f.orderedModifiers.length;T++){if(f.reset===!0){f.reset=!1,T=-1;continue}var O=f.orderedModifiers[T],D=O.fn,x=O.options,L=x===void 0?{}:x,R=O.name;typeof D=="function"&&(f=D({state:f,options:L,name:R,instance:v})||f)}}}},update:debounce(function(){return new Promise(function(b){v.forceUpdate(),b(f)})}),destroy:function(){y(),g=!0}};if(!areValidElements(l,u))return v;v.setOptions(c).then(function(b){!g&&c.onFirstUpdate&&c.onFirstUpdate(b)});function m(){f.orderedModifiers.forEach(function(b){var E=b.name,w=b.options,_=w===void 0?{}:w,T=b.effect;if(typeof T=="function"){var O=T({state:f,name:E,instance:v,options:_}),D=function(){};d.push(O||D)}})}function y(){d.forEach(function(b){return b()}),d=[]}return v}}var createPopper$2=popperGenerator(),defaultModifiers$1=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1],createPopper$1=popperGenerator({defaultModifiers:defaultModifiers$1}),defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),Popper=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator,detectOverflow,createPopperBase:createPopper$2,createPopper,createPopperLite:createPopper$1,top,bottom,right,left,auto,basePlacements,start,end,clippingParents,viewport,popper,reference,variationPlacements,placements,beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite,modifierPhases,applyStyles:applyStyles$1,arrow:arrow$1,computeStyles:computeStyles$1,eventListeners,flip:flip$1,hide:hide$1,offset:offset$1,popperOffsets:popperOffsets$1,preventOverflow:preventOverflow$1},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.0 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const MAX_UID=1e6,MILLISECONDS_MULTIPLIER=1e3,TRANSITION_END="transitionend",toType=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),getUID=t=>{do t+=Math.floor(Math.random()*MAX_UID);while(document.getElementById(t));return t},getSelector=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let r=t.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),e=r&&r!=="#"?r.trim():null}return e},getSelectorFromElement=t=>{const e=getSelector(t);return e&&document.querySelector(e)?e:null},getElementFromSelector=t=>{const e=getSelector(t);return e?document.querySelector(e):null},getTransitionDurationFromElement=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:r}=window.getComputedStyle(t);const n=Number.parseFloat(e),a=Number.parseFloat(r);return!n&&!a?0:(e=e.split(",")[0],r=r.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(r))*MILLISECONDS_MULTIPLIER)},triggerTransitionEnd=t=>{t.dispatchEvent(new Event(TRANSITION_END))},isElement=t=>!t||typeof t!="object"?!1:(typeof t.jquery!="undefined"&&(t=t[0]),typeof t.nodeType!="undefined"),getElement=t=>isElement(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(t):null,isVisible=t=>{if(!isElement(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",r=t.closest("details:not([open])");if(!r)return e;if(r!==t){const n=t.closest("summary");if(n&&n.parentNode!==r||n===null)return!1}return e},isDisabled=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled!="undefined"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",findShadowRoot=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?findShadowRoot(t.parentNode):null},noop=()=>{},reflow=t=>{t.offsetHeight},getjQuery=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,DOMContentLoadedCallbacks=[],onDOMContentLoaded=t=>{document.readyState==="loading"?(DOMContentLoadedCallbacks.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of DOMContentLoadedCallbacks)e()}),DOMContentLoadedCallbacks.push(t)):t()},isRTL=()=>document.documentElement.dir==="rtl",defineJQueryPlugin=t=>{onDOMContentLoaded(()=>{const e=getjQuery();if(e){const r=t.NAME,n=e.fn[r];e.fn[r]=t.jQueryInterface,e.fn[r].Constructor=t,e.fn[r].noConflict=()=>(e.fn[r]=n,t.jQueryInterface)}})},execute=t=>{typeof t=="function"&&t()},executeAfterTransition=(t,e,r=!0)=>{if(!r){execute(t);return}const n=5,a=getTransitionDurationFromElement(e)+n;let o=!1;const s=({target:l})=>{l===e&&(o=!0,e.removeEventListener(TRANSITION_END,s),execute(t))};e.addEventListener(TRANSITION_END,s),setTimeout(()=>{o||triggerTransitionEnd(e)},a)},getNextActiveElement=(t,e,r,n)=>{const a=t.length;let o=t.indexOf(e);return o===-1?!r&&n?t[a-1]:t[0]:(o+=r?1:-1,n&&(o=(o+a)%a),t[Math.max(0,Math.min(o,a-1))])},namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function makeEventUid(t,e){return e&&`${e}::${uidEvent++}`||t.uidEvent||uidEvent++}function getElementEvents(t){const e=makeEventUid(t);return t.uidEvent=e,eventRegistry[e]=eventRegistry[e]||{},eventRegistry[e]}function bootstrapHandler(t,e){return function r(n){return hydrateObj(n,{delegateTarget:t}),r.oneOff&&EventHandler.off(t,n.type,e),e.apply(t,[n])}}function bootstrapDelegationHandler(t,e,r){return function n(a){const o=t.querySelectorAll(e);for(let{target:s}=a;s&&s!==this;s=s.parentNode)for(const l of o)if(l===s)return hydrateObj(a,{delegateTarget:s}),n.oneOff&&EventHandler.off(t,a.type,e,r),r.apply(s,[a])}}function findHandler(t,e,r=null){return Object.values(t).find(n=>n.callable===e&&n.delegationSelector===r)}function normalizeParameters(t,e,r){const n=typeof e=="string",a=n?r:e||r;let o=getTypeEvent(t);return nativeEvents.has(o)||(o=t),[n,a,o]}function addHandler(t,e,r,n,a){if(typeof e!="string"||!t)return;let[o,s,l]=normalizeParameters(e,r,n);e in customEvents&&(s=(m=>function(y){if(!y.relatedTarget||y.relatedTarget!==y.delegateTarget&&!y.delegateTarget.contains(y.relatedTarget))return m.call(this,y)})(s));const u=getElementEvents(t),c=u[l]||(u[l]={}),f=findHandler(c,s,o?r:null);if(f){f.oneOff=f.oneOff&&a;return}const d=makeEventUid(s,e.replace(namespaceRegex,"")),g=o?bootstrapDelegationHandler(t,r,s):bootstrapHandler(t,s);g.delegationSelector=o?r:null,g.callable=s,g.oneOff=a,g.uidEvent=d,c[d]=g,t.addEventListener(l,g,o)}function removeHandler(t,e,r,n,a){const o=findHandler(e[r],n,a);!o||(t.removeEventListener(r,o,Boolean(a)),delete e[r][o.uidEvent])}function removeNamespacedHandlers(t,e,r,n){const a=e[r]||{};for(const o of Object.keys(a))if(o.includes(n)){const s=a[o];removeHandler(t,e,r,s.callable,s.delegationSelector)}}function getTypeEvent(t){return t=t.replace(stripNameRegex,""),customEvents[t]||t}const EventHandler={on(t,e,r,n){addHandler(t,e,r,n,!1)},one(t,e,r,n){addHandler(t,e,r,n,!0)},off(t,e,r,n){if(typeof e!="string"||!t)return;const[a,o,s]=normalizeParameters(e,r,n),l=s!==e,u=getElementEvents(t),c=u[s]||{},f=e.startsWith(".");if(typeof o!="undefined"){if(!Object.keys(c).length)return;removeHandler(t,u,s,o,a?r:null);return}if(f)for(const d of Object.keys(u))removeNamespacedHandlers(t,u,d,e.slice(1));for(const d of Object.keys(c)){const g=d.replace(stripUidRegex,"");if(!l||e.includes(g)){const v=c[d];removeHandler(t,u,s,v.callable,v.delegationSelector)}}},trigger(t,e,r){if(typeof e!="string"||!t)return null;const n=getjQuery(),a=getTypeEvent(e),o=e!==a;let s=null,l=!0,u=!0,c=!1;o&&n&&(s=n.Event(e,r),n(t).trigger(s),l=!s.isPropagationStopped(),u=!s.isImmediatePropagationStopped(),c=s.isDefaultPrevented());let f=new Event(e,{bubbles:l,cancelable:!0});return f=hydrateObj(f,r),c&&f.preventDefault(),u&&t.dispatchEvent(f),f.defaultPrevented&&s&&s.preventDefault(),f}};function hydrateObj(t,e){for(const[r,n]of Object.entries(e||{}))try{t[r]=n}catch{Object.defineProperty(t,r,{configurable:!0,get(){return n}})}return t}const elementMap=new Map,Data={set(t,e,r){elementMap.has(t)||elementMap.set(t,new Map);const n=elementMap.get(t);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,r)},get(t,e){return elementMap.has(t)&&elementMap.get(t).get(e)||null},remove(t,e){if(!elementMap.has(t))return;const r=elementMap.get(t);r.delete(e),r.size===0&&elementMap.delete(t)}};function normalizeData(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function normalizeDataKey(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Manipulator={setDataAttribute(t,e,r){t.setAttribute(`data-bs-${normalizeDataKey(e)}`,r)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${normalizeDataKey(e)}`)},getDataAttributes(t){if(!t)return{};const e={},r=Object.keys(t.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of r){let a=n.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1,a.length),e[a]=normalizeData(t.dataset[n])}return e},getDataAttribute(t,e){return normalizeData(t.getAttribute(`data-bs-${normalizeDataKey(e)}`))}};class Config{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,r){const n=isElement(r)?Manipulator.getDataAttribute(r,"config"):{};return qe(qe(qe(qe({},this.constructor.Default),typeof n=="object"?n:{}),isElement(r)?Manipulator.getDataAttributes(r):{}),typeof e=="object"?e:{})}_typeCheckConfig(e,r=this.constructor.DefaultType){for(const n of Object.keys(r)){const a=r[n],o=e[n],s=isElement(o)?"element":toType(o);if(!new RegExp(a).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${s}" but expected type "${a}".`)}}}const VERSION="5.2.0";class BaseComponent extends Config{constructor(e,r){super(),e=getElement(e),e&&(this._element=e,this._config=this._getConfig(r),Data.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,r,n=!0){executeAfterTransition(e,r,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Data.get(getElement(e),this.DATA_KEY)}static getOrCreateInstance(e,r={}){return this.getInstance(e)||new this(e,typeof r=="object"?r:null)}static get VERSION(){return VERSION}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const enableDismissTrigger=(t,e="hide")=>{const r=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;EventHandler.on(document,r,`[data-bs-dismiss="${n}"]`,function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),isDisabled(this))return;const o=getElementFromSelector(this)||this.closest(`.${n}`);t.getOrCreateInstance(o)[e]()})},NAME$f="alert",DATA_KEY$a="bs.alert",EVENT_KEY$b=`.${DATA_KEY$a}`,EVENT_CLOSE=`close${EVENT_KEY$b}`,EVENT_CLOSED=`closed${EVENT_KEY$b}`,CLASS_NAME_FADE$5="fade",CLASS_NAME_SHOW$8="show";class Alert extends BaseComponent{static get NAME(){return NAME$f}close(){if(EventHandler.trigger(this._element,EVENT_CLOSE).defaultPrevented)return;this._element.classList.remove(CLASS_NAME_SHOW$8);const r=this._element.classList.contains(CLASS_NAME_FADE$5);this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),EventHandler.trigger(this._element,EVENT_CLOSED),this.dispose()}static jQueryInterface(e){return this.each(function(){const r=Alert.getOrCreateInstance(this);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}enableDismissTrigger(Alert,"close");defineJQueryPlugin(Alert);const NAME$e="button",DATA_KEY$9="bs.button",EVENT_KEY$a=`.${DATA_KEY$9}`,DATA_API_KEY$6=".data-api",CLASS_NAME_ACTIVE$3="active",SELECTOR_DATA_TOGGLE$5='[data-bs-toggle="button"]',EVENT_CLICK_DATA_API$6=`click${EVENT_KEY$a}${DATA_API_KEY$6}`;class Button extends BaseComponent{static get NAME(){return NAME$e}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(CLASS_NAME_ACTIVE$3))}static jQueryInterface(e){return this.each(function(){const r=Button.getOrCreateInstance(this);e==="toggle"&&r[e]()})}}EventHandler.on(document,EVENT_CLICK_DATA_API$6,SELECTOR_DATA_TOGGLE$5,t=>{t.preventDefault();const e=t.target.closest(SELECTOR_DATA_TOGGLE$5);Button.getOrCreateInstance(e).toggle()});defineJQueryPlugin(Button);const SelectorEngine={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(r=>r.matches(e))},parents(t,e){const r=[];let n=t.parentNode.closest(e);for(;n;)r.push(n),n=n.parentNode.closest(e);return r},prev(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return[r];r=r.previousElementSibling}return[]},next(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return[r];r=r.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(r=>`${r}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(r=>!isDisabled(r)&&isVisible(r))}},NAME$d="swipe",EVENT_KEY$9=".bs.swipe",EVENT_TOUCHSTART=`touchstart${EVENT_KEY$9}`,EVENT_TOUCHMOVE=`touchmove${EVENT_KEY$9}`,EVENT_TOUCHEND=`touchend${EVENT_KEY$9}`,EVENT_POINTERDOWN=`pointerdown${EVENT_KEY$9}`,EVENT_POINTERUP=`pointerup${EVENT_KEY$9}`,POINTER_TYPE_TOUCH="touch",POINTER_TYPE_PEN="pen",CLASS_NAME_POINTER_EVENT="pointer-event",SWIPE_THRESHOLD=40,Default$c={endCallback:null,leftCallback:null,rightCallback:null},DefaultType$c={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Swipe extends Config{constructor(e,r){super(),this._element=e,!(!e||!Swipe.isSupported())&&(this._config=this._getConfig(r),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Default$c}static get DefaultType(){return DefaultType$c}static get NAME(){return NAME$d}dispose(){EventHandler.off(this._element,EVENT_KEY$9)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),execute(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=SWIPE_THRESHOLD)return;const r=e/this._deltaX;this._deltaX=0,r&&execute(r>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(EventHandler.on(this._element,EVENT_POINTERDOWN,e=>this._start(e)),EventHandler.on(this._element,EVENT_POINTERUP,e=>this._end(e)),this._element.classList.add(CLASS_NAME_POINTER_EVENT)):(EventHandler.on(this._element,EVENT_TOUCHSTART,e=>this._start(e)),EventHandler.on(this._element,EVENT_TOUCHMOVE,e=>this._move(e)),EventHandler.on(this._element,EVENT_TOUCHEND,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===POINTER_TYPE_PEN||e.pointerType===POINTER_TYPE_TOUCH)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const NAME$c="carousel",DATA_KEY$8="bs.carousel",EVENT_KEY$8=`.${DATA_KEY$8}`,DATA_API_KEY$5=".data-api",ARROW_LEFT_KEY$1="ArrowLeft",ARROW_RIGHT_KEY$1="ArrowRight",TOUCHEVENT_COMPAT_WAIT=500,ORDER_NEXT="next",ORDER_PREV="prev",DIRECTION_LEFT="left",DIRECTION_RIGHT="right",EVENT_SLIDE=`slide${EVENT_KEY$8}`,EVENT_SLID=`slid${EVENT_KEY$8}`,EVENT_KEYDOWN$1=`keydown${EVENT_KEY$8}`,EVENT_MOUSEENTER$1=`mouseenter${EVENT_KEY$8}`,EVENT_MOUSELEAVE$1=`mouseleave${EVENT_KEY$8}`,EVENT_DRAG_START=`dragstart${EVENT_KEY$8}`,EVENT_LOAD_DATA_API$3=`load${EVENT_KEY$8}${DATA_API_KEY$5}`,EVENT_CLICK_DATA_API$5=`click${EVENT_KEY$8}${DATA_API_KEY$5}`,CLASS_NAME_CAROUSEL="carousel",CLASS_NAME_ACTIVE$2="active",CLASS_NAME_SLIDE="slide",CLASS_NAME_END="carousel-item-end",CLASS_NAME_START="carousel-item-start",CLASS_NAME_NEXT="carousel-item-next",CLASS_NAME_PREV="carousel-item-prev",SELECTOR_ACTIVE=".active",SELECTOR_ITEM=".carousel-item",SELECTOR_ACTIVE_ITEM=SELECTOR_ACTIVE+SELECTOR_ITEM,SELECTOR_ITEM_IMG=".carousel-item img",SELECTOR_INDICATORS=".carousel-indicators",SELECTOR_DATA_SLIDE="[data-bs-slide], [data-bs-slide-to]",SELECTOR_DATA_RIDE='[data-bs-ride="carousel"]',KEY_TO_DIRECTION={[ARROW_LEFT_KEY$1]:DIRECTION_RIGHT,[ARROW_RIGHT_KEY$1]:DIRECTION_LEFT},Default$b={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},DefaultType$b={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Carousel extends BaseComponent{constructor(e,r){super(e,r),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=SelectorEngine.findOne(SELECTOR_INDICATORS,this._element),this._addEventListeners(),this._config.ride===CLASS_NAME_CAROUSEL&&this.cycle()}static get Default(){return Default$b}static get DefaultType(){return DefaultType$b}static get NAME(){return NAME$c}next(){this._slide(ORDER_NEXT)}nextWhenVisible(){!document.hidden&&isVisible(this._element)&&this.next()}prev(){this._slide(ORDER_PREV)}pause(){this._isSliding&&triggerTransitionEnd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(!!this._config.ride){if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.cycle());return}this.cycle()}}to(e){const r=this._getItems();if(e>r.length-1||e<0)return;if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const a=e>n?ORDER_NEXT:ORDER_PREV;this._slide(a,r[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&EventHandler.on(this._element,EVENT_KEYDOWN$1,e=>this._keydown(e)),this._config.pause==="hover"&&(EventHandler.on(this._element,EVENT_MOUSEENTER$1,()=>this.pause()),EventHandler.on(this._element,EVENT_MOUSELEAVE$1,()=>this._maybeEnableCycle())),this._config.touch&&Swipe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of SelectorEngine.find(SELECTOR_ITEM_IMG,this._element))EventHandler.on(n,EVENT_DRAG_START,a=>a.preventDefault());const r={leftCallback:()=>this._slide(this._directionToOrder(DIRECTION_LEFT)),rightCallback:()=>this._slide(this._directionToOrder(DIRECTION_RIGHT)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),TOUCHEVENT_COMPAT_WAIT+this._config.interval))}};this._swipeHelper=new Swipe(this._element,r)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const r=KEY_TO_DIRECTION[e.key];r&&(e.preventDefault(),this._slide(this._directionToOrder(r)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const r=SelectorEngine.findOne(SELECTOR_ACTIVE,this._indicatorsElement);r.classList.remove(CLASS_NAME_ACTIVE$2),r.removeAttribute("aria-current");const n=SelectorEngine.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(CLASS_NAME_ACTIVE$2),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const r=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=r||this._config.defaultInterval}_slide(e,r=null){if(this._isSliding)return;const n=this._getActive(),a=e===ORDER_NEXT,o=r||getNextActiveElement(this._getItems(),n,a,this._config.wrap);if(o===n)return;const s=this._getItemIndex(o),l=v=>EventHandler.trigger(this._element,v,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:s});if(l(EVENT_SLIDE).defaultPrevented||!n||!o)return;const c=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;const f=a?CLASS_NAME_START:CLASS_NAME_END,d=a?CLASS_NAME_NEXT:CLASS_NAME_PREV;o.classList.add(d),reflow(o),n.classList.add(f),o.classList.add(f);const g=()=>{o.classList.remove(f,d),o.classList.add(CLASS_NAME_ACTIVE$2),n.classList.remove(CLASS_NAME_ACTIVE$2,d,f),this._isSliding=!1,l(EVENT_SLID)};this._queueCallback(g,n,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(CLASS_NAME_SLIDE)}_getActive(){return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM,this._element)}_getItems(){return SelectorEngine.find(SELECTOR_ITEM,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return isRTL()?e===DIRECTION_LEFT?ORDER_PREV:ORDER_NEXT:e===DIRECTION_LEFT?ORDER_NEXT:ORDER_PREV}_orderToDirection(e){return isRTL()?e===ORDER_PREV?DIRECTION_LEFT:DIRECTION_RIGHT:e===ORDER_PREV?DIRECTION_RIGHT:DIRECTION_LEFT}static jQueryInterface(e){return this.each(function(){const r=Carousel.getOrCreateInstance(this,e);if(typeof e=="number"){r.to(e);return}if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$5,SELECTOR_DATA_SLIDE,function(t){const e=getElementFromSelector(this);if(!e||!e.classList.contains(CLASS_NAME_CAROUSEL))return;t.preventDefault();const r=Carousel.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){r.to(n),r._maybeEnableCycle();return}if(Manipulator.getDataAttribute(this,"slide")==="next"){r.next(),r._maybeEnableCycle();return}r.prev(),r._maybeEnableCycle()});EventHandler.on(window,EVENT_LOAD_DATA_API$3,()=>{const t=SelectorEngine.find(SELECTOR_DATA_RIDE);for(const e of t)Carousel.getOrCreateInstance(e)});defineJQueryPlugin(Carousel);const NAME$b="collapse",DATA_KEY$7="bs.collapse",EVENT_KEY$7=`.${DATA_KEY$7}`,DATA_API_KEY$4=".data-api",EVENT_SHOW$6=`show${EVENT_KEY$7}`,EVENT_SHOWN$6=`shown${EVENT_KEY$7}`,EVENT_HIDE$6=`hide${EVENT_KEY$7}`,EVENT_HIDDEN$6=`hidden${EVENT_KEY$7}`,EVENT_CLICK_DATA_API$4=`click${EVENT_KEY$7}${DATA_API_KEY$4}`,CLASS_NAME_SHOW$7="show",CLASS_NAME_COLLAPSE="collapse",CLASS_NAME_COLLAPSING="collapsing",CLASS_NAME_COLLAPSED="collapsed",CLASS_NAME_DEEPER_CHILDREN=`:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`,CLASS_NAME_HORIZONTAL="collapse-horizontal",WIDTH="width",HEIGHT="height",SELECTOR_ACTIVES=".collapse.show, .collapse.collapsing",SELECTOR_DATA_TOGGLE$4='[data-bs-toggle="collapse"]',Default$a={parent:null,toggle:!0},DefaultType$a={parent:"(null|element)",toggle:"boolean"};class Collapse extends BaseComponent{constructor(e,r){super(e,r),this._isTransitioning=!1,this._triggerArray=[];const n=SelectorEngine.find(SELECTOR_DATA_TOGGLE$4);for(const a of n){const o=getSelectorFromElement(a),s=SelectorEngine.find(o).filter(l=>l===this._element);o!==null&&s.length&&this._triggerArray.push(a)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Default$a}static get DefaultType(){return DefaultType$a}static get NAME(){return NAME$b}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(l=>l!==this._element).map(l=>Collapse.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$6).defaultPrevented)return;for(const l of e)l.hide();const n=this._getDimension();this._element.classList.remove(CLASS_NAME_COLLAPSE),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7),this._element.style[n]="",EventHandler.trigger(this._element,EVENT_SHOWN$6)},s=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(a,this._element,!0),this._element.style[n]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||EventHandler.trigger(this._element,EVENT_HIDE$6).defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,reflow(this._element),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.classList.remove(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7);for(const a of this._triggerArray){const o=getElementFromSelector(a);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE),EventHandler.trigger(this._element,EVENT_HIDDEN$6)};this._element.style[r]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(CLASS_NAME_SHOW$7)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=getElement(e.parent),e}_getDimension(){return this._element.classList.contains(CLASS_NAME_HORIZONTAL)?WIDTH:HEIGHT}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE$4);for(const r of e){const n=getElementFromSelector(r);n&&this._addAriaAndCollapsedClass([r],this._isShown(n))}}_getFirstLevelChildren(e){const r=SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN,this._config.parent);return SelectorEngine.find(e,this._config.parent).filter(n=>!r.includes(n))}_addAriaAndCollapsedClass(e,r){if(!!e.length)for(const n of e)n.classList.toggle(CLASS_NAME_COLLAPSED,!r),n.setAttribute("aria-expanded",r)}static jQueryInterface(e){const r={};return typeof e=="string"&&/show|hide/.test(e)&&(r.toggle=!1),this.each(function(){const n=Collapse.getOrCreateInstance(this,r);if(typeof e=="string"){if(typeof n[e]=="undefined")throw new TypeError(`No method named "${e}"`);n[e]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$4,SELECTOR_DATA_TOGGLE$4,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();const e=getSelectorFromElement(this),r=SelectorEngine.find(e);for(const n of r)Collapse.getOrCreateInstance(n,{toggle:!1}).toggle()});defineJQueryPlugin(Collapse);const NAME$a="dropdown",DATA_KEY$6="bs.dropdown",EVENT_KEY$6=`.${DATA_KEY$6}`,DATA_API_KEY$3=".data-api",ESCAPE_KEY$2="Escape",TAB_KEY$1="Tab",ARROW_UP_KEY$1="ArrowUp",ARROW_DOWN_KEY$1="ArrowDown",RIGHT_MOUSE_BUTTON=2,EVENT_HIDE$5=`hide${EVENT_KEY$6}`,EVENT_HIDDEN$5=`hidden${EVENT_KEY$6}`,EVENT_SHOW$5=`show${EVENT_KEY$6}`,EVENT_SHOWN$5=`shown${EVENT_KEY$6}`,EVENT_CLICK_DATA_API$3=`click${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYDOWN_DATA_API=`keydown${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYUP_DATA_API=`keyup${EVENT_KEY$6}${DATA_API_KEY$3}`,CLASS_NAME_SHOW$6="show",CLASS_NAME_DROPUP="dropup",CLASS_NAME_DROPEND="dropend",CLASS_NAME_DROPSTART="dropstart",CLASS_NAME_DROPUP_CENTER="dropup-center",CLASS_NAME_DROPDOWN_CENTER="dropdown-center",SELECTOR_DATA_TOGGLE$3='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',SELECTOR_DATA_TOGGLE_SHOWN=`${SELECTOR_DATA_TOGGLE$3}.${CLASS_NAME_SHOW$6}`,SELECTOR_MENU=".dropdown-menu",SELECTOR_NAVBAR=".navbar",SELECTOR_NAVBAR_NAV=".navbar-nav",SELECTOR_VISIBLE_ITEMS=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",PLACEMENT_TOP=isRTL()?"top-end":"top-start",PLACEMENT_TOPEND=isRTL()?"top-start":"top-end",PLACEMENT_BOTTOM=isRTL()?"bottom-end":"bottom-start",PLACEMENT_BOTTOMEND=isRTL()?"bottom-start":"bottom-end",PLACEMENT_RIGHT=isRTL()?"left-start":"right-start",PLACEMENT_LEFT=isRTL()?"right-start":"left-start",PLACEMENT_TOPCENTER="top",PLACEMENT_BOTTOMCENTER="bottom",Default$9={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},DefaultType$9={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Dropdown extends BaseComponent{constructor(e,r){super(e,r),this._popper=null,this._parent=this._element.parentNode,this._menu=SelectorEngine.findOne(SELECTOR_MENU,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Default$9}static get DefaultType(){return DefaultType$9}static get NAME(){return NAME$a}toggle(){return this._isShown()?this.hide():this.show()}show(){if(isDisabled(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!EventHandler.trigger(this._element,EVENT_SHOW$5,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(SELECTOR_NAVBAR_NAV))for(const n of[].concat(...document.body.children))EventHandler.on(n,"mouseover",noop);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(CLASS_NAME_SHOW$6),this._element.classList.add(CLASS_NAME_SHOW$6),EventHandler.trigger(this._element,EVENT_SHOWN$5,e)}}hide(){if(isDisabled(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!EventHandler.trigger(this._element,EVENT_HIDE$5,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))EventHandler.off(n,"mouseover",noop);this._popper&&this._popper.destroy(),this._menu.classList.remove(CLASS_NAME_SHOW$6),this._element.classList.remove(CLASS_NAME_SHOW$6),this._element.setAttribute("aria-expanded","false"),Manipulator.removeDataAttribute(this._menu,"popper"),EventHandler.trigger(this._element,EVENT_HIDDEN$5,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!isElement(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${NAME$a.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Popper=="undefined")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:isElement(this._config.reference)?e=getElement(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const r=this._getPopperConfig();this._popper=createPopper(e,this._menu,r)}_isShown(){return this._menu.classList.contains(CLASS_NAME_SHOW$6)}_getPlacement(){const e=this._parent;if(e.classList.contains(CLASS_NAME_DROPEND))return PLACEMENT_RIGHT;if(e.classList.contains(CLASS_NAME_DROPSTART))return PLACEMENT_LEFT;if(e.classList.contains(CLASS_NAME_DROPUP_CENTER))return PLACEMENT_TOPCENTER;if(e.classList.contains(CLASS_NAME_DROPDOWN_CENTER))return PLACEMENT_BOTTOMCENTER;const r=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(CLASS_NAME_DROPUP)?r?PLACEMENT_TOPEND:PLACEMENT_TOP:r?PLACEMENT_BOTTOMEND:PLACEMENT_BOTTOM}_detectNavbar(){return this._element.closest(SELECTOR_NAVBAR)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Manipulator.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),qe(qe({},e),typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig)}_selectMenuItem({key:e,target:r}){const n=SelectorEngine.find(SELECTOR_VISIBLE_ITEMS,this._menu).filter(a=>isVisible(a));!n.length||getNextActiveElement(n,r,e===ARROW_DOWN_KEY$1,!n.includes(r)).focus()}static jQueryInterface(e){return this.each(function(){const r=Dropdown.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]=="undefined")throw new TypeError(`No method named "${e}"`);r[e]()}})}static clearMenus(e){if(e.button===RIGHT_MOUSE_BUTTON||e.type==="keyup"&&e.key!==TAB_KEY$1)return;const r=SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN);for(const n of r){const a=Dropdown.getInstance(n);if(!a||a._config.autoClose===!1)continue;const o=e.composedPath(),s=o.includes(a._menu);if(o.includes(a._element)||a._config.autoClose==="inside"&&!s||a._config.autoClose==="outside"&&s||a._menu.contains(e.target)&&(e.type==="keyup"&&e.key===TAB_KEY$1||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:a._element};e.type==="click"&&(l.clickEvent=e),a._completeHide(l)}}static dataApiKeydownHandler(e){const r=/input|textarea/i.test(e.target.tagName),n=e.key===ESCAPE_KEY$2,a=[ARROW_UP_KEY$1,ARROW_DOWN_KEY$1].includes(e.key);if(!a&&!n||r&&!n)return;e.preventDefault();const o=SelectorEngine.findOne(SELECTOR_DATA_TOGGLE$3,e.delegateTarget.parentNode),s=Dropdown.getOrCreateInstance(o);if(a){e.stopPropagation(),s.show(),s._selectMenuItem(e);return}s._isShown()&&(e.stopPropagation(),s.hide(),o.focus())}}EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_DATA_TOGGLE$3,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_MENU,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_CLICK_DATA_API$3,Dropdown.clearMenus);EventHandler.on(document,EVENT_KEYUP_DATA_API,Dropdown.clearMenus);EventHandler.on(document,EVENT_CLICK_DATA_API$3,SELECTOR_DATA_TOGGLE$3,function(t){t.preventDefault(),Dropdown.getOrCreateInstance(this).toggle()});defineJQueryPlugin(Dropdown);const SELECTOR_FIXED_CONTENT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",SELECTOR_STICKY_CONTENT=".sticky-top",PROPERTY_PADDING="padding-right",PROPERTY_MARGIN="margin-right";class ScrollBarHelper{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,PROPERTY_PADDING,r=>r+e),this._setElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING,r=>r+e),this._setElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN,r=>r-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,r,n){const a=this.getWidth(),o=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+a)return;this._saveInitialAttribute(s,r);const l=window.getComputedStyle(s).getPropertyValue(r);s.style.setProperty(r,`${n(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,r){const n=e.style.getPropertyValue(r);n&&Manipulator.setDataAttribute(e,r,n)}_resetElementAttributes(e,r){const n=a=>{const o=Manipulator.getDataAttribute(a,r);if(o===null){a.style.removeProperty(r);return}Manipulator.removeDataAttribute(a,r),a.style.setProperty(r,o)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,r){if(isElement(e)){r(e);return}for(const n of SelectorEngine.find(e,this._element))r(n)}}const NAME$9="backdrop",CLASS_NAME_FADE$4="fade",CLASS_NAME_SHOW$5="show",EVENT_MOUSEDOWN=`mousedown.bs.${NAME$9}`,Default$8={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},DefaultType$8={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Backdrop extends Config{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Default$8}static get DefaultType(){return DefaultType$8}static get NAME(){return NAME$9}show(e){if(!this._config.isVisible){execute(e);return}this._append();const r=this._getElement();this._config.isAnimated&&reflow(r),r.classList.add(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{execute(e)})}hide(e){if(!this._config.isVisible){execute(e);return}this._getElement().classList.remove(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{this.dispose(),execute(e)})}dispose(){!this._isAppended||(EventHandler.off(this._element,EVENT_MOUSEDOWN),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(CLASS_NAME_FADE$4),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=getElement(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),EventHandler.on(e,EVENT_MOUSEDOWN,()=>{execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){executeAfterTransition(e,this._getElement(),this._config.isAnimated)}}const NAME$8="focustrap",DATA_KEY$5="bs.focustrap",EVENT_KEY$5=`.${DATA_KEY$5}`,EVENT_FOCUSIN$2=`focusin${EVENT_KEY$5}`,EVENT_KEYDOWN_TAB=`keydown.tab${EVENT_KEY$5}`,TAB_KEY="Tab",TAB_NAV_FORWARD="forward",TAB_NAV_BACKWARD="backward",Default$7={autofocus:!0,trapElement:null},DefaultType$7={autofocus:"boolean",trapElement:"element"};class FocusTrap extends Config{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Default$7}static get DefaultType(){return DefaultType$7}static get NAME(){return NAME$8}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),EventHandler.off(document,EVENT_KEY$5),EventHandler.on(document,EVENT_FOCUSIN$2,e=>this._handleFocusin(e)),EventHandler.on(document,EVENT_KEYDOWN_TAB,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,EventHandler.off(document,EVENT_KEY$5))}_handleFocusin(e){const{trapElement:r}=this._config;if(e.target===document||e.target===r||r.contains(e.target))return;const n=SelectorEngine.focusableChildren(r);n.length===0?r.focus():this._lastTabNavDirection===TAB_NAV_BACKWARD?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===TAB_KEY&&(this._lastTabNavDirection=e.shiftKey?TAB_NAV_BACKWARD:TAB_NAV_FORWARD)}}const NAME$7="modal",DATA_KEY$4="bs.modal",EVENT_KEY$4=`.${DATA_KEY$4}`,DATA_API_KEY$2=".data-api",ESCAPE_KEY$1="Escape",EVENT_HIDE$4=`hide${EVENT_KEY$4}`,EVENT_HIDE_PREVENTED$1=`hidePrevented${EVENT_KEY$4}`,EVENT_HIDDEN$4=`hidden${EVENT_KEY$4}`,EVENT_SHOW$4=`show${EVENT_KEY$4}`,EVENT_SHOWN$4=`shown${EVENT_KEY$4}`,EVENT_RESIZE$1=`resize${EVENT_KEY$4}`,EVENT_MOUSEDOWN_DISMISS=`mousedown.dismiss${EVENT_KEY$4}`,EVENT_KEYDOWN_DISMISS$1=`keydown.dismiss${EVENT_KEY$4}`,EVENT_CLICK_DATA_API$2=`click${EVENT_KEY$4}${DATA_API_KEY$2}`,CLASS_NAME_OPEN="modal-open",CLASS_NAME_FADE$3="fade",CLASS_NAME_SHOW$4="show",CLASS_NAME_STATIC="modal-static",OPEN_SELECTOR$1=".modal.show",SELECTOR_DIALOG=".modal-dialog",SELECTOR_MODAL_BODY=".modal-body",SELECTOR_DATA_TOGGLE$2='[data-bs-toggle="modal"]',Default$6={backdrop:!0,focus:!0,keyboard:!0},DefaultType$6={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Modal extends BaseComponent{constructor(e,r){super(e,r),this._dialog=SelectorEngine.findOne(SELECTOR_DIALOG,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ScrollBarHelper,this._addEventListeners()}static get Default(){return Default$6}static get DefaultType(){return DefaultType$6}static get NAME(){return NAME$7}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$4,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(CLASS_NAME_OPEN),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_HIDE$4).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(CLASS_NAME_SHOW$4),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])EventHandler.off(e,EVENT_KEY$4);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Backdrop({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const r=SelectorEngine.findOne(SELECTOR_MODAL_BODY,this._dialog);r&&(r.scrollTop=0),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW$4);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,EventHandler.trigger(this._element,EVENT_SHOWN$4,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS$1,e=>{if(e.key===ESCAPE_KEY$1){if(this._config.keyboard){e.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),EventHandler.on(window,EVENT_RESIZE$1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),EventHandler.on(this._element,EVENT_MOUSEDOWN_DISMISS,e=>{if(e.target===e.currentTarget){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(CLASS_NAME_OPEN),this._resetAdjustments(),this._scrollBar.reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$4)})}_isAnimated(){return this._element.classList.contains(CLASS_NAME_FADE$3)}_triggerBackdropTransition(){if(EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED$1).defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(CLASS_NAME_STATIC)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.classList.remove(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,r=this._scrollBar.getWidth(),n=r>0;if(n&&!e){const a=isRTL()?"paddingLeft":"paddingRight";this._element.style[a]=`${r}px`}if(!n&&e){const a=isRTL()?"paddingRight":"paddingLeft";this._element.style[a]=`${r}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,r){return this.each(function(){const n=Modal.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]=="undefined")throw new TypeError(`No method named "${e}"`);n[e](r)}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$2,SELECTOR_DATA_TOGGLE$2,function(t){const e=getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),EventHandler.one(e,EVENT_SHOW$4,a=>{a.defaultPrevented||EventHandler.one(e,EVENT_HIDDEN$4,()=>{isVisible(this)&&this.focus()})});const r=SelectorEngine.findOne(OPEN_SELECTOR$1);r&&Modal.getInstance(r).hide(),Modal.getOrCreateInstance(e).toggle(this)});enableDismissTrigger(Modal);defineJQueryPlugin(Modal);const NAME$6="offcanvas",DATA_KEY$3="bs.offcanvas",EVENT_KEY$3=`.${DATA_KEY$3}`,DATA_API_KEY$1=".data-api",EVENT_LOAD_DATA_API$2=`load${EVENT_KEY$3}${DATA_API_KEY$1}`,ESCAPE_KEY="Escape",CLASS_NAME_SHOW$3="show",CLASS_NAME_SHOWING$1="showing",CLASS_NAME_HIDING="hiding",CLASS_NAME_BACKDROP="offcanvas-backdrop",OPEN_SELECTOR=".offcanvas.show",EVENT_SHOW$3=`show${EVENT_KEY$3}`,EVENT_SHOWN$3=`shown${EVENT_KEY$3}`,EVENT_HIDE$3=`hide${EVENT_KEY$3}`,EVENT_HIDE_PREVENTED=`hidePrevented${EVENT_KEY$3}`,EVENT_HIDDEN$3=`hidden${EVENT_KEY$3}`,EVENT_RESIZE=`resize${EVENT_KEY$3}`,EVENT_CLICK_DATA_API$1=`click${EVENT_KEY$3}${DATA_API_KEY$1}`,EVENT_KEYDOWN_DISMISS=`keydown.dismiss${EVENT_KEY$3}`,SELECTOR_DATA_TOGGLE$1='[data-bs-toggle="offcanvas"]',Default$5={backdrop:!0,keyboard:!0,scroll:!1},DefaultType$5={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Offcanvas extends BaseComponent{constructor(e,r){super(e,r),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Default$5}static get DefaultType(){return DefaultType$5}static get NAME(){return NAME$6}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||EventHandler.trigger(this._element,EVENT_SHOW$3,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ScrollBarHelper().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(CLASS_NAME_SHOWING$1);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(CLASS_NAME_SHOW$3),this._element.classList.remove(CLASS_NAME_SHOWING$1),EventHandler.trigger(this._element,EVENT_SHOWN$3,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||EventHandler.trigger(this._element,EVENT_HIDE$3).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(CLASS_NAME_HIDING),this._backdrop.hide();const r=()=>{this._element.classList.remove(CLASS_NAME_SHOW$3,CLASS_NAME_HIDING),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ScrollBarHelper().reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$3)};this._queueCallback(r,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED);return}this.hide()},r=Boolean(this._config.backdrop);return new Backdrop({className:CLASS_NAME_BACKDROP,isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?e:null})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS,e=>{if(e.key===ESCAPE_KEY){if(!this._config.keyboard){EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED);return}this.hide()}})}static jQueryInterface(e){return this.each(function(){const r=Offcanvas.getOrCreateInstance(this,e);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$1,SELECTOR_DATA_TOGGLE$1,function(t){const e=getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),isDisabled(this))return;EventHandler.one(e,EVENT_HIDDEN$3,()=>{isVisible(this)&&this.focus()});const r=SelectorEngine.findOne(OPEN_SELECTOR);r&&r!==e&&Offcanvas.getInstance(r).hide(),Offcanvas.getOrCreateInstance(e).toggle(this)});EventHandler.on(window,EVENT_LOAD_DATA_API$2,()=>{for(const t of SelectorEngine.find(OPEN_SELECTOR))Offcanvas.getOrCreateInstance(t).show()});EventHandler.on(window,EVENT_RESIZE,()=>{for(const t of SelectorEngine.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Offcanvas.getOrCreateInstance(t).hide()});enableDismissTrigger(Offcanvas);defineJQueryPlugin(Offcanvas);const uriAttributes=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ARIA_ATTRIBUTE_PATTERN=/^aria-[\w-]*$/i,SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,DATA_URL_PATTERN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,allowedAttribute=(t,e)=>{const r=t.nodeName.toLowerCase();return e.includes(r)?uriAttributes.has(r)?Boolean(SAFE_URL_PATTERN.test(t.nodeValue)||DATA_URL_PATTERN.test(t.nodeValue)):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(r))},DefaultAllowlist={"*":["class","dir","id","lang","role",ARIA_ATTRIBUTE_PATTERN],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function sanitizeHtml(t,e,r){if(!t.length)return t;if(r&&typeof r=="function")return r(t);const a=new window.DOMParser().parseFromString(t,"text/html"),o=[].concat(...a.body.querySelectorAll("*"));for(const s of o){const l=s.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){s.remove();continue}const u=[].concat(...s.attributes),c=[].concat(e["*"]||[],e[l]||[]);for(const f of u)allowedAttribute(f,c)||s.removeAttribute(f.nodeName)}return a.body.innerHTML}const NAME$5="TemplateFactory",Default$4={allowList:DefaultAllowlist,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},DefaultType$4={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},DefaultContentType={entry:"(string|element|function|null)",selector:"(string|element)"};class TemplateFactory extends Config{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Default$4}static get DefaultType(){return DefaultType$4}static get NAME(){return NAME$5}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content=qe(qe({},this._config.content),e),this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[a,o]of Object.entries(this._config.content))this._setContent(e,o,a);const r=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&r.classList.add(...n.split(" ")),r}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[r,n]of Object.entries(e))super._typeCheckConfig({selector:r,entry:n},DefaultContentType)}_setContent(e,r,n){const a=SelectorEngine.findOne(n,e);if(!!a){if(r=this._resolvePossibleFunction(r),!r){a.remove();return}if(isElement(r)){this._putElementInTemplate(getElement(r),a);return}if(this._config.html){a.innerHTML=this._maybeSanitize(r);return}a.textContent=r}}_maybeSanitize(e){return this._config.sanitize?sanitizeHtml(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return typeof e=="function"?e(this):e}_putElementInTemplate(e,r){if(this._config.html){r.innerHTML="",r.append(e);return}r.textContent=e.textContent}}const NAME$4="tooltip",DISALLOWED_ATTRIBUTES=new Set(["sanitize","allowList","sanitizeFn"]),CLASS_NAME_FADE$2="fade",CLASS_NAME_MODAL="modal",CLASS_NAME_SHOW$2="show",SELECTOR_TOOLTIP_INNER=".tooltip-inner",SELECTOR_MODAL=`.${CLASS_NAME_MODAL}`,EVENT_MODAL_HIDE="hide.bs.modal",TRIGGER_HOVER="hover",TRIGGER_FOCUS="focus",TRIGGER_CLICK="click",TRIGGER_MANUAL="manual",EVENT_HIDE$2="hide",EVENT_HIDDEN$2="hidden",EVENT_SHOW$2="show",EVENT_SHOWN$2="shown",EVENT_INSERTED="inserted",EVENT_CLICK$1="click",EVENT_FOCUSIN$1="focusin",EVENT_FOCUSOUT$1="focusout",EVENT_MOUSEENTER="mouseenter",EVENT_MOUSELEAVE="mouseleave",AttachmentMap={AUTO:"auto",TOP:"top",RIGHT:isRTL()?"left":"right",BOTTOM:"bottom",LEFT:isRTL()?"right":"left"},Default$3={allowList:DefaultAllowlist,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},DefaultType$3={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Tooltip extends BaseComponent{constructor(e,r){if(typeof Popper=="undefined")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,r),this._isEnabled=!0,this._timeout=0,this._isHovered=!1,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners()}static get Default(){return Default$3}static get DefaultType(){return DefaultType$3}static get NAME(){return NAME$4}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(!!this._isEnabled){if(e){const r=this._initializeOnDelegatedTarget(e);r._activeTrigger.click=!r._activeTrigger.click,r._isWithActiveTrigger()?r._enter():r._leave();return}if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),EventHandler.off(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOW$2)),n=(findShadowRoot(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this.tip&&(this.tip.remove(),this.tip=null);const a=this._getTipElement();this._element.setAttribute("aria-describedby",a.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(a),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_INSERTED))),this._popper?this._popper.update():this._popper=this._createPopper(a),a.classList.add(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))EventHandler.on(l,"mouseover",noop);const s=()=>{const l=this._isHovered;this._isHovered=!1,EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOWN$2)),l&&this._leave()};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDE$2)).defaultPrevented)return;const r=this._getTipElement();if(r.classList.remove(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))EventHandler.off(a,"mouseover",noop);this._activeTrigger[TRIGGER_CLICK]=!1,this._activeTrigger[TRIGGER_FOCUS]=!1,this._activeTrigger[TRIGGER_HOVER]=!1,this._isHovered=!1;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||r.remove(),this._element.removeAttribute("aria-describedby"),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDDEN$2)),this._disposePopper())};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const r=this._getTemplateFactory(e).toHtml();if(!r)return null;r.classList.remove(CLASS_NAME_FADE$2,CLASS_NAME_SHOW$2),r.classList.add(`bs-${this.constructor.NAME}-auto`);const n=getUID(this.constructor.NAME).toString();return r.setAttribute("id",n),this._isAnimated()&&r.classList.add(CLASS_NAME_FADE$2),r}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new TemplateFactory(ut(qe({},this._config),{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{[SELECTOR_TOOLTIP_INNER]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._config.originalTitle}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(CLASS_NAME_FADE$2)}_isShown(){return this.tip&&this.tip.classList.contains(CLASS_NAME_SHOW$2)}_createPopper(e){const r=typeof this._config.placement=="function"?this._config.placement.call(this,e,this._element):this._config.placement,n=AttachmentMap[r.toUpperCase()];return createPopper(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){const r={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return qe(qe({},r),typeof this._config.popperConfig=="function"?this._config.popperConfig(r):this._config.popperConfig)}_setListeners(){const e=this._config.trigger.split(" ");for(const r of e)if(r==="click")EventHandler.on(this._element,this.constructor.eventName(EVENT_CLICK$1),this._config.selector,n=>this.toggle(n));else if(r!==TRIGGER_MANUAL){const n=r===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSEENTER):this.constructor.eventName(EVENT_FOCUSIN$1),a=r===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSELEAVE):this.constructor.eventName(EVENT_FOCUSOUT$1);EventHandler.on(this._element,n,this._config.selector,o=>{const s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusin"?TRIGGER_FOCUS:TRIGGER_HOVER]=!0,s._enter()}),EventHandler.on(this._element,a,this._config.selector,o=>{const s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusout"?TRIGGER_FOCUS:TRIGGER_HOVER]=s._element.contains(o.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},EventHandler.on(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler),this._config.selector?this._config=ut(qe({},this._config),{trigger:"manual",selector:""}):this._fixTitle()}_fixTitle(){const e=this._config.originalTitle;!e||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,r){clearTimeout(this._timeout),this._timeout=setTimeout(e,r)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const r=Manipulator.getDataAttributes(this._element);for(const n of Object.keys(r))DISALLOWED_ATTRIBUTES.has(n)&&delete r[n];return e=qe(qe({},r),typeof e=="object"&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:getElement(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),e.originalTitle=this._element.getAttribute("title")||"",typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const r in this._config)this.constructor.Default[r]!==this._config[r]&&(e[r]=this._config[r]);return e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each(function(){const r=Tooltip.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]=="undefined")throw new TypeError(`No method named "${e}"`);r[e]()}})}}defineJQueryPlugin(Tooltip);const NAME$3="popover",SELECTOR_TITLE=".popover-header",SELECTOR_CONTENT=".popover-body",Default$2=ut(qe({},Tooltip.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),DefaultType$2=ut(qe({},Tooltip.DefaultType),{content:"(null|string|element|function)"});class Popover extends Tooltip{static get Default(){return Default$2}static get DefaultType(){return DefaultType$2}static get NAME(){return NAME$3}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[SELECTOR_TITLE]:this._getTitle(),[SELECTOR_CONTENT]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const r=Popover.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]=="undefined")throw new TypeError(`No method named "${e}"`);r[e]()}})}}defineJQueryPlugin(Popover);const NAME$2="scrollspy",DATA_KEY$2="bs.scrollspy",EVENT_KEY$2=`.${DATA_KEY$2}`,DATA_API_KEY=".data-api",EVENT_ACTIVATE=`activate${EVENT_KEY$2}`,EVENT_CLICK=`click${EVENT_KEY$2}`,EVENT_LOAD_DATA_API$1=`load${EVENT_KEY$2}${DATA_API_KEY}`,CLASS_NAME_DROPDOWN_ITEM="dropdown-item",CLASS_NAME_ACTIVE$1="active",SELECTOR_DATA_SPY='[data-bs-spy="scroll"]',SELECTOR_TARGET_LINKS="[href]",SELECTOR_NAV_LIST_GROUP=".nav, .list-group",SELECTOR_NAV_LINKS=".nav-link",SELECTOR_NAV_ITEMS=".nav-item",SELECTOR_LIST_ITEMS=".list-group-item",SELECTOR_LINK_ITEMS=`${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`,SELECTOR_DROPDOWN=".dropdown",SELECTOR_DROPDOWN_TOGGLE$1=".dropdown-toggle",Default$1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null},DefaultType$1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element"};class ScrollSpy extends BaseComponent{constructor(e,r){super(e,r),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Default$1}static get DefaultType(){return DefaultType$1}static get NAME(){return NAME$2}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=getElement(e.target)||document.body,e}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(EventHandler.off(this._config.target,EVENT_CLICK),EventHandler.on(this._config.target,EVENT_CLICK,SELECTOR_TARGET_LINKS,e=>{const r=this._observableSections.get(e.target.hash);if(r){e.preventDefault();const n=this._rootElement||window,a=r.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:a,behavior:"smooth"});return}n.scrollTop=a}}))}_getNewObserver(){const e={root:this._rootElement,threshold:[.1,.5,1],rootMargin:this._getRootMargin()};return new IntersectionObserver(r=>this._observerCallback(r),e)}_observerCallback(e){const r=s=>this._targetLinks.get(`#${s.target.id}`),n=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(r(s))},a=(this._rootElement||document.documentElement).scrollTop,o=a>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=a;for(const s of e){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(r(s));continue}const l=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&l){if(n(s),!a)return;continue}!o&&!l&&n(s)}}_getRootMargin(){return this._config.offset?`${this._config.offset}px 0px -30%`:this._config.rootMargin}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=SelectorEngine.find(SELECTOR_TARGET_LINKS,this._config.target);for(const r of e){if(!r.hash||isDisabled(r))continue;const n=SelectorEngine.findOne(r.hash,this._element);isVisible(n)&&(this._targetLinks.set(r.hash,r),this._observableSections.set(r.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(CLASS_NAME_ACTIVE$1),this._activateParents(e),EventHandler.trigger(this._element,EVENT_ACTIVATE,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(CLASS_NAME_DROPDOWN_ITEM)){SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE$1,e.closest(SELECTOR_DROPDOWN)).classList.add(CLASS_NAME_ACTIVE$1);return}for(const r of SelectorEngine.parents(e,SELECTOR_NAV_LIST_GROUP))for(const n of SelectorEngine.prev(r,SELECTOR_LINK_ITEMS))n.classList.add(CLASS_NAME_ACTIVE$1)}_clearActiveClass(e){e.classList.remove(CLASS_NAME_ACTIVE$1);const r=SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE$1}`,e);for(const n of r)n.classList.remove(CLASS_NAME_ACTIVE$1)}static jQueryInterface(e){return this.each(function(){const r=ScrollSpy.getOrCreateInstance(this,e);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}EventHandler.on(window,EVENT_LOAD_DATA_API$1,()=>{for(const t of SelectorEngine.find(SELECTOR_DATA_SPY))ScrollSpy.getOrCreateInstance(t)});defineJQueryPlugin(ScrollSpy);const NAME$1="tab",DATA_KEY$1="bs.tab",EVENT_KEY$1=`.${DATA_KEY$1}`,EVENT_HIDE$1=`hide${EVENT_KEY$1}`,EVENT_HIDDEN$1=`hidden${EVENT_KEY$1}`,EVENT_SHOW$1=`show${EVENT_KEY$1}`,EVENT_SHOWN$1=`shown${EVENT_KEY$1}`,EVENT_CLICK_DATA_API=`click${EVENT_KEY$1}`,EVENT_KEYDOWN=`keydown${EVENT_KEY$1}`,EVENT_LOAD_DATA_API=`load${EVENT_KEY$1}`,ARROW_LEFT_KEY="ArrowLeft",ARROW_RIGHT_KEY="ArrowRight",ARROW_UP_KEY="ArrowUp",ARROW_DOWN_KEY="ArrowDown",CLASS_NAME_ACTIVE="active",CLASS_NAME_FADE$1="fade",CLASS_NAME_SHOW$1="show",CLASS_DROPDOWN="dropdown",SELECTOR_DROPDOWN_TOGGLE=".dropdown-toggle",SELECTOR_DROPDOWN_MENU=".dropdown-menu",SELECTOR_DROPDOWN_ITEM=".dropdown-item",NOT_SELECTOR_DROPDOWN_TOGGLE=":not(.dropdown-toggle)",SELECTOR_TAB_PANEL='.list-group, .nav, [role="tablist"]',SELECTOR_OUTER=".nav-item, .list-group-item",SELECTOR_INNER=`.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role="tab"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`,SELECTOR_DATA_TOGGLE='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',SELECTOR_INNER_ELEM=`${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`,SELECTOR_DATA_TOGGLE_ACTIVE=`.${CLASS_NAME_ACTIVE}[data-bs-toggle="tab"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="pill"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="list"]`;class Tab extends BaseComponent{constructor(e){super(e),this._parent=this._element.closest(SELECTOR_TAB_PANEL),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),EventHandler.on(this._element,EVENT_KEYDOWN,r=>this._keydown(r)))}static get NAME(){return NAME$1}show(){const e=this._element;if(this._elemIsActive(e))return;const r=this._getActiveElem(),n=r?EventHandler.trigger(r,EVENT_HIDE$1,{relatedTarget:e}):null;EventHandler.trigger(e,EVENT_SHOW$1,{relatedTarget:r}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(r,e),this._activate(e,r))}_activate(e,r){if(!e)return;e.classList.add(CLASS_NAME_ACTIVE),this._activate(getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(CLASS_NAME_SHOW$1);return}e.focus(),e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),EventHandler.trigger(e,EVENT_SHOWN$1,{relatedTarget:r})};this._queueCallback(n,e,e.classList.contains(CLASS_NAME_FADE$1))}_deactivate(e,r){if(!e)return;e.classList.remove(CLASS_NAME_ACTIVE),e.blur(),this._deactivate(getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(CLASS_NAME_SHOW$1);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),EventHandler.trigger(e,EVENT_HIDDEN$1,{relatedTarget:r})};this._queueCallback(n,e,e.classList.contains(CLASS_NAME_FADE$1))}_keydown(e){if(![ARROW_LEFT_KEY,ARROW_RIGHT_KEY,ARROW_UP_KEY,ARROW_DOWN_KEY].includes(e.key))return;e.stopPropagation(),e.preventDefault();const r=[ARROW_RIGHT_KEY,ARROW_DOWN_KEY].includes(e.key),n=getNextActiveElement(this._getChildren().filter(a=>!isDisabled(a)),e.target,r,!0);n&&Tab.getOrCreateInstance(n).show()}_getChildren(){return SelectorEngine.find(SELECTOR_INNER_ELEM,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,r){this._setAttributeIfNotExists(e,"role","tablist");for(const n of r)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const r=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",r),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),r||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const r=getElementFromSelector(e);!r||(this._setAttributeIfNotExists(r,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(r,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,r){const n=this._getOuterElement(e);if(!n.classList.contains(CLASS_DROPDOWN))return;const a=(o,s)=>{const l=SelectorEngine.findOne(o,n);l&&l.classList.toggle(s,r)};a(SELECTOR_DROPDOWN_TOGGLE,CLASS_NAME_ACTIVE),a(SELECTOR_DROPDOWN_MENU,CLASS_NAME_SHOW$1),a(SELECTOR_DROPDOWN_ITEM,CLASS_NAME_ACTIVE),n.setAttribute("aria-expanded",r)}_setAttributeIfNotExists(e,r,n){e.hasAttribute(r)||e.setAttribute(r,n)}_elemIsActive(e){return e.classList.contains(CLASS_NAME_ACTIVE)}_getInnerElement(e){return e.matches(SELECTOR_INNER_ELEM)?e:SelectorEngine.findOne(SELECTOR_INNER_ELEM,e)}_getOuterElement(e){return e.closest(SELECTOR_OUTER)||e}static jQueryInterface(e){return this.each(function(){const r=Tab.getOrCreateInstance(this);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!isDisabled(this)&&Tab.getOrCreateInstance(this).show()});EventHandler.on(window,EVENT_LOAD_DATA_API,()=>{for(const t of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE))Tab.getOrCreateInstance(t)});defineJQueryPlugin(Tab);const NAME="toast",DATA_KEY="bs.toast",EVENT_KEY=`.${DATA_KEY}`,EVENT_MOUSEOVER=`mouseover${EVENT_KEY}`,EVENT_MOUSEOUT=`mouseout${EVENT_KEY}`,EVENT_FOCUSIN=`focusin${EVENT_KEY}`,EVENT_FOCUSOUT=`focusout${EVENT_KEY}`,EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,CLASS_NAME_FADE="fade",CLASS_NAME_HIDE="hide",CLASS_NAME_SHOW="show",CLASS_NAME_SHOWING="showing",DefaultType={animation:"boolean",autohide:"boolean",delay:"number"},Default={animation:!0,autohide:!0,delay:5e3};class Toast extends BaseComponent{constructor(e,r){super(e,r),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}show(){if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(CLASS_NAME_FADE);const r=()=>{this._element.classList.remove(CLASS_NAME_SHOWING),EventHandler.trigger(this._element,EVENT_SHOWN),this._maybeScheduleHide()};this._element.classList.remove(CLASS_NAME_HIDE),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW,CLASS_NAME_SHOWING),this._queueCallback(r,this._element,this._config.animation)}hide(){if(!this.isShown()||EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const r=()=>{this._element.classList.add(CLASS_NAME_HIDE),this._element.classList.remove(CLASS_NAME_SHOWING,CLASS_NAME_SHOW),EventHandler.trigger(this._element,EVENT_HIDDEN)};this._element.classList.add(CLASS_NAME_SHOWING),this._queueCallback(r,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(CLASS_NAME_SHOW),super.dispose()}isShown(){return this._element.classList.contains(CLASS_NAME_SHOW)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(e,r){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=r;break;case"focusin":case"focusout":this._hasKeyboardInteraction=r;break}if(r){this._clearTimeout();return}const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){EventHandler.on(this._element,EVENT_MOUSEOVER,e=>this._onInteraction(e,!0)),EventHandler.on(this._element,EVENT_MOUSEOUT,e=>this._onInteraction(e,!1)),EventHandler.on(this._element,EVENT_FOCUSIN,e=>this._onInteraction(e,!0)),EventHandler.on(this._element,EVENT_FOCUSOUT,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const r=Toast.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]=="undefined")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}enableDismissTrigger(Toast);defineJQueryPlugin(Toast);var App_vue_vue_type_style_index_0_lang="";const _hoisted_1={id:"app"},_sfc_main={setup(t){return(e,r)=>{const n=resolveComponent("router-view");return openBlock(),createElementBlock("div",_hoisted_1,[createVNode(n,{class:"view"})])}}};let history$1="";window.location.hostname=="localhost"?history$1="":history$1="/s/kukako/api";const router=createRouter({history:createWebHistory(history$1),routes:[{path:"/",name:"Home",component:_sfc_main$6},{path:"/graph",name:"graph",component:_sfc_main$6},{path:"/maps",name:"maps",component:MapMain},{path:"/schema",name:"schema",component:SchemaMain},{path:"/queries",name:"queries",component:_sfc_main$2},{path:"/repositories",name:"repositories",component:_sfc_main$3},{path:"/about",name:"about",component:_sfc_main$1}]}),app=createApp(_sfc_main);app.use(router);app.mount("#app");
